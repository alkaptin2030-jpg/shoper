function m8(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Tl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VP={exports:{}},iy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8=Symbol.for("react.transitional.element"),g8=Symbol.for("react.fragment");function LP(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:p8,type:t,key:s,ref:e!==void 0?e:null,props:n}}iy.Fragment=g8;iy.jsx=LP;iy.jsxs=LP;VP.exports=iy;var o=VP.exports,UP={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=Symbol.for("react.transitional.element"),y8=Symbol.for("react.portal"),v8=Symbol.for("react.fragment"),x8=Symbol.for("react.strict_mode"),b8=Symbol.for("react.profiler"),w8=Symbol.for("react.consumer"),_8=Symbol.for("react.context"),T8=Symbol.for("react.forward_ref"),E8=Symbol.for("react.suspense"),S8=Symbol.for("react.memo"),FP=Symbol.for("react.lazy"),A8=Symbol.for("react.activity"),oN=Symbol.iterator;function N8(t){return t===null||typeof t!="object"?null:(t=oN&&t[oN]||t["@@iterator"],typeof t=="function"?t:null)}var zP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BP=Object.assign,$P={};function zu(t,e,n){this.props=t,this.context=e,this.refs=$P,this.updater=n||zP}zu.prototype.isReactComponent={};zu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qP(){}qP.prototype=zu.prototype;function b_(t,e,n){this.props=t,this.context=e,this.refs=$P,this.updater=n||zP}var w_=b_.prototype=new qP;w_.constructor=b_;BP(w_,zu.prototype);w_.isPureReactComponent=!0;var lN=Array.isArray;function Fb(){}var bt={H:null,A:null,T:null,S:null},HP=Object.prototype.hasOwnProperty;function __(t,e,n){var s=n.ref;return{$$typeof:x_,type:t,key:e,ref:s!==void 0?s:null,props:n}}function I8(t,e){return __(t.type,e,t.props)}function T_(t){return typeof t=="object"&&t!==null&&t.$$typeof===x_}function C8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cN=/\/+/g;function ax(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C8(""+t.key):e.toString(36)}function R8(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Fb,Fb):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function nc(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case x_:case y8:a=!0;break;case FP:return a=t._init,nc(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+ax(t,0):s,lN(r)?(n="",a!=null&&(n=a.replace(cN,"$&/")+"/"),nc(r,e,n,"",function(u){return u})):r!=null&&(T_(r)&&(r=I8(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(cN,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=s===""?".":s+":";if(lN(t))for(var c=0;c<t.length;c++)s=t[c],i=l+ax(s,c),a+=nc(s,e,n,i,r);else if(c=N8(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=l+ax(s,c++),a+=nc(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return nc(R8(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Wm(t,e,n){if(t==null)return t;var s=[],r=0;return nc(t,s,"","",function(i){return e.call(n,i,r++)}),s}function j8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var uN=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},P8={map:Wm,forEach:function(t,e,n){Wm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wm(t,function(){e++}),e},toArray:function(t){return Wm(t,function(e){return e})||[]},only:function(t){if(!T_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Activity=A8;Ae.Children=P8;Ae.Component=zu;Ae.Fragment=v8;Ae.Profiler=b8;Ae.PureComponent=b_;Ae.StrictMode=x8;Ae.Suspense=E8;Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;Ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return bt.H.useMemoCache(t)}};Ae.cache=function(t){return function(){return t.apply(null,arguments)}};Ae.cacheSignal=function(){return null};Ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=BP({},t.props),r=t.key;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)!HP.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(s[i]=e[i]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}return __(t.type,r,s)};Ae.createContext=function(t){return t={$$typeof:_8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:w8,_context:t},t};Ae.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)HP.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return __(t,i,r)};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:T8,render:t}};Ae.isValidElement=T_;Ae.lazy=function(t){return{$$typeof:FP,_payload:{_status:-1,_result:t},_init:j8}};Ae.memo=function(t,e){return{$$typeof:S8,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=bt.T,n={};bt.T=n;try{var s=t(),r=bt.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Fb,uN)}catch(i){uN(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),bt.T=e}};Ae.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()};Ae.use=function(t){return bt.H.use(t)};Ae.useActionState=function(t,e,n){return bt.H.useActionState(t,e,n)};Ae.useCallback=function(t,e){return bt.H.useCallback(t,e)};Ae.useContext=function(t){return bt.H.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t,e){return bt.H.useDeferredValue(t,e)};Ae.useEffect=function(t,e){return bt.H.useEffect(t,e)};Ae.useEffectEvent=function(t){return bt.H.useEffectEvent(t)};Ae.useId=function(){return bt.H.useId()};Ae.useImperativeHandle=function(t,e,n){return bt.H.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return bt.H.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return bt.H.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return bt.H.useMemo(t,e)};Ae.useOptimistic=function(t,e){return bt.H.useOptimistic(t,e)};Ae.useReducer=function(t,e,n){return bt.H.useReducer(t,e,n)};Ae.useRef=function(t){return bt.H.useRef(t)};Ae.useState=function(t){return bt.H.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return bt.H.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return bt.H.useTransition()};Ae.version="19.2.0";UP.exports=Ae;var p=UP.exports;const Jt=Tl(p),ay=m8({__proto__:null,default:Jt},[p]);var GP={exports:{}},oy={},KP={exports:{}},WP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,q){var B=O.length;O.push(q);e:for(;0<B;){var K=B-1>>>1,ie=O[K];if(0<r(ie,q))O[K]=q,O[B]=ie,B=K;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var q=O[0],B=O.pop();if(B!==q){O[0]=B;e:for(var K=0,ie=O.length,ge=ie>>>1;K<ge;){var Be=2*(K+1)-1,Ye=O[Be],V=Be+1,Q=O[V];if(0>r(Ye,B))V<ie&&0>r(Q,Ye)?(O[K]=Q,O[V]=B,K=V):(O[K]=Ye,O[Be]=B,K=Be);else if(V<ie&&0>r(Q,B))O[K]=Q,O[V]=B,K=V;else break e}}return q}function r(O,q){var B=O.sortIndex-q.sortIndex;return B!==0?B:O.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,g=!1,x=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(O){for(var q=n(u);q!==null;){if(q.callback===null)s(u);else if(q.startTime<=O)s(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function C(O){if(y=!1,N(O),!x)if(n(c)!==null)x=!0,j||(j=!0,M());else{var q=n(u);q!==null&&H(C,q.startTime-O)}}var j=!1,S=-1,E=5,I=-1;function R(){return w?!0:!(t.unstable_now()-I<E)}function k(){if(w=!1,j){var O=t.unstable_now();I=O;var q=!0;try{e:{x=!1,y&&(y=!1,_(S),S=-1),g=!0;var B=m;try{t:{for(N(O),h=n(c);h!==null&&!(h.expirationTime>O&&R());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var ie=K(h.expirationTime<=O);if(O=t.unstable_now(),typeof ie=="function"){h.callback=ie,N(O),q=!0;break t}h===n(c)&&s(c),N(O)}else s(c);h=n(c)}if(h!==null)q=!0;else{var ge=n(u);ge!==null&&H(C,ge.startTime-O),q=!1}}break e}finally{h=null,m=B,g=!1}q=void 0}}finally{q?M():j=!1}}}var M;if(typeof T=="function")M=function(){T(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=k,M=function(){$.postMessage(null)}}else M=function(){v(k,0)};function H(O,q){S=v(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var B=m;m=q;try{return O()}finally{m=B}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=m;m=O;try{return q()}finally{m=B}},t.unstable_scheduleCallback=function(O,q,B){var K=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=B+ie,O={id:d++,callback:q,priorityLevel:O,startTime:B,expirationTime:ie,sortIndex:-1},B>K?(O.sortIndex=B,e(u,O),n(c)===null&&O===n(u)&&(y?(_(S),S=-1):y=!0,H(C,B-K))):(O.sortIndex=ie,e(c,O),x||g||(x=!0,j||(j=!0,M()))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var q=m;return function(){var B=m;m=q;try{return O.apply(this,arguments)}finally{m=B}}}})(WP);KP.exports=WP;var k8=KP.exports,YP={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D8=p;function QP(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Yi(){}var qn={d:{f:Yi,r:function(){throw Error(QP(522))},D:Yi,C:Yi,L:Yi,m:Yi,X:Yi,S:Yi,M:Yi},p:0,findDOMNode:null},M8=Symbol.for("react.portal");function O8(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M8,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var lh=D8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ly(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(QP(299));return O8(t,e,null,n)};Xn.flushSync=function(t){var e=lh.T,n=qn.p;try{if(lh.T=null,qn.p=2,t)return t()}finally{lh.T=e,qn.p=n,qn.d.f()}};Xn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Xn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Xn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=ly(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&qn.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Xn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ly(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Xn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=ly(n,e.crossOrigin);qn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Xn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ly(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Xn.requestFormReset=function(t){qn.d.r(t)};Xn.unstable_batchedUpdates=function(t,e){return t(e)};Xn.useFormState=function(t,e,n){return lh.H.useFormState(t,e,n)};Xn.useFormStatus=function(){return lh.H.useHostTransitionStatus()};Xn.version="19.2.0";function XP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XP)}catch(t){console.error(t)}}XP(),YP.exports=Xn;var $f=YP.exports;const V8=Tl($f);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=k8,JP=p,L8=$f;function Y(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ZP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ek(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tk(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dN(t){if(qf(t)!==t)throw Error(Y(188))}function U8(t){var e=t.alternate;if(!e){if(e=qf(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return dN(r),t;if(i===s)return dN(r),e;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function nk(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=nk(t),e!==null)return e;t=t.sibling}return null}var _t=Object.assign,F8=Symbol.for("react.element"),Ym=Symbol.for("react.transitional.element"),qd=Symbol.for("react.portal"),mc=Symbol.for("react.fragment"),sk=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),rk=Symbol.for("react.consumer"),oi=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),$b=Symbol.for("react.suspense_list"),S_=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),qb=Symbol.for("react.activity"),z8=Symbol.for("react.memo_cache_sentinel"),hN=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=hN&&t[hN]||t["@@iterator"],typeof t=="function"?t:null)}var B8=Symbol.for("react.client.reference");function Hb(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===B8?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mc:return"Fragment";case zb:return"Profiler";case sk:return"StrictMode";case Bb:return"Suspense";case $b:return"SuspenseList";case qb:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case qd:return"Portal";case oi:return t.displayName||"Context";case rk:return(t._context.displayName||"Context")+".Consumer";case E_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S_:return e=t.displayName||null,e!==null?e:Hb(t.type)||"Memo";case ia:e=t._payload,t=t._init;try{return Hb(t(e))}catch{}}return null}var Hd=Array.isArray,be=JP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je=L8.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Lo={pending:!1,data:null,method:null,action:null},Gb=[],pc=-1;function Hr(t){return{current:t}}function yn(t){0>pc||(t.current=Gb[pc],Gb[pc]=null,pc--)}function ht(t,e){pc++,Gb[pc]=t.current,t.current=e}var Pr=Hr(null),Kh=Hr(null),Ea=Hr(null),Eg=Hr(null);function Sg(t,e){switch(ht(Ea,e),ht(Kh,t),ht(Pr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?vI(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=vI(e),t=EM(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yn(Pr),ht(Pr,t)}function tu(){yn(Pr),yn(Kh),yn(Ea)}function Kb(t){t.memoizedState!==null&&ht(Eg,t);var e=Pr.current,n=EM(e,t.type);e!==n&&(ht(Kh,t),ht(Pr,n))}function Ag(t){Kh.current===t&&(yn(Pr),yn(Kh)),Eg.current===t&&(yn(Eg),rf._currentValue=Lo)}var ox,fN;function bo(t){if(ox===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ox=e&&e[1]||"",fN=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ox+t+fN}var lx=!1;function cx(t,e){if(!t||lx)return"";lx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var m=g}Reflect.construct(t,[],h)}else{try{h.call()}catch(g){m=g}t.call(h.prototype)}}else{try{throw Error()}catch(g){m=g}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],l=i[1];if(a&&l){var c=a.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{lx=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?bo(n):""}function $8(t,e){switch(t.tag){case 26:case 27:case 5:return bo(t.type);case 16:return bo("Lazy");case 13:return t.child!==e&&e!==null?bo("Suspense Fallback"):bo("Suspense");case 19:return bo("SuspenseList");case 0:case 15:return cx(t.type,!1);case 11:return cx(t.type.render,!1);case 1:return cx(t.type,!0);case 31:return bo("Activity");default:return""}}function mN(t){try{var e="",n=null;do e+=$8(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Wb=Object.prototype.hasOwnProperty,A_=on.unstable_scheduleCallback,ux=on.unstable_cancelCallback,q8=on.unstable_shouldYield,H8=on.unstable_requestPaint,_s=on.unstable_now,G8=on.unstable_getCurrentPriorityLevel,ik=on.unstable_ImmediatePriority,ak=on.unstable_UserBlockingPriority,Ng=on.unstable_NormalPriority,K8=on.unstable_LowPriority,ok=on.unstable_IdlePriority,W8=on.log,Y8=on.unstable_setDisableYieldValue,Hf=null,Ts=null;function ya(t){if(typeof W8=="function"&&Y8(t),Ts&&typeof Ts.setStrictMode=="function")try{Ts.setStrictMode(Hf,t)}catch{}}var Es=Math.clz32?Math.clz32:J8,Q8=Math.log,X8=Math.LN2;function J8(t){return t>>>=0,t===0?32:31-(Q8(t)/X8|0)|0}var Qm=256,Xm=262144,Jm=4194304;function wo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cy(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=wo(s):(a&=l,a!==0?r=wo(a):n||(n=l&~t,n!==0&&(r=wo(n))))):(l=s&~i,l!==0?r=wo(l):a!==0?r=wo(a):n||(n=s&~t,n!==0&&(r=wo(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Gf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Z8(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(){var t=Jm;return Jm<<=1,!(Jm&62914560)&&(Jm=4194304),t}function dx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ez(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Es(n),h=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var g=m[d];g!==null&&(g.lane&=-536870913)}n&=~h}s!==0&&ck(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function ck(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Es(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function uk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Es(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function dk(t,e){var n=e&-e;return n=n&42?1:N_(n),n&(t.suspendedLanes|e)?0:n}function N_(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function I_(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function hk(){var t=Je.p;return t!==0?t:(t=window.event,t===void 0?32:MM(t.type))}function pN(t,e){var n=Je.p;try{return Je.p=t,e()}finally{Je.p=n}}var no=Math.random().toString(36).slice(2),_n="__reactFiber$"+no,cs="__reactProps$"+no,Bu="__reactContainer$"+no,Yb="__reactEvents$"+no,tz="__reactListeners$"+no,nz="__reactHandles$"+no,gN="__reactResources$"+no,Wf="__reactMarker$"+no;function C_(t){delete t[_n],delete t[cs],delete t[Yb],delete t[tz],delete t[nz]}function gc(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bu]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TI(t);t!==null;){if(n=t[_n])return n;t=TI(t)}return e}t=n,n=t.parentNode}return null}function $u(t){if(t=t[_n]||t[Bu]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Gd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Y(33))}function kc(t){var e=t[gN];return e||(e=t[gN]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function mn(t){t[Wf]=!0}var fk=new Set,mk={};function El(t,e){nu(t,e),nu(t+"Capture",e)}function nu(t,e){for(mk[t]=e,t=0;t<e.length;t++)fk.add(e[t])}var sz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yN={},vN={};function rz(t){return Wb.call(vN,t)?!0:Wb.call(yN,t)?!1:sz.test(t)?vN[t]=!0:(yN[t]=!0,!1)}function Dp(t,e,n){if(rz(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Zm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qr(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Fs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iz(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qb(t){if(!t._valueTracker){var e=pk(t)?"checked":"value";t._valueTracker=iz(t,e,""+t[e])}}function gk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=pk(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ig(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var az=/[\n"\\]/g;function $s(t){return t.replace(az,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Xb(t,e,n,s,r,i,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Fs(e)):t.value!==""+Fs(e)&&(t.value=""+Fs(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Jb(t,a,Fs(e)):n!=null?Jb(t,a,Fs(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Fs(l):t.removeAttribute("name")}function yk(t,e,n,s,r,i,a,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){Qb(t);return}n=n!=null?""+Fs(n):"",e=e!=null?""+Fs(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Qb(t)}function Jb(t,e,n){e==="number"&&Ig(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Dc(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function vk(t,e,n){if(e!=null&&(e=""+Fs(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Fs(n):""}function xk(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(Y(92));if(Hd(s)){if(1<s.length)throw Error(Y(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Fs(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),Qb(t)}function su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xN(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||oz.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function bk(t,e,n){if(e!=null&&typeof e!="object")throw Error(Y(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&xN(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&xN(t,i,e[i])}function R_(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mp(t){return cz.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Zb=null;function j_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yc=null,Mc=null;function bN(t){var e=$u(t);if(e&&(t=e.stateNode)){var n=t[cs]||null;e:switch(t=e.stateNode,e.type){case"input":if(Xb(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$s(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[cs]||null;if(!r)throw Error(Y(90));Xb(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&gk(s)}break e;case"textarea":vk(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Dc(t,!!n.multiple,e,!1)}}}var hx=!1;function wk(t,e,n){if(hx)return t(e,n);hx=!0;try{var s=t(e);return s}finally{if(hx=!1,(yc!==null||Mc!==null)&&(wy(),yc&&(e=yc,t=Mc,Mc=yc=null,bN(e),t)))for(e=0;e<t.length;e++)bN(t[e])}}function Wh(t,e){var n=t.stateNode;if(n===null)return null;var s=n[cs]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ew=!1;if(bi)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){ew=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{ew=!1}var va=null,P_=null,Op=null;function _k(){if(Op)return Op;var t,e=P_,n=e.length,s,r="value"in va?va.value:va.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Op=r.slice(t,1<s?1-s:void 0)}function Vp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ep(){return!0}function wN(){return!1}function us(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ep:wN,this.isPropagationStopped=wN,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uy=us(Sl),Yf=_t({},Sl,{view:0,detail:0}),uz=us(Yf),fx,mx,Id,dy=_t({},Yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Id&&(Id&&t.type==="mousemove"?(fx=t.screenX-Id.screenX,mx=t.screenY-Id.screenY):mx=fx=0,Id=t),fx)},movementY:function(t){return"movementY"in t?t.movementY:mx}}),_N=us(dy),dz=_t({},dy,{dataTransfer:0}),hz=us(dz),fz=_t({},Yf,{relatedTarget:0}),px=us(fz),mz=_t({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),pz=us(mz),gz=_t({},Sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yz=us(gz),vz=_t({},Sl,{data:0}),TN=us(vz),xz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _z(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wz[t])?!!e[t]:!1}function k_(){return _z}var Tz=_t({},Yf,{key:function(t){if(t.key){var e=xz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k_,charCode:function(t){return t.type==="keypress"?Vp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ez=us(Tz),Sz=_t({},dy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EN=us(Sz),Az=_t({},Yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k_}),Nz=us(Az),Iz=_t({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cz=us(Iz),Rz=_t({},dy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jz=us(Rz),Pz=_t({},Sl,{newState:0,oldState:0}),kz=us(Pz),Dz=[9,13,27,32],D_=bi&&"CompositionEvent"in window,ch=null;bi&&"documentMode"in document&&(ch=document.documentMode);var Mz=bi&&"TextEvent"in window&&!ch,Tk=bi&&(!D_||ch&&8<ch&&11>=ch),SN=String.fromCharCode(32),AN=!1;function Ek(t,e){switch(t){case"keyup":return Dz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vc=!1;function Oz(t,e){switch(t){case"compositionend":return Sk(e);case"keypress":return e.which!==32?null:(AN=!0,SN);case"textInput":return t=e.data,t===SN&&AN?null:t;default:return null}}function Vz(t,e){if(vc)return t==="compositionend"||!D_&&Ek(t,e)?(t=_k(),Op=P_=va=null,vc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tk&&e.locale!=="ko"?null:e.data;default:return null}}var Lz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lz[t.type]:e==="textarea"}function Ak(t,e,n,s){yc?Mc?Mc.push(s):Mc=[s]:yc=s,e=Gg(e,"onChange"),0<e.length&&(n=new uy("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var uh=null,Yh=null;function Uz(t){wM(t,0)}function hy(t){var e=Gd(t);if(gk(e))return t}function IN(t,e){if(t==="change")return e}var Nk=!1;if(bi){var gx;if(bi){var yx="oninput"in document;if(!yx){var CN=document.createElement("div");CN.setAttribute("oninput","return;"),yx=typeof CN.oninput=="function"}gx=yx}else gx=!1;Nk=gx&&(!document.documentMode||9<document.documentMode)}function RN(){uh&&(uh.detachEvent("onpropertychange",Ik),Yh=uh=null)}function Ik(t){if(t.propertyName==="value"&&hy(Yh)){var e=[];Ak(e,Yh,t,j_(t)),wk(Uz,e)}}function Fz(t,e,n){t==="focusin"?(RN(),uh=e,Yh=n,uh.attachEvent("onpropertychange",Ik)):t==="focusout"&&RN()}function zz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hy(Yh)}function Bz(t,e){if(t==="click")return hy(e)}function $z(t,e){if(t==="input"||t==="change")return hy(e)}function qz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cs=typeof Object.is=="function"?Object.is:qz;function Qh(t,e){if(Cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Wb.call(e,r)||!Cs(t[r],e[r]))return!1}return!0}function jN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PN(t,e){var n=jN(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jN(n)}}function Ck(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ck(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rk(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ig(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ig(t.document)}return e}function M_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Hz=bi&&"documentMode"in document&&11>=document.documentMode,xc=null,tw=null,dh=null,nw=!1;function kN(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nw||xc==null||xc!==Ig(s)||(s=xc,"selectionStart"in s&&M_(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),dh&&Qh(dh,s)||(dh=s,s=Gg(tw,"onSelect"),0<s.length&&(e=new uy("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=xc)))}function yo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bc={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionrun:yo("Transition","TransitionRun"),transitionstart:yo("Transition","TransitionStart"),transitioncancel:yo("Transition","TransitionCancel"),transitionend:yo("Transition","TransitionEnd")},vx={},jk={};bi&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function Al(t){if(vx[t])return vx[t];if(!bc[t])return t;var e=bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jk)return vx[t]=e[n];return t}var Pk=Al("animationend"),kk=Al("animationiteration"),Dk=Al("animationstart"),Gz=Al("transitionrun"),Kz=Al("transitionstart"),Wz=Al("transitioncancel"),Mk=Al("transitionend"),Ok=new Map,sw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sw.push("scrollEnd");function pr(t,e){Ok.set(t,e),El(e,[t])}var Cg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ls=[],wc=0,O_=0;function fy(){for(var t=wc,e=O_=wc=0;e<t;){var n=Ls[e];Ls[e++]=null;var s=Ls[e];Ls[e++]=null;var r=Ls[e];Ls[e++]=null;var i=Ls[e];if(Ls[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&Vk(n,r,i)}}function my(t,e,n,s){Ls[wc++]=t,Ls[wc++]=e,Ls[wc++]=n,Ls[wc++]=s,O_|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function V_(t,e,n,s){return my(t,e,n,s),Rg(t)}function Nl(t,e){return my(t,null,null,e),Rg(t)}function Vk(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Es(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function Rg(t){if(50<bh)throw bh=0,Ew=null,Error(Y(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var _c={};function Yz(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(t,e,n,s){return new Yz(t,e,n,s)}function L_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,e){var n=t.alternate;return n===null?(n=ys(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Lk(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Lp(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")L_(t)&&(a=1);else if(typeof t=="string")a=e7(t,n,Pr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case qb:return t=ys(31,n,e,r),t.elementType=qb,t.lanes=i,t;case mc:return Uo(n.children,r,i,e);case sk:a=8,r|=24;break;case zb:return t=ys(12,n,e,r|2),t.elementType=zb,t.lanes=i,t;case Bb:return t=ys(13,n,e,r),t.elementType=Bb,t.lanes=i,t;case $b:return t=ys(19,n,e,r),t.elementType=$b,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oi:a=10;break e;case rk:a=9;break e;case E_:a=11;break e;case S_:a=14;break e;case ia:a=16,s=null;break e}a=29,n=Error(Y(130,t===null?"null":typeof t,"")),s=null}return e=ys(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Uo(t,e,n,s){return t=ys(7,t,s,e),t.lanes=n,t}function xx(t,e,n){return t=ys(6,t,null,e),t.lanes=n,t}function Uk(t){var e=ys(18,null,null,0);return e.stateNode=t,e}function bx(t,e,n){return e=ys(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var DN=new WeakMap;function qs(t,e){if(typeof t=="object"&&t!==null){var n=DN.get(t);return n!==void 0?n:(e={value:t,source:e,stack:mN(e)},DN.set(t,e),e)}return{value:t,source:e,stack:mN(e)}}var Tc=[],Ec=0,jg=null,Xh=0,zs=[],Bs=0,Fa=null,Er=1,Sr="";function ri(t,e){Tc[Ec++]=Xh,Tc[Ec++]=jg,jg=t,Xh=e}function Fk(t,e,n){zs[Bs++]=Er,zs[Bs++]=Sr,zs[Bs++]=Fa,Fa=t;var s=Er;t=Sr;var r=32-Es(s)-1;s&=~(1<<r),n+=1;var i=32-Es(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Er=1<<32-Es(e)+r|n<<r|s,Sr=i+t}else Er=1<<i|n<<r|s,Sr=t}function U_(t){t.return!==null&&(ri(t,1),Fk(t,1,0))}function F_(t){for(;t===jg;)jg=Tc[--Ec],Tc[Ec]=null,Xh=Tc[--Ec],Tc[Ec]=null;for(;t===Fa;)Fa=zs[--Bs],zs[Bs]=null,Sr=zs[--Bs],zs[Bs]=null,Er=zs[--Bs],zs[Bs]=null}function zk(t,e){zs[Bs++]=Er,zs[Bs++]=Sr,zs[Bs++]=Fa,Er=e.id,Sr=e.overflow,Fa=t}var Tn=null,vt=null,ze=!1,Sa=null,Hs=!1,rw=Error(Y(519));function za(t){var e=Error(Y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jh(qs(e,t)),rw}function MN(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[_n]=t,e[cs]=s,n){case"dialog":Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":case"embed":Ve("load",e);break;case"video":case"audio":for(n=0;n<nf.length;n++)Ve(nf[n],e);break;case"source":Ve("error",e);break;case"img":case"image":case"link":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"input":Ve("invalid",e),yk(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ve("invalid",e);break;case"textarea":Ve("invalid",e),xk(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||TM(e.textContent,n)?(s.popover!=null&&(Ve("beforetoggle",e),Ve("toggle",e)),s.onScroll!=null&&Ve("scroll",e),s.onScrollEnd!=null&&Ve("scrollend",e),s.onClick!=null&&(e.onclick=li),e=!0):e=!1,e||za(t,!0)}function ON(t){for(Tn=t.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:Tn=Tn.return}}function ql(t){if(t!==Tn)return!1;if(!ze)return ON(t),ze=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Cw(t.type,t.memoizedProps)),n=!n),n&&vt&&za(t),ON(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));vt=_I(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));vt=_I(t)}else e===27?(e=vt,so(t.type)?(t=kw,kw=null,vt=t):vt=e):vt=Tn?Xs(t.stateNode.nextSibling):null;return!0}function Zo(){vt=Tn=null,ze=!1}function wx(){var t=Sa;return t!==null&&(ss===null?ss=t:ss.push.apply(ss,t),Sa=null),t}function Jh(t){Sa===null?Sa=[t]:Sa.push(t)}var iw=Hr(null),Il=null,ci=null;function la(t,e,n){ht(iw,e._currentValue),e._currentValue=n}function mi(t){t._currentValue=iw.current,yn(iw)}function aw(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ow(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),aw(i.return,n,t),s||(a=null);break e}i=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(Y(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),aw(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function qu(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(Y(387));if(a=a.memoizedProps,a!==null){var l=r.type;Cs(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Eg.current){if(a=r.alternate,a===null)throw Error(Y(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(rf):t=[rf])}r=r.return}t!==null&&ow(e,t,n,s),e.flags|=262144}function Pg(t){for(t=t.firstContext;t!==null;){if(!Cs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function el(t){Il=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function En(t){return Bk(Il,t)}function tp(t,e){return Il===null&&el(t),Bk(t,e)}function Bk(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ci===null){if(t===null)throw Error(Y(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return n}var Qz=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Xz=on.unstable_scheduleCallback,Jz=on.unstable_NormalPriority,Zt={$$typeof:oi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z_(){return{controller:new Qz,data:new Map,refCount:0}}function Qf(t){t.refCount--,t.refCount===0&&Xz(Jz,function(){t.controller.abort()})}var hh=null,lw=0,ru=0,Oc=null;function Zz(t,e){if(hh===null){var n=hh=[];lw=0,ru=hT(),Oc={status:"pending",value:void 0,then:function(s){n.push(s)}}}return lw++,e.then(VN,VN),e}function VN(){if(--lw===0&&hh!==null){Oc!==null&&(Oc.status="fulfilled");var t=hh;hh=null,ru=0,Oc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function eB(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var LN=be.S;be.S=function(t,e){nM=_s(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Zz(t,e),LN!==null&&LN(t,e)};var Fo=Hr(null);function B_(){var t=Fo.current;return t!==null?t:ut.pooledCache}function Up(t,e){e===null?ht(Fo,Fo.current):ht(Fo,e.pool)}function $k(){var t=B_();return t===null?null:{parent:Zt._currentValue,pool:t}}var Hu=Error(Y(460)),$_=Error(Y(474)),py=Error(Y(542)),kg={then:function(){}};function UN(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qk(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(li,li),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,zN(t),t;default:if(typeof e.status=="string")e.then(li,li);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(Y(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,zN(t),t}throw zo=e,Hu}}function _o(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(zo=n,Hu):n}}var zo=null;function FN(){if(zo===null)throw Error(Y(459));var t=zo;return zo=null,t}function zN(t){if(t===Hu||t===py)throw Error(Y(483))}var Vc=null,Zh=0;function np(t){var e=Zh;return Zh+=1,Vc===null&&(Vc=[]),qk(Vc,t,e)}function Cd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function sp(t,e){throw e.$$typeof===F8?Error(Y(525)):(t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Hk(t){function e(v,_){if(t){var T=v.deletions;T===null?(v.deletions=[_],v.flags|=16):T.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function s(v){for(var _=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function r(v,_){return v=fi(v,_),v.index=0,v.sibling=null,v}function i(v,_,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<_?(v.flags|=67108866,_):T):(v.flags|=67108866,_)):(v.flags|=1048576,_)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function l(v,_,T,N){return _===null||_.tag!==6?(_=xx(T,v.mode,N),_.return=v,_):(_=r(_,T),_.return=v,_)}function c(v,_,T,N){var C=T.type;return C===mc?d(v,_,T.props.children,N,T.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ia&&_o(C)===_.type)?(_=r(_,T.props),Cd(_,T),_.return=v,_):(_=Lp(T.type,T.key,T.props,null,v.mode,N),Cd(_,T),_.return=v,_)}function u(v,_,T,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=bx(T,v.mode,N),_.return=v,_):(_=r(_,T.children||[]),_.return=v,_)}function d(v,_,T,N,C){return _===null||_.tag!==7?(_=Uo(T,v.mode,N,C),_.return=v,_):(_=r(_,T),_.return=v,_)}function h(v,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=xx(""+_,v.mode,T),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ym:return T=Lp(_.type,_.key,_.props,null,v.mode,T),Cd(T,_),T.return=v,T;case qd:return _=bx(_,v.mode,T),_.return=v,_;case ia:return _=_o(_),h(v,_,T)}if(Hd(_)||Ad(_))return _=Uo(_,v.mode,T,null),_.return=v,_;if(typeof _.then=="function")return h(v,np(_),T);if(_.$$typeof===oi)return h(v,tp(v,_),T);sp(v,_)}return null}function m(v,_,T,N){var C=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return C!==null?null:l(v,_,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ym:return T.key===C?c(v,_,T,N):null;case qd:return T.key===C?u(v,_,T,N):null;case ia:return T=_o(T),m(v,_,T,N)}if(Hd(T)||Ad(T))return C!==null?null:d(v,_,T,N,null);if(typeof T.then=="function")return m(v,_,np(T),N);if(T.$$typeof===oi)return m(v,_,tp(v,T),N);sp(v,T)}return null}function g(v,_,T,N,C){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return v=v.get(T)||null,l(_,v,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ym:return v=v.get(N.key===null?T:N.key)||null,c(_,v,N,C);case qd:return v=v.get(N.key===null?T:N.key)||null,u(_,v,N,C);case ia:return N=_o(N),g(v,_,T,N,C)}if(Hd(N)||Ad(N))return v=v.get(T)||null,d(_,v,N,C,null);if(typeof N.then=="function")return g(v,_,T,np(N),C);if(N.$$typeof===oi)return g(v,_,T,tp(_,N),C);sp(_,N)}return null}function x(v,_,T,N){for(var C=null,j=null,S=_,E=_=0,I=null;S!==null&&E<T.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var R=m(v,S,T[E],N);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(v,S),_=i(R,_,E),j===null?C=R:j.sibling=R,j=R,S=I}if(E===T.length)return n(v,S),ze&&ri(v,E),C;if(S===null){for(;E<T.length;E++)S=h(v,T[E],N),S!==null&&(_=i(S,_,E),j===null?C=S:j.sibling=S,j=S);return ze&&ri(v,E),C}for(S=s(S);E<T.length;E++)I=g(S,v,E,T[E],N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),_=i(I,_,E),j===null?C=I:j.sibling=I,j=I);return t&&S.forEach(function(k){return e(v,k)}),ze&&ri(v,E),C}function y(v,_,T,N){if(T==null)throw Error(Y(151));for(var C=null,j=null,S=_,E=_=0,I=null,R=T.next();S!==null&&!R.done;E++,R=T.next()){S.index>E?(I=S,S=null):I=S.sibling;var k=m(v,S,R.value,N);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(v,S),_=i(k,_,E),j===null?C=k:j.sibling=k,j=k,S=I}if(R.done)return n(v,S),ze&&ri(v,E),C;if(S===null){for(;!R.done;E++,R=T.next())R=h(v,R.value,N),R!==null&&(_=i(R,_,E),j===null?C=R:j.sibling=R,j=R);return ze&&ri(v,E),C}for(S=s(S);!R.done;E++,R=T.next())R=g(S,v,E,R.value,N),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),_=i(R,_,E),j===null?C=R:j.sibling=R,j=R);return t&&S.forEach(function(M){return e(v,M)}),ze&&ri(v,E),C}function w(v,_,T,N){if(typeof T=="object"&&T!==null&&T.type===mc&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ym:e:{for(var C=T.key;_!==null;){if(_.key===C){if(C=T.type,C===mc){if(_.tag===7){n(v,_.sibling),N=r(_,T.props.children),N.return=v,v=N;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ia&&_o(C)===_.type){n(v,_.sibling),N=r(_,T.props),Cd(N,T),N.return=v,v=N;break e}n(v,_);break}else e(v,_);_=_.sibling}T.type===mc?(N=Uo(T.props.children,v.mode,N,T.key),N.return=v,v=N):(N=Lp(T.type,T.key,T.props,null,v.mode,N),Cd(N,T),N.return=v,v=N)}return a(v);case qd:e:{for(C=T.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(v,_.sibling),N=r(_,T.children||[]),N.return=v,v=N;break e}else{n(v,_);break}else e(v,_);_=_.sibling}N=bx(T,v.mode,N),N.return=v,v=N}return a(v);case ia:return T=_o(T),w(v,_,T,N)}if(Hd(T))return x(v,_,T,N);if(Ad(T)){if(C=Ad(T),typeof C!="function")throw Error(Y(150));return T=C.call(T),y(v,_,T,N)}if(typeof T.then=="function")return w(v,_,np(T),N);if(T.$$typeof===oi)return w(v,_,tp(v,T),N);sp(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,_!==null&&_.tag===6?(n(v,_.sibling),N=r(_,T),N.return=v,v=N):(n(v,_),N=xx(T,v.mode,N),N.return=v,v=N),a(v)):n(v,_)}return function(v,_,T,N){try{Zh=0;var C=w(v,_,T,N);return Vc=null,C}catch(S){if(S===Hu||S===py)throw S;var j=ys(29,S,null,v.mode);return j.lanes=N,j.return=v,j}finally{}}}var tl=Hk(!0),Gk=Hk(!1),aa=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Na(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Qe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Rg(t),Vk(t,null,n),e}return my(t,s,e,n),Rg(t)}function fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,uk(t,n)}}function _x(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var uw=!1;function mh(){if(uw){var t=Oc;if(t!==null)throw t}}function ph(t,e,n,s){uw=!1;var r=t.updateQueue;aa=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(Fe&m)===m:(s&m)===m){m!==0&&m===ru&&(uw=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var x=t,y=l;m=e;var w=n;switch(y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(w,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(w,h,m):x,m==null)break e;h=_t({},h,m);break e;case 2:aa=!0}}m=l.callback,m!==null&&(t.flags|=64,g&&(t.flags|=8192),g=r.callbacks,g===null?r.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),$a|=a,t.lanes=a,t.memoizedState=h}}function Kk(t,e){if(typeof t!="function")throw Error(Y(191,t));t.call(e)}function Wk(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Kk(n[t],e)}var iu=Hr(null),Dg=Hr(0);function BN(t,e){t=Ei,ht(Dg,t),ht(iu,e),Ei=t|e.baseLanes}function dw(){ht(Dg,Ei),ht(iu,iu.current)}function H_(){Ei=Dg.current,yn(iu),yn(Dg)}var Rs=Hr(null),Qs=null;function ca(t){var e=t.alternate;ht(zt,zt.current&1),ht(Rs,t),Qs===null&&(e===null||iu.current!==null||e.memoizedState!==null)&&(Qs=t)}function hw(t){ht(zt,zt.current),ht(Rs,t),Qs===null&&(Qs=t)}function Yk(t){t.tag===22?(ht(zt,zt.current),ht(Rs,t),Qs===null&&(Qs=t)):ua()}function ua(){ht(zt,zt.current),ht(Rs,Rs.current)}function ps(t){yn(Rs),Qs===t&&(Qs=null),yn(zt)}var zt=Hr(0);function Mg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||jw(n)||Pw(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,Ne=null,st=null,Wt=null,Og=!1,Lc=!1,nl=!1,Vg=0,ef=0,Uc=null,tB=0;function kt(){throw Error(Y(321))}function G_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cs(t[n],e[n]))return!1;return!0}function K_(t,e,n,s,r,i){return wi=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,be.H=t===null||t.memoizedState===null?AD:rT,nl=!1,i=n(s,r),nl=!1,Lc&&(i=Xk(e,n,s,r)),Qk(t),i}function Qk(t){be.H=tf;var e=st!==null&&st.next!==null;if(wi=0,Wt=st=Ne=null,Og=!1,ef=0,Uc=null,e)throw Error(Y(300));t===null||en||(t=t.dependencies,t!==null&&Pg(t)&&(en=!0))}function Xk(t,e,n,s){Ne=t;var r=0;do{if(Lc&&(Uc=null),ef=0,Lc=!1,25<=r)throw Error(Y(301));if(r+=1,Wt=st=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}be.H=ND,i=e(n,s)}while(Lc);return i}function nB(){var t=be.H,e=t.useState()[0];return e=typeof e.then=="function"?Xf(e):e,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ne.flags|=1024),e}function W_(){var t=Vg!==0;return Vg=0,t}function Y_(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Q_(t){if(Og){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Og=!1}wi=0,Wt=st=Ne=null,Lc=!1,ef=Vg=0,Uc=null}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ne.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Bt(){if(st===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=Wt===null?Ne.memoizedState:Wt.next;if(e!==null)Wt=e,st=t;else{if(t===null)throw Ne.alternate===null?Error(Y(467)):Error(Y(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Wt===null?Ne.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function gy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xf(t){var e=ef;return ef+=1,Uc===null&&(Uc=[]),t=qk(Uc,t,e),e=Ne,(Wt===null?e.memoizedState:Wt.next)===null&&(e=e.alternate,be.H=e===null||e.memoizedState===null?AD:rT),t}function yy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xf(t);if(t.$$typeof===oi)return En(t)}throw Error(Y(438,String(t)))}function X_(t){var e=null,n=Ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ne.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gy(),Ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=z8;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=Bt();return J_(e,st,t)}function J_(t,e,n){var s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Fe&h)===h:(wi&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===ru&&(d=!0);else if((wi&m)===m){u=u.next,m===ru&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,a=i):c=c.next=h,Ne.lanes|=m,$a|=m;h=u.action,nl&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,a=i):c=c.next=m,Ne.lanes|=h,$a|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=i:c.next=l,!Cs(i,t.memoizedState)&&(en=!0,d&&(n=Oc,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Tx(t){var e=Bt(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Cs(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Jk(t,e,n){var s=Ne,r=Bt(),i=ze;if(i){if(n===void 0)throw Error(Y(407));n=n()}else n=e();var a=!Cs((st||r).memoizedState,n);if(a&&(r.memoizedState=n,en=!0),r=r.queue,Z_(tD.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||Wt!==null&&Wt.memoizedState.tag&1){if(s.flags|=2048,au(9,{destroy:void 0},eD.bind(null,s,r,n,e),null),ut===null)throw Error(Y(349));i||wi&127||Zk(s,e,n)}return n}function Zk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e=gy(),Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eD(t,e,n,s){e.value=n,e.getSnapshot=s,nD(e)&&sD(t)}function tD(t,e,n){return n(function(){nD(e)&&sD(t)})}function nD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cs(t,n)}catch{return!0}}function sD(t){var e=Nl(t,2);e!==null&&os(e,t,2)}function fw(t){var e=Fn();if(typeof t=="function"){var n=t;if(t=n(),nl){ya(!0);try{n()}finally{ya(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function rD(t,e,n,s){return t.baseState=n,J_(t,st,typeof s=="function"?s:_i)}function sB(t,e,n,s,r){if(xy(t))throw Error(Y(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};be.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,iD(e,i)):(i.next=n.next,e.pending=n.next=i)}}function iD(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=be.T,a={};be.T=a;try{var l=n(r,s),c=be.S;c!==null&&c(a,l),$N(t,e,l)}catch(u){mw(t,e,u)}finally{i!==null&&a.types!==null&&(i.types=a.types),be.T=i}}else try{i=n(r,s),$N(t,e,i)}catch(u){mw(t,e,u)}}function $N(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){qN(t,e,s)},function(s){return mw(t,e,s)}):qN(t,e,n)}function qN(t,e,n){e.status="fulfilled",e.value=n,aD(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,iD(t,n)))}function mw(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,aD(e),e=e.next;while(e!==s)}t.action=null}function aD(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function oD(t,e){return e}function HN(t,e){if(ze){var n=ut.formState;if(n!==null){e:{var s=Ne;if(ze){if(vt){t:{for(var r=vt,i=Hs;r.nodeType!==8;){if(!i){r=null;break t}if(r=Xs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){vt=Xs(r.nextSibling),s=r.data==="F!";break e}}za(s)}s=!1}s&&(e=n[0])}}return n=Fn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oD,lastRenderedState:e},n.queue=s,n=TD.bind(null,Ne,s),s.dispatch=n,s=fw(!1),i=sT.bind(null,Ne,!1,s.queue),s=Fn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=sB.bind(null,Ne,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function GN(t){var e=Bt();return lD(e,st,t)}function lD(t,e,n){if(e=J_(t,e,oD)[0],t=Fp(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Xf(e)}catch(a){throw a===Hu?py:a}else s=e;e=Bt();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Ne.flags|=2048,au(9,{destroy:void 0},rB.bind(null,r,n),null)),[s,i,t]}function rB(t,e){t.action=e}function KN(t){var e=Bt(),n=st;if(n!==null)return lD(e,n,t);Bt(),e=e.memoizedState,n=Bt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function au(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ne.updateQueue,e===null&&(e=gy(),Ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function cD(){return Bt().memoizedState}function zp(t,e,n,s){var r=Fn();Ne.flags|=t,r.memoizedState=au(1|e,{destroy:void 0},n,s===void 0?null:s)}function vy(t,e,n,s){var r=Bt();s=s===void 0?null:s;var i=r.memoizedState.inst;st!==null&&s!==null&&G_(s,st.memoizedState.deps)?r.memoizedState=au(e,i,n,s):(Ne.flags|=t,r.memoizedState=au(1|e,i,n,s))}function WN(t,e){zp(8390656,8,t,e)}function Z_(t,e){vy(2048,8,t,e)}function iB(t){Ne.flags|=4;var e=Ne.updateQueue;if(e===null)e=gy(),Ne.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function uD(t){var e=Bt().memoizedState;return iB({ref:e,nextImpl:t}),function(){if(Qe&2)throw Error(Y(440));return e.impl.apply(void 0,arguments)}}function dD(t,e){return vy(4,2,t,e)}function hD(t,e){return vy(4,4,t,e)}function fD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mD(t,e,n){n=n!=null?n.concat([t]):null,vy(4,4,fD.bind(null,e,t),n)}function eT(){}function pD(t,e){var n=Bt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&G_(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function gD(t,e){var n=Bt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&G_(e,s[1]))return s[0];if(s=t(),nl){ya(!0);try{t()}finally{ya(!1)}}return n.memoizedState=[s,e],s}function tT(t,e,n){return n===void 0||wi&1073741824&&!(Fe&261930)?t.memoizedState=e:(t.memoizedState=n,t=rM(),Ne.lanes|=t,$a|=t,n)}function yD(t,e,n,s){return Cs(n,e)?n:iu.current!==null?(t=tT(t,n,s),Cs(t,e)||(en=!0),t):!(wi&42)||wi&1073741824&&!(Fe&261930)?(en=!0,t.memoizedState=n):(t=rM(),Ne.lanes|=t,$a|=t,e)}function vD(t,e,n,s,r){var i=Je.p;Je.p=i!==0&&8>i?i:8;var a=be.T,l={};be.T=l,sT(t,!1,e,n);try{var c=r(),u=be.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=eB(c,s);gh(t,e,d,Ss(t))}else gh(t,e,s,Ss(t))}catch(h){gh(t,e,{then:function(){},status:"rejected",reason:h},Ss())}finally{Je.p=i,a!==null&&l.types!==null&&(a.types=l.types),be.T=a}}function aB(){}function pw(t,e,n,s){if(t.tag!==5)throw Error(Y(476));var r=xD(t).queue;vD(t,r,e,Lo,n===null?aB:function(){return bD(t),n(s)})}function xD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Lo,baseState:Lo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Lo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function bD(t){var e=xD(t);e.next===null&&(e=t.alternate.memoizedState),gh(t,e.next.queue,{},Ss())}function nT(){return En(rf)}function wD(){return Bt().memoizedState}function _D(){return Bt().memoizedState}function oB(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ss();t=Aa(n);var s=Na(e,t,n);s!==null&&(os(s,e,n),fh(s,e,n)),e={cache:z_()},t.payload=e;return}e=e.return}}function lB(t,e,n){var s=Ss();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},xy(t)?ED(e,n):(n=V_(t,e,n,s),n!==null&&(os(n,t,s),SD(n,e,s)))}function TD(t,e,n){var s=Ss();gh(t,e,n,s)}function gh(t,e,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(t))ED(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,Cs(l,a))return my(t,e,r,0),ut===null&&fy(),!1}catch{}finally{}if(n=V_(t,e,r,s),n!==null)return os(n,t,s),SD(n,e,s),!0}return!1}function sT(t,e,n,s){if(s={lane:2,revertLane:hT(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xy(t)){if(e)throw Error(Y(479))}else e=V_(t,n,s,2),e!==null&&os(e,t,2)}function xy(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function ED(t,e){Lc=Og=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SD(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,uk(t,n)}}var tf={readContext:En,use:yy,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};tf.useEffectEvent=kt;var AD={readContext:En,use:yy,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:WN,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,zp(4194308,4,fD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zp(4194308,4,t,e)},useInsertionEffect:function(t,e){zp(4,2,t,e)},useMemo:function(t,e){var n=Fn();e=e===void 0?null:e;var s=t();if(nl){ya(!0);try{t()}finally{ya(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Fn();if(n!==void 0){var r=n(e);if(nl){ya(!0);try{n(e)}finally{ya(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=lB.bind(null,Ne,t),[s.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:function(t){t=fw(t);var e=t.queue,n=TD.bind(null,Ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:eT,useDeferredValue:function(t,e){var n=Fn();return tT(n,t,e)},useTransition:function(){var t=fw(!1);return t=vD.bind(null,Ne,t.queue,!0,!1),Fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ne,r=Fn();if(ze){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),ut===null)throw Error(Y(349));Fe&127||Zk(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,WN(tD.bind(null,s,i,t),[t]),s.flags|=2048,au(9,{destroy:void 0},eD.bind(null,s,i,n,e),null),n},useId:function(){var t=Fn(),e=ut.identifierPrefix;if(ze){var n=Sr,s=Er;n=(s&~(1<<32-Es(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Vg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=tB++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:nT,useFormState:HN,useActionState:HN,useOptimistic:function(t){var e=Fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=sT.bind(null,Ne,!0,n),n.dispatch=e,[t,e]},useMemoCache:X_,useCacheRefresh:function(){return Fn().memoizedState=oB.bind(null,Ne)},useEffectEvent:function(t){var e=Fn(),n={impl:t};return e.memoizedState=n,function(){if(Qe&2)throw Error(Y(440));return n.impl.apply(void 0,arguments)}}},rT={readContext:En,use:yy,useCallback:pD,useContext:En,useEffect:Z_,useImperativeHandle:mD,useInsertionEffect:dD,useLayoutEffect:hD,useMemo:gD,useReducer:Fp,useRef:cD,useState:function(){return Fp(_i)},useDebugValue:eT,useDeferredValue:function(t,e){var n=Bt();return yD(n,st.memoizedState,t,e)},useTransition:function(){var t=Fp(_i)[0],e=Bt().memoizedState;return[typeof t=="boolean"?t:Xf(t),e]},useSyncExternalStore:Jk,useId:wD,useHostTransitionStatus:nT,useFormState:GN,useActionState:GN,useOptimistic:function(t,e){var n=Bt();return rD(n,st,t,e)},useMemoCache:X_,useCacheRefresh:_D};rT.useEffectEvent=uD;var ND={readContext:En,use:yy,useCallback:pD,useContext:En,useEffect:Z_,useImperativeHandle:mD,useInsertionEffect:dD,useLayoutEffect:hD,useMemo:gD,useReducer:Tx,useRef:cD,useState:function(){return Tx(_i)},useDebugValue:eT,useDeferredValue:function(t,e){var n=Bt();return st===null?tT(n,t,e):yD(n,st.memoizedState,t,e)},useTransition:function(){var t=Tx(_i)[0],e=Bt().memoizedState;return[typeof t=="boolean"?t:Xf(t),e]},useSyncExternalStore:Jk,useId:wD,useHostTransitionStatus:nT,useFormState:KN,useActionState:KN,useOptimistic:function(t,e){var n=Bt();return st!==null?rD(n,st,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:X_,useCacheRefresh:_D};ND.useEffectEvent=uD;function Ex(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gw={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ss(),r=Aa(s);r.payload=e,n!=null&&(r.callback=n),e=Na(t,r,s),e!==null&&(os(e,t,s),fh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ss(),r=Aa(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Na(t,r,s),e!==null&&(os(e,t,s),fh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ss(),s=Aa(n);s.tag=2,e!=null&&(s.callback=e),e=Na(t,s,n),e!==null&&(os(e,t,n),fh(e,t,n))}};function YN(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Qh(n,s)||!Qh(r,i):!0}function QN(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&gw.enqueueReplaceState(e,e.state,null)}function sl(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=_t({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function ID(t){Cg(t)}function CD(t){console.error(t)}function RD(t){Cg(t)}function Lg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function XN(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function yw(t,e,n){return n=Aa(n),n.tag=3,n.payload={element:null},n.callback=function(){Lg(t,e)},n}function jD(t){return t=Aa(t),t.tag=3,t}function PD(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){XN(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){XN(e,n,s),typeof r!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function cB(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&qu(e,n,r,!0),n=Rs.current,n!==null){switch(n.tag){case 31:case 13:return Qs===null?$g():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===kg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Mx(t,s,r)),!1;case 22:return n.flags|=65536,s===kg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Mx(t,s,r)),!1}throw Error(Y(435,n.tag))}return Mx(t,s,r),$g(),!1}if(ze)return e=Rs.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==rw&&(t=Error(Y(422),{cause:s}),Jh(qs(t,n)))):(s!==rw&&(e=Error(Y(423),{cause:s}),Jh(qs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=qs(s,n),r=yw(t.stateNode,s,r),_x(t,r),Ot!==4&&(Ot=2)),!1;var i=Error(Y(520),{cause:s});if(i=qs(i,n),xh===null?xh=[i]:xh.push(i),Ot!==4&&(Ot=2),e===null)return!0;s=qs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=yw(n.stateNode,s,t),_x(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ia===null||!Ia.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=jD(r),PD(r,t,n,s),_x(n,r),!1}n=n.return}while(n!==null);return!1}var iT=Error(Y(461)),en=!1;function xn(t,e,n,s){e.child=t===null?Gk(e,null,n,s):tl(e,t.child,n,s)}function JN(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}else a=s;return el(e),s=K_(t,e,n,a,i,r),l=W_(),t!==null&&!en?(Y_(t,e,r),Ti(t,e,r)):(ze&&l&&U_(e),e.flags|=1,xn(t,e,s,r),e.child)}function ZN(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!L_(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,kD(t,e,i,s,r)):(t=Lp(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!aT(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qh,n(a,s)&&t.ref===e.ref)return Ti(t,e,r)}return e.flags|=1,t=fi(i,s),t.ref=e.ref,t.return=e,e.child=t}function kD(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Qh(i,s)&&t.ref===e.ref)if(en=!1,e.pendingProps=s=i,aT(t,r))t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Ti(t,e,r)}return vw(t,e,n,s,r)}function DD(t,e,n,s){var r=s.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~i}else s=0,e.child=null;return eI(t,e,i,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Up(e,i!==null?i.cachePool:null),i!==null?BN(e,i):dw(),Yk(e);else return s=e.lanes=536870912,eI(t,e,i!==null?i.baseLanes|n:n,n,s)}else i!==null?(Up(e,i.cachePool),BN(e,i),ua(),e.memoizedState=null):(t!==null&&Up(e,null),dw(),ua());return xn(t,e,r,n),e.child}function Kd(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function eI(t,e,n,s,r){var i=B_();return i=i===null?null:{parent:Zt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Up(e,null),dw(),Yk(e),t!==null&&qu(t,e,s,!0),e.childLanes=r,null}function Bp(t,e){return e=Ug({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function tI(t,e,n){return tl(e,t.child,null,n),t=Bp(e,e.pendingProps),t.flags|=2,ps(e),e.memoizedState=null,t}function uB(t,e,n){var s=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ze){if(s.mode==="hidden")return t=Bp(e,s),e.lanes=536870912,Kd(null,t);if(hw(e),(t=vt)?(t=AM(t,Hs),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Fa!==null?{id:Er,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},n=Uk(t),n.return=e,e.child=n,Tn=e,vt=null)):t=null,t===null)throw za(e);return e.lanes=536870912,null}return Bp(e,s)}var i=t.memoizedState;if(i!==null){var a=i.dehydrated;if(hw(e),r)if(e.flags&256)e.flags&=-257,e=tI(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Y(558));else if(en||qu(t,e,n,!1),r=(n&t.childLanes)!==0,en||r){if(s=ut,s!==null&&(a=dk(s,n),a!==0&&a!==i.retryLane))throw i.retryLane=a,Nl(t,a),os(s,t,a),iT;$g(),e=tI(t,e,n)}else t=i.treeContext,vt=Xs(a.nextSibling),Tn=e,ze=!0,Sa=null,Hs=!1,t!==null&&zk(e,t),e=Bp(e,s),e.flags|=4096;return e}return t=fi(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function $p(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function vw(t,e,n,s,r){return el(e),n=K_(t,e,n,s,void 0,r),s=W_(),t!==null&&!en?(Y_(t,e,r),Ti(t,e,r)):(ze&&s&&U_(e),e.flags|=1,xn(t,e,n,r),e.child)}function nI(t,e,n,s,r,i){return el(e),e.updateQueue=null,n=Xk(e,s,n,r),Qk(t),s=W_(),t!==null&&!en?(Y_(t,e,i),Ti(t,e,i)):(ze&&s&&U_(e),e.flags|=1,xn(t,e,n,i),e.child)}function sI(t,e,n,s,r){if(el(e),e.stateNode===null){var i=_c,a=n.contextType;typeof a=="object"&&a!==null&&(i=En(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=gw,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},q_(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?En(a):_c,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Ex(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&gw.enqueueReplaceState(i,i.state,null),ph(e,s,i,r),mh(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,c=sl(n,l);i.props=c;var u=i.context,d=n.contextType;a=_c,typeof d=="object"&&d!==null&&(a=En(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==a)&&QN(e,i,s,a),aa=!1;var m=e.memoizedState;i.state=m,ph(e,s,i,r),mh(),u=e.memoizedState,l||m!==u||aa?(typeof h=="function"&&(Ex(e,n,h,s),u=e.memoizedState),(c=aa||YN(e,n,c,s,m,u,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,cw(t,e),a=e.memoizedProps,d=sl(n,a),i.props=d,h=e.pendingProps,m=i.context,u=n.contextType,c=_c,typeof u=="object"&&u!==null&&(c=En(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==c)&&QN(e,i,s,c),aa=!1,m=e.memoizedState,i.state=m,ph(e,s,i,r),mh();var g=e.memoizedState;a!==h||m!==g||aa||t!==null&&t.dependencies!==null&&Pg(t.dependencies)?(typeof l=="function"&&(Ex(e,n,l,s),g=e.memoizedState),(d=aa||YN(e,n,d,s,m,g,c)||t!==null&&t.dependencies!==null&&Pg(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),i.props=s,i.state=g,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,$p(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=tl(e,t.child,null,r),e.child=tl(e,null,n,r)):xn(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Ti(t,e,r),t}function rI(t,e,n,s){return Zo(),e.flags|=256,xn(t,e,n,s),e.child}var Sx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ax(t){return{baseLanes:t,cachePool:$k()}}function Nx(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=bs),t}function MD(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ze){if(r?ca(e):ua(),(t=vt)?(t=AM(t,Hs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Fa!==null?{id:Er,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},n=Uk(t),n.return=e,e.child=n,Tn=e,vt=null)):t=null,t===null)throw za(e);return Pw(t)?e.lanes=32:e.lanes=536870912,null}var l=s.children;return s=s.fallback,r?(ua(),r=e.mode,l=Ug({mode:"hidden",children:l},r),s=Uo(s,r,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,s=e.child,s.memoizedState=Ax(n),s.childLanes=Nx(t,a,n),e.memoizedState=Sx,Kd(null,s)):(ca(e),xw(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)e.flags&256?(ca(e),e.flags&=-257,e=Ix(t,e,n)):e.memoizedState!==null?(ua(),e.child=t.child,e.flags|=128,e=null):(ua(),l=s.fallback,r=e.mode,s=Ug({mode:"visible",children:s.children},r),l=Uo(l,r,n,null),l.flags|=2,s.return=e,l.return=e,s.sibling=l,e.child=s,tl(e,t.child,null,n),s=e.child,s.memoizedState=Ax(n),s.childLanes=Nx(t,a,n),e.memoizedState=Sx,e=Kd(null,s));else if(ca(e),Pw(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error(Y(419)),s.stack="",s.digest=a,Jh({value:s,source:null,stack:null}),e=Ix(t,e,n)}else if(en||qu(t,e,n,!1),a=(n&t.childLanes)!==0,en||a){if(a=ut,a!==null&&(s=dk(a,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Nl(t,s),os(a,t,s),iT;jw(l)||$g(),e=Ix(t,e,n)}else jw(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,vt=Xs(l.nextSibling),Tn=e,ze=!0,Sa=null,Hs=!1,t!==null&&zk(e,t),e=xw(e,s.children),e.flags|=4096);return e}return r?(ua(),l=s.fallback,r=e.mode,c=t.child,u=c.sibling,s=fi(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=fi(u,l):(l=Uo(l,r,n,null),l.flags|=2),l.return=e,s.return=e,s.sibling=l,e.child=s,Kd(null,s),s=e.child,l=t.child.memoizedState,l===null?l=Ax(n):(r=l.cachePool,r!==null?(c=Zt._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=$k(),l={baseLanes:l.baseLanes|n,cachePool:r}),s.memoizedState=l,s.childLanes=Nx(t,a,n),e.memoizedState=Sx,Kd(t.child,s)):(ca(e),n=t.child,t=n.sibling,n=fi(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function xw(t,e){return e=Ug({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ug(t,e){return t=ys(22,t,null,e),t.lanes=0,t}function Ix(t,e,n){return tl(e,t.child,null,n),t=xw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iI(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),aw(t.return,e,n)}function Cx(t,e,n,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r,a.treeForkCount=i)}function OD(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;s=s.children;var a=zt.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,ht(zt,a),xn(t,e,s,n),s=ze?Xh:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iI(t,n,e);else if(t.tag===19)iI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Mg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Cx(e,!1,r,n,i,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Mg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Cx(e,!0,n,null,i,s);break;case"together":Cx(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$a|=e.lanes,!(n&e.childLanes))if(t!==null){if(qu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aT(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Pg(t)))}function dB(t,e,n){switch(e.tag){case 3:Sg(e,e.stateNode.containerInfo),la(e,Zt,t.memoizedState.cache),Zo();break;case 27:case 5:Kb(e);break;case 4:Sg(e,e.stateNode.containerInfo);break;case 10:la(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,hw(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ca(e),e.flags|=128,null):n&e.child.childLanes?MD(t,e,n):(ca(e),t=Ti(t,e,n),t!==null?t.sibling:null);ca(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(qu(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return OD(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ht(zt,zt.current),s)break;return null;case 22:return e.lanes=0,DD(t,e,n,e.pendingProps);case 24:la(e,Zt,t.memoizedState.cache)}return Ti(t,e,n)}function VD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)en=!0;else{if(!aT(t,n)&&!(e.flags&128))return en=!1,dB(t,e,n);en=!!(t.flags&131072)}else en=!1,ze&&e.flags&1048576&&Fk(e,Xh,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=_o(e.elementType),e.type=t,typeof t=="function")L_(t)?(s=sl(t,s),e.tag=1,e=sI(null,e,t,s,n)):(e.tag=0,e=vw(null,e,t,s,n));else{if(t!=null){var r=t.$$typeof;if(r===E_){e.tag=11,e=JN(null,e,t,s,n);break e}else if(r===S_){e.tag=14,e=ZN(null,e,t,s,n);break e}}throw e=Hb(t)||t,Error(Y(306,e,""))}}return e;case 0:return vw(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=sl(s,e.pendingProps),sI(t,e,s,r,n);case 3:e:{if(Sg(e,e.stateNode.containerInfo),t===null)throw Error(Y(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,cw(t,e),ph(e,s,null,n);var a=e.memoizedState;if(s=a.cache,la(e,Zt,s),s!==i.cache&&ow(e,[Zt],n,!0),mh(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=rI(t,e,s,n);break e}else if(s!==r){r=qs(Error(Y(424)),e),Jh(r),e=rI(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Xs(t.firstChild),Tn=e,ze=!0,Sa=null,Hs=!0,n=Gk(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zo(),s===r){e=Ti(t,e,n);break e}xn(t,e,s,n)}e=e.child}return e;case 26:return $p(t,e),t===null?(n=SI(e.type,null,e.pendingProps,null))?e.memoizedState=n:ze||(n=e.type,t=e.pendingProps,s=Kg(Ea.current).createElement(n),s[_n]=e,s[cs]=t,Sn(s,n,t),mn(s),e.stateNode=s):e.memoizedState=SI(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Kb(e),t===null&&ze&&(s=e.stateNode=NM(e.type,e.pendingProps,Ea.current),Tn=e,Hs=!0,r=vt,so(e.type)?(kw=r,vt=Xs(s.firstChild)):vt=r),xn(t,e,e.pendingProps.children,n),$p(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ze&&((r=s=vt)&&(s=zB(s,e.type,e.pendingProps,Hs),s!==null?(e.stateNode=s,Tn=e,vt=Xs(s.firstChild),Hs=!1,r=!0):r=!1),r||za(e)),Kb(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Cw(r,i)?s=null:a!==null&&Cw(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=K_(t,e,nB,null,null,n),rf._currentValue=r),$p(t,e),xn(t,e,s,n),e.child;case 6:return t===null&&ze&&((t=n=vt)&&(n=BB(n,e.pendingProps,Hs),n!==null?(e.stateNode=n,Tn=e,vt=null,t=!0):t=!1),t||za(e)),null;case 13:return MD(t,e,n);case 4:return Sg(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=tl(e,null,s,n):xn(t,e,s,n),e.child;case 11:return JN(t,e,e.type,e.pendingProps,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,la(e,e.type,s.value),xn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,el(e),r=En(r),s=s(r),e.flags|=1,xn(t,e,s,n),e.child;case 14:return ZN(t,e,e.type,e.pendingProps,n);case 15:return kD(t,e,e.type,e.pendingProps,n);case 19:return OD(t,e,n);case 31:return uB(t,e,n);case 22:return DD(t,e,n,e.pendingProps);case 24:return el(e),s=En(Zt),t===null?(r=B_(),r===null&&(r=ut,i=z_(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},q_(e),la(e,Zt,r)):(t.lanes&n&&(cw(t,e),ph(e,null,null,n),mh()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),la(e,Zt,s)):(s=i.cache,la(e,Zt,s),s!==r.cache&&ow(e,[Zt],n,!0))),xn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Y(156,e.tag))}function Xr(t){t.flags|=4}function Rx(t,e,n,s,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(oM())t.flags|=8192;else throw zo=kg,$_}else t.flags&=-16777217}function aI(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!RM(e))if(oM())t.flags|=8192;else throw zo=kg,$_}function rp(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?lk():536870912,t.lanes|=e,ou|=e)}function Rd(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function hB(t,e,n){var s=e.pendingProps;switch(F_(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return gt(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),mi(Zt),tu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ql(e)?Xr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wx())),gt(e),null;case 26:var r=e.type,i=e.memoizedState;return t===null?(Xr(e),i!==null?(gt(e),aI(e,i)):(gt(e),Rx(e,r,null,s,n))):i?i!==t.memoizedState?(Xr(e),gt(e),aI(e,i)):(gt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Xr(e),gt(e),Rx(e,r,t,s,n)),null;case 27:if(Ag(e),n=Ea.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(!s){if(e.stateNode===null)throw Error(Y(166));return gt(e),null}t=Pr.current,ql(e)?MN(e):(t=NM(r,s,n),e.stateNode=t,Xr(e))}return gt(e),null;case 5:if(Ag(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(!s){if(e.stateNode===null)throw Error(Y(166));return gt(e),null}if(i=Pr.current,ql(e))MN(e);else{var a=Kg(Ea.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=a.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?a.createElement(r,{is:s.is}):a.createElement(r)}}i[_n]=e,i[cs]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=i;e:switch(Sn(i,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Xr(e)}}return gt(e),Rx(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Y(166));if(t=Ea.current,ql(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=Tn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[_n]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||TM(t.nodeValue,n)),t||za(e,!0)}else t=Kg(t).createTextNode(s),t[_n]=e,e.stateNode=t}return gt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=ql(e),n!==null){if(t===null){if(!s)throw Error(Y(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(557));t[_n]=e}else Zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),t=!1}else n=wx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ps(e),e):(ps(e),null);if(e.flags&128)throw Error(Y(558))}return gt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=ql(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(Y(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[_n]=e}else Zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),r=!1}else r=wx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(ps(e),e):(ps(e),null)}return ps(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),rp(e,e.updateQueue),gt(e),null);case 4:return tu(),t===null&&fT(e.stateNode.containerInfo),gt(e),null;case 10:return mi(e.type),gt(e),null;case 19:if(yn(zt),s=e.memoizedState,s===null)return gt(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Rd(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Mg(t),i!==null){for(e.flags|=128,Rd(s,!1),t=i.updateQueue,e.updateQueue=t,rp(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Lk(n,t),n=n.sibling;return ht(zt,zt.current&1|2),ze&&ri(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&_s()>zg&&(e.flags|=128,r=!0,Rd(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mg(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,rp(e,t),Rd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ze)return gt(e),null}else 2*_s()-s.renderingStartTime>zg&&n!==536870912&&(e.flags|=128,r=!0,Rd(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_s(),t.sibling=null,n=zt.current,ht(zt,r?n&1|2:n&1),ze&&ri(e,s.treeForkCount),t):(gt(e),null);case 22:case 23:return ps(e),H_(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),n=e.updateQueue,n!==null&&rp(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&yn(Fo),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mi(Zt),gt(e),null;case 25:return null;case 30:return null}throw Error(Y(156,e.tag))}function fB(t,e){switch(F_(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(Zt),tu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ag(e),null;case 31:if(e.memoizedState!==null){if(ps(e),e.alternate===null)throw Error(Y(340));Zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ps(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yn(zt),null;case 4:return tu(),null;case 10:return mi(e.type),null;case 22:case 23:return ps(e),H_(),t!==null&&yn(Fo),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mi(Zt),null;case 25:return null;default:return null}}function LD(t,e){switch(F_(e),e.tag){case 3:mi(Zt),tu();break;case 26:case 27:case 5:Ag(e);break;case 4:tu();break;case 31:e.memoizedState!==null&&ps(e);break;case 13:ps(e);break;case 19:yn(zt);break;case 10:mi(e.type);break;case 22:case 23:ps(e),H_(),t!==null&&yn(Fo);break;case 24:mi(Zt)}}function Jf(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(l){et(e,e.return,l)}}function Ba(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var c=n,u=l;try{u()}catch(d){et(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){et(e,e.return,d)}}function UD(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Wk(e,n)}catch(s){et(t,t.return,s)}}}function FD(t,e,n){n.props=sl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){et(t,e,s)}}function yh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){et(t,e,r)}}function Ar(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){et(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function zD(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){et(t,t.return,r)}}function jx(t,e,n){try{var s=t.stateNode;MB(s,t.type,n,e),s[cs]=e}catch(r){et(t,t.return,r)}}function BD(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&so(t.type)||t.tag===4}function Px(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&so(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bw(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=li));else if(s!==4&&(s===27&&so(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(bw(t,e,n),t=t.sibling;t!==null;)bw(t,e,n),t=t.sibling}function Fg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&so(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}function $D(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Sn(e,s,n),e[_n]=t,e[cs]=n}catch(i){et(t,t.return,i)}}var ii=!1,Yt=!1,kx=!1,oI=typeof WeakSet=="function"?WeakSet:Set,fn=null;function mB(t,e){if(t=t.containerInfo,Nw=Xg,t=Rk(t),M_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===r&&(l=a),m===i&&++d===s&&(c=a),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iw={focusedElem:t,selectionRange:n},Xg=!1,fn=e;fn!==null;)if(e=fn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fn=t;else for(;fn!==null;){switch(e=fn,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var x=sl(n.type,r);t=s.getSnapshotBeforeUpdate(x,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(y){et(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Rw(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rw(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Y(163))}if(t=e.sibling,t!==null){t.return=e.return,fn=t;break}fn=e.return}}function qD(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Zr(t,n),s&4&&Jf(5,n);break;case 1:if(Zr(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){et(n,n.return,a)}else{var r=sl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){et(n,n.return,a)}}s&64&&UD(n),s&512&&yh(n,n.return);break;case 3:if(Zr(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Wk(t,e)}catch(a){et(n,n.return,a)}}break;case 27:e===null&&s&4&&$D(n);case 26:case 5:Zr(t,n),e===null&&s&4&&zD(n),s&512&&yh(n,n.return);break;case 12:Zr(t,n);break;case 31:Zr(t,n),s&4&&KD(t,n);break;case 13:Zr(t,n),s&4&&WD(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=TB.bind(null,n),$B(t,n))));break;case 22:if(s=n.memoizedState!==null||ii,!s){e=e!==null&&e.memoizedState!==null||Yt,r=ii;var i=Yt;ii=s,(Yt=e)&&!i?ni(t,n,(n.subtreeFlags&8772)!==0):Zr(t,n),ii=r,Yt=i}break;case 30:break;default:Zr(t,n)}}function HD(t){var e=t.alternate;e!==null&&(t.alternate=null,HD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&C_(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,ns=!1;function Jr(t,e,n){for(n=n.child;n!==null;)GD(t,e,n),n=n.sibling}function GD(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Hf,n)}catch{}switch(n.tag){case 26:Yt||Ar(n,e),Jr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Yt||Ar(n,e);var s=Et,r=ns;so(n.type)&&(Et=n.stateNode,ns=!1),Jr(t,e,n),wh(n.stateNode),Et=s,ns=r;break;case 5:Yt||Ar(n,e);case 6:if(s=Et,r=ns,Et=null,Jr(t,e,n),Et=s,ns=r,Et!==null)if(ns)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(i){et(n,e,i)}else try{Et.removeChild(n.stateNode)}catch(i){et(n,e,i)}break;case 18:Et!==null&&(ns?(t=Et,bI(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),du(t)):bI(Et,n.stateNode));break;case 4:s=Et,r=ns,Et=n.stateNode.containerInfo,ns=!0,Jr(t,e,n),Et=s,ns=r;break;case 0:case 11:case 14:case 15:Ba(2,n,e),Yt||Ba(4,n,e),Jr(t,e,n);break;case 1:Yt||(Ar(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&FD(n,e,s)),Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:Yt=(s=Yt)||n.memoizedState!==null,Jr(t,e,n),Yt=s;break;default:Jr(t,e,n)}}function KD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{du(t)}catch(n){et(e,e.return,n)}}}function WD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{du(t)}catch(n){et(e,e.return,n)}}function pB(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new oI),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new oI),e;default:throw Error(Y(435,t.tag))}}function ip(t,e){var n=pB(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var r=EB.bind(null,t,s);s.then(r,r)}})}function Zn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(so(l.type)){Et=l.stateNode,ns=!1;break e}break;case 5:Et=l.stateNode,ns=!1;break e;case 3:case 4:Et=l.stateNode.containerInfo,ns=!0;break e}l=l.return}if(Et===null)throw Error(Y(160));GD(i,a,r),Et=null,ns=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)YD(e,t),e=e.sibling}var or=null;function YD(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zn(e,t),es(t),s&4&&(Ba(3,t,t.return),Jf(3,t),Ba(5,t,t.return));break;case 1:Zn(e,t),es(t),s&512&&(Yt||n===null||Ar(n,n.return)),s&64&&ii&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=or;if(Zn(e,t),es(t),s&512&&(Yt||n===null||Ar(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Wf]||i[_n]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Sn(i,s,n),i[_n]=t,mn(i),s=i;break e;case"link":var a=NI("link","href",r).get(s+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(i=a[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}i=r.createElement(s),Sn(i,s,n),r.head.appendChild(i);break;case"meta":if(a=NI("meta","content",r).get(s+(n.content||""))){for(l=0;l<a.length;l++)if(i=a[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}i=r.createElement(s),Sn(i,s,n),r.head.appendChild(i);break;default:throw Error(Y(468,s))}i[_n]=t,mn(i),s=i}t.stateNode=s}else II(r,t.type,t.stateNode);else t.stateNode=AI(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?II(r,t.type,t.stateNode):AI(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&jx(t,t.memoizedProps,n.memoizedProps)}break;case 27:Zn(e,t),es(t),s&512&&(Yt||n===null||Ar(n,n.return)),n!==null&&s&4&&jx(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Zn(e,t),es(t),s&512&&(Yt||n===null||Ar(n,n.return)),t.flags&32){r=t.stateNode;try{su(r,"")}catch(x){et(t,t.return,x)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,jx(t,r,n!==null?n.memoizedProps:r)),s&1024&&(kx=!0);break;case 6:if(Zn(e,t),es(t),s&4){if(t.stateNode===null)throw Error(Y(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(x){et(t,t.return,x)}}break;case 3:if(Gp=null,r=or,or=Wg(e.containerInfo),Zn(e,t),or=r,es(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{du(e.containerInfo)}catch(x){et(t,t.return,x)}kx&&(kx=!1,QD(t));break;case 4:s=or,or=Wg(t.stateNode.containerInfo),Zn(e,t),es(t),or=s;break;case 12:Zn(e,t),es(t);break;case 31:Zn(e,t),es(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ip(t,s)));break;case 13:Zn(e,t),es(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(by=_s()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ip(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ii,d=Yt;if(ii=u||r,Yt=d||c,Zn(e,t),Yt=d,ii=u,es(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||ii||Yt||To(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(x){et(c,c.return,x)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(x){et(c,c.return,x)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;r?wI(g,!0):wI(c.stateNode,!1)}catch(x){et(c,c.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ip(t,n))));break;case 19:Zn(e,t),es(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ip(t,s)));break;case 30:break;case 21:break;default:Zn(e,t),es(t)}}function es(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(BD(s)){n=s;break}s=s.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var r=n.stateNode,i=Px(t);Fg(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(su(a,""),n.flags&=-33);var l=Px(t);Fg(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Px(t);bw(t,u,c);break;default:throw Error(Y(161))}}catch(d){et(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QD(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;QD(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)qD(t,e.alternate,e),e=e.sibling}function To(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ba(4,e,e.return),To(e);break;case 1:Ar(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&FD(e,e.return,n),To(e);break;case 27:wh(e.stateNode);case 26:case 5:Ar(e,e.return),To(e);break;case 22:e.memoizedState===null&&To(e);break;case 30:To(e);break;default:To(e)}t=t.sibling}}function ni(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:ni(r,i,n),Jf(4,i);break;case 1:if(ni(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){et(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)Kk(c[r],l)}catch(u){et(s,s.return,u)}}n&&a&64&&UD(i),yh(i,i.return);break;case 27:$D(i);case 26:case 5:ni(r,i,n),n&&s===null&&a&4&&zD(i),yh(i,i.return);break;case 12:ni(r,i,n);break;case 31:ni(r,i,n),n&&a&4&&KD(r,i);break;case 13:ni(r,i,n),n&&a&4&&WD(r,i);break;case 22:i.memoizedState===null&&ni(r,i,n),yh(i,i.return);break;case 30:break;default:ni(r,i,n)}e=e.sibling}}function oT(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Qf(n))}function lT(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qf(t))}function ir(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)XD(t,e,n,s),e=e.sibling}function XD(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ir(t,e,n,s),r&2048&&Jf(9,e);break;case 1:ir(t,e,n,s);break;case 3:ir(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qf(t)));break;case 12:if(r&2048){ir(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,l=i.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){et(e,e.return,c)}}else ir(t,e,n,s);break;case 31:ir(t,e,n,s);break;case 13:ir(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?ir(t,e,n,s):vh(t,e):i._visibility&2?ir(t,e,n,s):(i._visibility|=2,sc(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),r&2048&&oT(a,e);break;case 24:ir(t,e,n,s),r&2048&&lT(e.alternate,e);break;default:ir(t,e,n,s)}}function sc(t,e,n,s,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,a=e,l=n,c=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:sc(i,a,l,c,r),Jf(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?sc(i,a,l,c,r):vh(i,a):(d._visibility|=2,sc(i,a,l,c,r)),r&&u&2048&&oT(a.alternate,a);break;case 24:sc(i,a,l,c,r),r&&u&2048&&lT(a.alternate,a);break;default:sc(i,a,l,c,r)}e=e.sibling}}function vh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:vh(n,s),r&2048&&oT(s.alternate,s);break;case 24:vh(n,s),r&2048&&lT(s.alternate,s);break;default:vh(n,s)}e=e.sibling}}var Wd=8192;function Hl(t,e,n){if(t.subtreeFlags&Wd)for(t=t.child;t!==null;)JD(t,e,n),t=t.sibling}function JD(t,e,n){switch(t.tag){case 26:Hl(t,e,n),t.flags&Wd&&t.memoizedState!==null&&t7(n,or,t.memoizedState,t.memoizedProps);break;case 5:Hl(t,e,n);break;case 3:case 4:var s=or;or=Wg(t.stateNode.containerInfo),Hl(t,e,n),or=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Wd,Wd=16777216,Hl(t,e,n),Wd=s):Hl(t,e,n));break;default:Hl(t,e,n)}}function ZD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function jd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];fn=s,tM(s,t)}ZD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eM(t),t=t.sibling}function eM(t){switch(t.tag){case 0:case 11:case 15:jd(t),t.flags&2048&&Ba(9,t,t.return);break;case 3:jd(t);break;case 12:jd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,qp(t)):jd(t);break;default:jd(t)}}function qp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];fn=s,tM(s,t)}ZD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ba(8,e,e.return),qp(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,qp(e));break;default:qp(e)}t=t.sibling}}function tM(t,e){for(;fn!==null;){var n=fn;switch(n.tag){case 0:case 11:case 15:Ba(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Qf(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,fn=s;else e:for(n=t;fn!==null;){s=fn;var r=s.sibling,i=s.return;if(HD(s),s===n){fn=null;break e}if(r!==null){r.return=i,fn=r;break e}fn=i}}}var gB={getCacheForType:function(t){var e=En(Zt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return En(Zt).controller.signal}},yB=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ut=null,Le=null,Fe=0,Ze=0,fs=null,xa=!1,Gu=!1,cT=!1,Ei=0,Ot=0,$a=0,Bo=0,uT=0,bs=0,ou=0,xh=null,ss=null,ww=!1,by=0,nM=0,zg=1/0,Bg=null,Ia=null,an=0,Ca=null,lu=null,pi=0,_w=0,Tw=null,sM=null,bh=0,Ew=null;function Ss(){return Qe&2&&Fe!==0?Fe&-Fe:be.T!==null?hT():hk()}function rM(){if(bs===0)if(!(Fe&536870912)||ze){var t=Xm;Xm<<=1,!(Xm&3932160)&&(Xm=262144),bs=t}else bs=536870912;return t=Rs.current,t!==null&&(t.flags|=32),bs}function os(t,e,n){(t===ut&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(cu(t,0),ba(t,Fe,bs,!1)),Kf(t,n),(!(Qe&2)||t!==ut)&&(t===ut&&(!(Qe&2)&&(Bo|=n),Ot===4&&ba(t,Fe,bs,!1)),Gr(t))}function iM(t,e,n){if(Qe&6)throw Error(Y(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Gf(t,e),r=s?bB(t,e):Dx(t,e,!0),i=s;do{if(r===0){Gu&&!s&&ba(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!vB(n)){r=Dx(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=xh;var c=l.current.memoizedState.isDehydrated;if(c&&(cu(l,a).flags|=256),a=Dx(l,a,!1),a!==2){if(cT&&!c){l.errorRecoveryDisabledLanes|=i,Bo|=i,r=4;break e}i=ss,ss=r,i!==null&&(ss===null?ss=i:ss.push.apply(ss,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){cu(t,0),ba(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(Y(345));case 4:if((e&4194048)!==e)break;case 6:ba(s,e,bs,!xa);break e;case 2:ss=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((e&62914560)===e&&(r=by+300-_s(),10<r)){if(ba(s,e,bs,!xa),cy(s,0,!0)!==0)break e;pi=e,s.timeoutHandle=SM(lI.bind(null,s,n,ss,Bg,ww,e,bs,Bo,ou,xa,i,"Throttled",-0,0),r);break e}lI(s,n,ss,Bg,ww,e,bs,Bo,ou,xa,i,null,-0,0)}}break}while(1);Gr(t)}function lI(t,e,n,s,r,i,a,l,c,u,d,h,m,g){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},JD(e,i,h);var x=(i&62914560)===i?by-_s():(i&4194048)===i?nM-_s():0;if(x=n7(h,x),x!==null){pi=i,t.cancelPendingCommit=x(uI.bind(null,t,e,i,n,s,r,a,l,c,d,h,null,m,g)),ba(t,i,a,!u);return}}uI(t,e,i,n,s,r,a,l,c)}function vB(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Cs(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(t,e,n,s){e&=~uT,e&=~Bo,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-Es(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&ck(t,n,e)}function wy(){return Qe&6?!0:(Zf(0,!1),!1)}function dT(){if(Le!==null){if(Ze===0)var t=Le.return;else t=Le,ci=Il=null,Q_(t),Vc=null,Zh=0,t=Le;for(;t!==null;)LD(t.alternate,t),t=t.return;Le=null}}function cu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,LB(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),pi=0,dT(),ut=t,Le=n=fi(t.current,null),Fe=e,Ze=0,fs=null,xa=!1,Gu=Gf(t,e),cT=!1,ou=bs=uT=Bo=$a=Ot=0,ss=xh=null,ww=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Es(s),i=1<<r;e|=t[r],s&=~i}return Ei=e,fy(),n}function aM(t,e){Ne=null,be.H=tf,e===Hu||e===py?(e=FN(),Ze=3):e===$_?(e=FN(),Ze=4):Ze=e===iT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,fs=e,Le===null&&(Ot=1,Lg(t,qs(e,t.current)))}function oM(){var t=Rs.current;return t===null?!0:(Fe&4194048)===Fe?Qs===null:(Fe&62914560)===Fe||Fe&536870912?t===Qs:!1}function lM(){var t=be.H;return be.H=tf,t===null?tf:t}function cM(){var t=be.A;return be.A=gB,t}function $g(){Ot=4,xa||(Fe&4194048)!==Fe&&Rs.current!==null||(Gu=!0),!($a&134217727)&&!(Bo&134217727)||ut===null||ba(ut,Fe,bs,!1)}function Dx(t,e,n){var s=Qe;Qe|=2;var r=lM(),i=cM();(ut!==t||Fe!==e)&&(Bg=null,cu(t,e)),e=!1;var a=Ot;e:do try{if(Ze!==0&&Le!==null){var l=Le,c=fs;switch(Ze){case 8:dT(),a=6;break e;case 3:case 2:case 9:case 6:Rs.current===null&&(e=!0);var u=Ze;if(Ze=0,fs=null,Sc(t,l,c,u),n&&Gu){a=0;break e}break;default:u=Ze,Ze=0,fs=null,Sc(t,l,c,u)}}xB(),a=Ot;break}catch(d){aM(t,d)}while(1);return e&&t.shellSuspendCounter++,ci=Il=null,Qe=s,be.H=r,be.A=i,Le===null&&(ut=null,Fe=0,fy()),a}function xB(){for(;Le!==null;)uM(Le)}function bB(t,e){var n=Qe;Qe|=2;var s=lM(),r=cM();ut!==t||Fe!==e?(Bg=null,zg=_s()+500,cu(t,e)):Gu=Gf(t,e);e:do try{if(Ze!==0&&Le!==null){e=Le;var i=fs;t:switch(Ze){case 1:Ze=0,fs=null,Sc(t,e,i,1);break;case 2:case 9:if(UN(i)){Ze=0,fs=null,cI(e);break}e=function(){Ze!==2&&Ze!==9||ut!==t||(Ze=7),Gr(t)},i.then(e,e);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:UN(i)?(Ze=0,fs=null,cI(e)):(Ze=0,fs=null,Sc(t,e,i,7));break;case 5:var a=null;switch(Le.tag){case 26:a=Le.memoizedState;case 5:case 27:var l=Le;if(a?RM(a):l.stateNode.complete){Ze=0,fs=null;var c=l.sibling;if(c!==null)Le=c;else{var u=l.return;u!==null?(Le=u,_y(u)):Le=null}break t}}Ze=0,fs=null,Sc(t,e,i,5);break;case 6:Ze=0,fs=null,Sc(t,e,i,6);break;case 8:dT(),Ot=6;break e;default:throw Error(Y(462))}}wB();break}catch(d){aM(t,d)}while(1);return ci=Il=null,be.H=s,be.A=r,Qe=n,Le!==null?0:(ut=null,Fe=0,fy(),Ot)}function wB(){for(;Le!==null&&!q8();)uM(Le)}function uM(t){var e=VD(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?_y(t):Le=e}function cI(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=nI(n,e,e.pendingProps,e.type,void 0,Fe);break;case 11:e=nI(n,e,e.pendingProps,e.type.render,e.ref,Fe);break;case 5:Q_(e);default:LD(n,e),e=Le=Lk(e,Ei),e=VD(n,e,Ei)}t.memoizedProps=t.pendingProps,e===null?_y(t):Le=e}function Sc(t,e,n,s){ci=Il=null,Q_(e),Vc=null,Zh=0;var r=e.return;try{if(cB(t,r,e,n,Fe)){Ot=1,Lg(t,qs(n,t.current)),Le=null;return}}catch(i){if(r!==null)throw Le=r,i;Ot=1,Lg(t,qs(n,t.current)),Le=null;return}e.flags&32768?(ze||s===1?t=!0:Gu||Fe&536870912?t=!1:(xa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Rs.current,s!==null&&s.tag===13&&(s.flags|=16384))),dM(e,t)):_y(e)}function _y(t){var e=t;do{if(e.flags&32768){dM(e,xa);return}t=e.return;var n=hB(e.alternate,e,Ei);if(n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Ot===0&&(Ot=5)}function dM(t,e){do{var n=fB(t.alternate,t);if(n!==null){n.flags&=32767,Le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Le=t;return}Le=t=n}while(t!==null);Ot=6,Le=null}function uI(t,e,n,s,r,i,a,l,c){t.cancelPendingCommit=null;do Ty();while(an!==0);if(Qe&6)throw Error(Y(327));if(e!==null){if(e===t.current)throw Error(Y(177));if(i=e.lanes|e.childLanes,i|=O_,ez(t,n,i,a,l,c),t===ut&&(Le=ut=null,Fe=0),lu=e,Ca=t,pi=n,_w=i,Tw=r,sM=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,SB(Ng,function(){return gM(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=be.T,be.T=null,r=Je.p,Je.p=2,a=Qe,Qe|=4;try{mB(t,e,n)}finally{Qe=a,Je.p=r,be.T=s}}an=1,hM(),fM(),mM()}}function hM(){if(an===1){an=0;var t=Ca,e=lu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=be.T,be.T=null;var s=Je.p;Je.p=2;var r=Qe;Qe|=4;try{YD(e,t);var i=Iw,a=Rk(t.containerInfo),l=i.focusedElem,c=i.selectionRange;if(a!==l&&l&&l.ownerDocument&&Ck(l.ownerDocument.documentElement,l)){if(c!==null&&M_(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var g=m.getSelection(),x=l.textContent.length,y=Math.min(c.start,x),w=c.end===void 0?y:Math.min(c.end,x);!g.extend&&y>w&&(a=w,w=y,y=a);var v=PN(l,y),_=PN(l,w);if(v&&_&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==_.node||g.focusOffset!==_.offset)){var T=h.createRange();T.setStart(v.node,v.offset),g.removeAllRanges(),y>w?(g.addRange(T),g.extend(_.node,_.offset)):(T.setEnd(_.node,_.offset),g.addRange(T))}}}}for(h=[],g=l;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var N=h[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Xg=!!Nw,Iw=Nw=null}finally{Qe=r,Je.p=s,be.T=n}}t.current=e,an=2}}function fM(){if(an===2){an=0;var t=Ca,e=lu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=be.T,be.T=null;var s=Je.p;Je.p=2;var r=Qe;Qe|=4;try{qD(t,e.alternate,e)}finally{Qe=r,Je.p=s,be.T=n}}an=3}}function mM(){if(an===4||an===3){an=0,H8();var t=Ca,e=lu,n=pi,s=sM;e.subtreeFlags&10256||e.flags&10256?an=5:(an=0,lu=Ca=null,pM(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ia=null),I_(n),e=e.stateNode,Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Hf,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=be.T,r=Je.p,Je.p=2,be.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var l=s[a];i(l.value,{componentStack:l.stack})}}finally{be.T=e,Je.p=r}}pi&3&&Ty(),Gr(t),r=t.pendingLanes,n&261930&&r&42?t===Ew?bh++:(bh=0,Ew=t):bh=0,Zf(0,!1)}}function pM(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Qf(e)))}function Ty(){return hM(),fM(),mM(),gM()}function gM(){if(an!==5)return!1;var t=Ca,e=_w;_w=0;var n=I_(pi),s=be.T,r=Je.p;try{Je.p=32>n?32:n,be.T=null,n=Tw,Tw=null;var i=Ca,a=pi;if(an=0,lu=Ca=null,pi=0,Qe&6)throw Error(Y(331));var l=Qe;if(Qe|=4,eM(i.current),XD(i,i.current,a,n),Qe=l,Zf(0,!1),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Hf,i)}catch{}return!0}finally{Je.p=r,be.T=s,pM(t,e)}}function dI(t,e,n){e=qs(n,e),e=yw(t.stateNode,e,2),t=Na(t,e,2),t!==null&&(Kf(t,2),Gr(t))}function et(t,e,n){if(t.tag===3)dI(t,t,n);else for(;e!==null;){if(e.tag===3){dI(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ia===null||!Ia.has(s))){t=qs(n,t),n=jD(2),s=Na(e,n,2),s!==null&&(PD(n,s,e,t),Kf(s,2),Gr(s));break}}e=e.return}}function Mx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new yB;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(cT=!0,r.add(n),t=_B.bind(null,t,e,n),e.then(t,t))}function _B(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ut===t&&(Fe&n)===n&&(Ot===4||Ot===3&&(Fe&62914560)===Fe&&300>_s()-by?!(Qe&2)&&cu(t,0):uT|=n,ou===Fe&&(ou=0)),Gr(t)}function yM(t,e){e===0&&(e=lk()),t=Nl(t,e),t!==null&&(Kf(t,e),Gr(t))}function TB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yM(t,n)}function EB(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(Y(314))}s!==null&&s.delete(e),yM(t,n)}function SB(t,e){return A_(t,e)}var qg=null,rc=null,Sw=!1,Hg=!1,Ox=!1,wa=0;function Gr(t){t!==rc&&t.next===null&&(rc===null?qg=rc=t:rc=rc.next=t),Hg=!0,Sw||(Sw=!0,NB())}function Zf(t,e){if(!Ox&&Hg){Ox=!0;do for(var n=!1,s=qg;s!==null;){if(!e)if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-Es(42|t)+1)-1,i&=r&~(a&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,hI(s,i))}else i=Fe,i=cy(s,s===ut?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Gf(s,i)||(n=!0,hI(s,i));s=s.next}while(n);Ox=!1}}function AB(){vM()}function vM(){Hg=Sw=!1;var t=0;wa!==0&&VB()&&(t=wa);for(var e=_s(),n=null,s=qg;s!==null;){var r=s.next,i=xM(s,e);i===0?(s.next=null,n===null?qg=r:n.next=r,r===null&&(rc=n)):(n=s,(t!==0||i&3)&&(Hg=!0)),s=r}an!==0&&an!==5||Zf(t,!1),wa!==0&&(wa=0)}function xM(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-Es(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=Z8(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}if(e=ut,n=Fe,n=cy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ux(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Gf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&ux(s),I_(n)){case 2:case 8:n=ak;break;case 32:n=Ng;break;case 268435456:n=ok;break;default:n=Ng}return s=bM.bind(null,t),n=A_(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&ux(s),t.callbackPriority=2,t.callbackNode=null,2}function bM(t,e){if(an!==0&&an!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ty()&&t.callbackNode!==n)return null;var s=Fe;return s=cy(t,t===ut?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(iM(t,s,e),xM(t,_s()),t.callbackNode!=null&&t.callbackNode===n?bM.bind(null,t):null)}function hI(t,e){if(Ty())return null;iM(t,e,!0)}function NB(){UB(function(){Qe&6?A_(ik,AB):vM()})}function hT(){if(wa===0){var t=ru;t===0&&(t=Qm,Qm<<=1,!(Qm&261888)&&(Qm=256)),wa=t}return wa}function fI(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mp(""+t)}function mI(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function IB(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=fI((r[cs]||null).action),a=s.submitter;a&&(e=(e=a[cs]||null)?fI(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var l=new uy("action","action",null,s,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(wa!==0){var c=a?mI(r,a):new FormData(r);pw(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=a?mI(r,a):new FormData(r),pw(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var Vx=0;Vx<sw.length;Vx++){var Lx=sw[Vx],CB=Lx.toLowerCase(),RB=Lx[0].toUpperCase()+Lx.slice(1);pr(CB,"on"+RB)}pr(Pk,"onAnimationEnd");pr(kk,"onAnimationIteration");pr(Dk,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(Gz,"onTransitionRun");pr(Kz,"onTransitionStart");pr(Wz,"onTransitionCancel");pr(Mk,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));El("onBeforeInput",["compositionend","keypress","textInput","paste"]);El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nf));function wM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Cg(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Cg(d)}r.currentTarget=null,i=c}}}}function Ve(t,e){var n=e[Yb];n===void 0&&(n=e[Yb]=new Set);var s=t+"__bubble";n.has(s)||(_M(e,t,2,!1),n.add(s))}function Ux(t,e,n){var s=0;e&&(s|=4),_M(n,t,s,e)}var ap="_reactListening"+Math.random().toString(36).slice(2);function fT(t){if(!t[ap]){t[ap]=!0,fk.forEach(function(n){n!=="selectionchange"&&(jB.has(n)||Ux(n,!1,t),Ux(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ap]||(e[ap]=!0,Ux("selectionchange",!1,e))}}function _M(t,e,n,s){switch(MM(e)){case 2:var r=i7;break;case 8:r=a7;break;default:r=yT}n=r.bind(null,e,n,t),r=void 0,!ew||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Fx(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=gc(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}l=l.parentNode}}s=s.return}wk(function(){var u=i,d=j_(n),h=[];e:{var m=Ok.get(t);if(m!==void 0){var g=uy,x=t;switch(t){case"keypress":if(Vp(n)===0)break e;case"keydown":case"keyup":g=Ez;break;case"focusin":x="focus",g=px;break;case"focusout":x="blur",g=px;break;case"beforeblur":case"afterblur":g=px;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_N;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Nz;break;case Pk:case kk:case Dk:g=pz;break;case Mk:g=Cz;break;case"scroll":case"scrollend":g=uz;break;case"wheel":g=jz;break;case"copy":case"cut":case"paste":g=yz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=EN;break;case"toggle":case"beforetoggle":g=kz}var y=(e&4)!==0,w=!y&&(t==="scroll"||t==="scrollend"),v=y?m!==null?m+"Capture":null:m;y=[];for(var _=u,T;_!==null;){var N=_;if(T=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||T===null||v===null||(N=Wh(_,v),N!=null&&y.push(sf(_,N,T))),w)break;_=_.return}0<y.length&&(m=new g(m,x,null,n,d),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Zb&&(x=n.relatedTarget||n.fromElement)&&(gc(x)||x[Bu]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?gc(x):null,x!==null&&(w=qf(x),y=x.tag,x!==w||y!==5&&y!==27&&y!==6)&&(x=null)):(g=null,x=u),g!==x)){if(y=_N,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=EN,N="onPointerLeave",v="onPointerEnter",_="pointer"),w=g==null?m:Gd(g),T=x==null?m:Gd(x),m=new y(N,_+"leave",g,n,d),m.target=w,m.relatedTarget=T,N=null,gc(d)===u&&(y=new y(v,_+"enter",x,n,d),y.target=T,y.relatedTarget=w,N=y),w=N,g&&x)t:{for(y=PB,v=g,_=x,T=0,N=v;N;N=y(N))T++;N=0;for(var C=_;C;C=y(C))N++;for(;0<T-N;)v=y(v),T--;for(;0<N-T;)_=y(_),N--;for(;T--;){if(v===_||_!==null&&v===_.alternate){y=v;break t}v=y(v),_=y(_)}y=null}else y=null;g!==null&&pI(h,m,g,y,!1),x!==null&&w!==null&&pI(h,w,x,y,!0)}}e:{if(m=u?Gd(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var j=IN;else if(NN(m))if(Nk)j=$z;else{j=zz;var S=Fz}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&R_(u.elementType)&&(j=IN):j=Bz;if(j&&(j=j(t,u))){Ak(h,j,n,d);break e}S&&S(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Jb(m,"number",m.value)}switch(S=u?Gd(u):window,t){case"focusin":(NN(S)||S.contentEditable==="true")&&(xc=S,tw=u,dh=null);break;case"focusout":dh=tw=xc=null;break;case"mousedown":nw=!0;break;case"contextmenu":case"mouseup":case"dragend":nw=!1,kN(h,n,d);break;case"selectionchange":if(Hz)break;case"keydown":case"keyup":kN(h,n,d)}var E;if(D_)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vc?Ek(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Tk&&n.locale!=="ko"&&(vc||I!=="onCompositionStart"?I==="onCompositionEnd"&&vc&&(E=_k()):(va=d,P_="value"in va?va.value:va.textContent,vc=!0)),S=Gg(u,I),0<S.length&&(I=new TN(I,t,null,n,d),h.push({event:I,listeners:S}),E?I.data=E:(E=Sk(n),E!==null&&(I.data=E)))),(E=Mz?Oz(t,n):Vz(t,n))&&(I=Gg(u,"onBeforeInput"),0<I.length&&(S=new TN("onBeforeInput","beforeinput",null,n,d),h.push({event:S,listeners:I}),S.data=E)),IB(h,t,u,n,d)}wM(h,e)})}function sf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gg(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Wh(t,n),r!=null&&s.unshift(sf(t,r,i)),r=Wh(t,e),r!=null&&s.push(sf(t,r,i))),t.tag===3)return s;t=t.return}return[]}function PB(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pI(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=Wh(n,i),u!=null&&a.unshift(sf(n,u,c))):r||(u=Wh(n,i),u!=null&&a.push(sf(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var kB=/\r\n?/g,DB=/\u0000|\uFFFD/g;function gI(t){return(typeof t=="string"?t:""+t).replace(kB,`
`).replace(DB,"")}function TM(t,e){return e=gI(e),gI(t)===e}function nt(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||su(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&su(t,""+s);break;case"className":Zm(t,"class",s);break;case"tabIndex":Zm(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Zm(t,n,s);break;case"style":bk(t,s,i);break;case"data":if(e!=="object"){Zm(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Mp(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&nt(t,e,"name",r.name,r,null),nt(t,e,"formEncType",r.formEncType,r,null),nt(t,e,"formMethod",r.formMethod,r,null),nt(t,e,"formTarget",r.formTarget,r,null)):(nt(t,e,"encType",r.encType,r,null),nt(t,e,"method",r.method,r,null),nt(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Mp(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=li);break;case"onScroll":s!=null&&Ve("scroll",t);break;case"onScrollEnd":s!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Mp(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Dp(t,"popover",s);break;case"xlinkActuate":Qr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Dp(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lz.get(n)||n,Dp(t,n,s))}}function Aw(t,e,n,s,r,i){switch(n){case"style":bk(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"children":typeof s=="string"?su(t,s):(typeof s=="number"||typeof s=="bigint")&&su(t,""+s);break;case"onScroll":s!=null&&Ve("scroll",t);break;case"onScrollEnd":s!=null&&Ve("scrollend",t);break;case"onClick":s!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mk.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[cs]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Dp(t,n,s)}}}function Sn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:nt(t,e,i,a,n,null)}}r&&nt(t,e,"srcSet",n.srcSet,n,null),s&&nt(t,e,"src",n.src,n,null);return;case"input":Ve("invalid",t);var l=i=a=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,e));break;default:nt(t,e,s,d,n,null)}}yk(t,i,l,c,u,a,r,!1);return;case"select":Ve("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:nt(t,e,r,l,n,null)}e=i,n=a,t.multiple=!!s,e!=null?Dc(t,!!s,e,!1):n!=null&&Dc(t,!!s,n,!0);return;case"textarea":Ve("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Y(91));break;default:nt(t,e,a,l,n,null)}xk(t,s,r,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:nt(t,e,c,s,n,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(s=0;s<nf.length;s++)Ve(nf[s],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:nt(t,e,u,s,n,null)}return;default:if(R_(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Aw(t,e,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&nt(t,e,l,s,n,null))}function MB(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,l=null,c=null,u=null,d=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(g)||nt(t,e,g,null,s,h)}}for(var m in s){var g=s[m];if(h=n[m],s.hasOwnProperty(m)&&(g!=null||h!=null))switch(m){case"type":i=g;break;case"name":r=g;break;case"checked":u=g;break;case"defaultChecked":d=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Y(137,e));break;default:g!==h&&nt(t,e,m,g,s,h)}}Xb(t,a,l,c,u,d,i,r);return;case"select":g=a=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":g=c;default:s.hasOwnProperty(i)||nt(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&nt(t,e,r,i,s,c)}e=l,n=a,s=g,m!=null?Dc(t,!!n,m,!1):!!s!=!!n&&(e!=null?Dc(t,!!n,e,!0):Dc(t,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:nt(t,e,l,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":m=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==i&&nt(t,e,a,r,s,i)}vk(t,m,g);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:nt(t,e,x,null,s,m)}for(c in s)if(m=s[c],g=n[c],s.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:nt(t,e,c,m,s,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y)&&nt(t,e,y,null,s,m);for(u in s)if(m=s[u],g=n[u],s.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,e));break;default:nt(t,e,u,m,s,g)}return;default:if(R_(e)){for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!==void 0&&!s.hasOwnProperty(w)&&Aw(t,e,w,void 0,s,m);for(d in s)m=s[d],g=n[d],!s.hasOwnProperty(d)||m===g||m===void 0&&g===void 0||Aw(t,e,d,m,s,g);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!s.hasOwnProperty(v)&&nt(t,e,v,null,s,m);for(h in s)m=s[h],g=n[h],!s.hasOwnProperty(h)||m===g||m==null&&g==null||nt(t,e,h,m,s,g)}function yI(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OB(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],i=r.transferSize,a=r.initiatorType,l=r.duration;if(i&&l&&yI(a)){for(a=0,l=r.responseEnd,s+=1;s<n.length;s++){var c=n[s],u=c.startTime;if(u>l)break;var d=c.transferSize,h=c.initiatorType;d&&yI(h)&&(c=c.responseEnd,a+=d*(c<l?1:(l-u)/(c-u)))}if(--s,e+=8*(i+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nw=null,Iw=null;function Kg(t){return t.nodeType===9?t:t.ownerDocument}function vI(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EM(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Cw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zx=null;function VB(){var t=window.event;return t&&t.type==="popstate"?t===zx?!1:(zx=t,!0):(zx=null,!1)}var SM=typeof setTimeout=="function"?setTimeout:void 0,LB=typeof clearTimeout=="function"?clearTimeout:void 0,xI=typeof Promise=="function"?Promise:void 0,UB=typeof queueMicrotask=="function"?queueMicrotask:typeof xI<"u"?function(t){return xI.resolve(null).then(t).catch(FB)}:SM;function FB(t){setTimeout(function(){throw t})}function so(t){return t==="head"}function bI(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(r),du(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")wh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,wh(n);for(var i=n.firstChild;i;){var a=i.nextSibling,l=i.nodeName;i[Wf]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=a}}else n==="body"&&wh(t.ownerDocument.body);n=r}while(n);du(e)}function wI(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Rw(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rw(n),C_(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function zB(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Wf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Xs(t.nextSibling),t===null)break}return null}function BB(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xs(t.nextSibling),t===null))return null;return t}function AM(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Xs(t.nextSibling),t===null))return null;return t}function jw(t){return t.data==="$?"||t.data==="$~"}function Pw(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $B(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var kw=null;function _I(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Xs(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function TI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function NM(t,e,n){switch(e=Kg(n),t){case"html":if(t=e.documentElement,!t)throw Error(Y(452));return t;case"head":if(t=e.head,!t)throw Error(Y(453));return t;case"body":if(t=e.body,!t)throw Error(Y(454));return t;default:throw Error(Y(451))}}function wh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);C_(t)}var tr=new Map,EI=new Set;function Wg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=Je.d;Je.d={f:qB,r:HB,D:GB,C:KB,L:WB,m:YB,X:XB,S:QB,M:JB};function qB(){var t=Mi.f(),e=wy();return t||e}function HB(t){var e=$u(t);e!==null&&e.tag===5&&e.type==="form"?bD(e):Mi.r(t)}var Ku=typeof document>"u"?null:document;function IM(t,e,n){var s=Ku;if(s&&typeof e=="string"&&e){var r=$s(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),EI.has(r)||(EI.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Sn(e,"link",t),mn(e),s.head.appendChild(e)))}}function GB(t){Mi.D(t),IM("dns-prefetch",t,null)}function KB(t,e){Mi.C(t,e),IM("preconnect",t,e)}function WB(t,e,n){Mi.L(t,e,n);var s=Ku;if(s&&t&&e){var r='link[rel="preload"][as="'+$s(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$s(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$s(n.imageSizes)+'"]')):r+='[href="'+$s(t)+'"]';var i=r;switch(e){case"style":i=uu(t);break;case"script":i=Wu(t)}tr.has(i)||(t=_t({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tr.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(em(i))||e==="script"&&s.querySelector(tm(i))||(e=s.createElement("link"),Sn(e,"link",t),mn(e),s.head.appendChild(e)))}}function YB(t,e){Mi.m(t,e);var n=Ku;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+$s(s)+'"][href="'+$s(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Wu(t)}if(!tr.has(i)&&(t=_t({rel:"modulepreload",href:t},e),tr.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(tm(i)))return}s=n.createElement("link"),Sn(s,"link",t),mn(s),n.head.appendChild(s)}}}function QB(t,e,n){Mi.S(t,e,n);var s=Ku;if(s&&t){var r=kc(s).hoistableStyles,i=uu(t);e=e||"default";var a=r.get(i);if(!a){var l={loading:0,preload:null};if(a=s.querySelector(em(i)))l.loading=5;else{t=_t({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tr.get(i))&&mT(t,n);var c=a=s.createElement("link");mn(c),Sn(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Hp(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(i,a)}}}function XB(t,e){Mi.X(t,e);var n=Ku;if(n&&t){var s=kc(n).hoistableScripts,r=Wu(t),i=s.get(r);i||(i=n.querySelector(tm(r)),i||(t=_t({src:t,async:!0},e),(e=tr.get(r))&&pT(t,e),i=n.createElement("script"),mn(i),Sn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function JB(t,e){Mi.M(t,e);var n=Ku;if(n&&t){var s=kc(n).hoistableScripts,r=Wu(t),i=s.get(r);i||(i=n.querySelector(tm(r)),i||(t=_t({src:t,async:!0,type:"module"},e),(e=tr.get(r))&&pT(t,e),i=n.createElement("script"),mn(i),Sn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function SI(t,e,n,s){var r=(r=Ea.current)?Wg(r):null;if(!r)throw Error(Y(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=uu(n.href),n=kc(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=uu(n.href);var i=kc(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(em(t)))&&!i._p&&(a.instance=i,a.state.loading=5),tr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tr.set(t,n),i||ZB(r,t,n,a.state))),e&&s===null)throw Error(Y(528,""));return a}if(e&&s!==null)throw Error(Y(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Wu(n),n=kc(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,t))}}function uu(t){return'href="'+$s(t)+'"'}function em(t){return'link[rel="stylesheet"]['+t+"]"}function CM(t){return _t({},t,{"data-precedence":t.precedence,precedence:null})}function ZB(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Sn(e,"link",n),mn(e),t.head.appendChild(e))}function Wu(t){return'[src="'+$s(t)+'"]'}function tm(t){return"script[async]"+t}function AI(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+$s(n.href)+'"]');if(s)return e.instance=s,mn(s),s;var r=_t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),mn(s),Sn(s,"style",r),Hp(s,n.precedence,t),e.instance=s;case"stylesheet":r=uu(n.href);var i=t.querySelector(em(r));if(i)return e.state.loading|=4,e.instance=i,mn(i),i;s=CM(n),(r=tr.get(r))&&mT(s,r),i=(t.ownerDocument||t).createElement("link"),mn(i);var a=i;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),Sn(i,"link",s),e.state.loading|=4,Hp(i,n.precedence,t),e.instance=i;case"script":return i=Wu(n.src),(r=t.querySelector(tm(i)))?(e.instance=r,mn(r),r):(s=n,(r=tr.get(i))&&(s=_t({},n),pT(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),mn(r),Sn(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(Y(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Hp(s,n.precedence,t));return e.instance}function Hp(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var l=s[a];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function mT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function pT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Gp=null;function NI(t,e,n){if(Gp===null){var s=new Map,r=Gp=new Map;r.set(n,s)}else r=Gp,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Wf]||i[_n]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var l=s.get(a);l?l.push(i):s.set(a,[i])}}return s}function II(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function e7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function RM(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function t7(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=uu(s.href),i=e.querySelector(em(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Yg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,mn(i);return}i=e.ownerDocument||e,s=CM(s),(r=tr.get(r))&&mT(s,r),i=i.createElement("link"),mn(i);var a=i;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),Sn(i,"link",s),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Yg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Bx=0;function n7(t,e){return t.stylesheets&&t.count===0&&Kp(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Kp(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Bx===0&&(Bx=62500*OB());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kp(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Bx?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Yg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qg=null;function Kp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qg=new Map,e.forEach(s7,t),Qg=null,Yg.call(t))}function s7(t,e){if(!(e.state.loading&4)){var n=Qg.get(t);if(n)var s=n.get(null);else{n=new Map,Qg.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=Yg.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var rf={$$typeof:oi,Provider:null,Consumer:null,_currentValue:Lo,_currentValue2:Lo,_threadCount:0};function r7(t,e,n,s,r,i,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dx(0),this.hiddenUpdates=dx(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function jM(t,e,n,s,r,i,a,l,c,u,d,h){return t=new r7(t,e,n,a,c,u,d,h,l),e=1,i===!0&&(e|=24),i=ys(3,null,null,e),t.current=i,i.stateNode=t,e=z_(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},q_(i),t}function PM(t){return t?(t=_c,t):_c}function kM(t,e,n,s,r,i){r=PM(r),s.context===null?s.context=r:s.pendingContext=r,s=Aa(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=Na(t,s,e),n!==null&&(os(n,t,e),fh(n,t,e))}function CI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gT(t,e){CI(t,e),(t=t.alternate)&&CI(t,e)}function DM(t){if(t.tag===13||t.tag===31){var e=Nl(t,67108864);e!==null&&os(e,t,67108864),gT(t,67108864)}}function RI(t){if(t.tag===13||t.tag===31){var e=Ss();e=N_(e);var n=Nl(t,e);n!==null&&os(n,t,e),gT(t,e)}}var Xg=!0;function i7(t,e,n,s){var r=be.T;be.T=null;var i=Je.p;try{Je.p=2,yT(t,e,n,s)}finally{Je.p=i,be.T=r}}function a7(t,e,n,s){var r=be.T;be.T=null;var i=Je.p;try{Je.p=8,yT(t,e,n,s)}finally{Je.p=i,be.T=r}}function yT(t,e,n,s){if(Xg){var r=Dw(s);if(r===null)Fx(t,e,s,Jg,n),jI(t,s);else if(l7(r,t,e,n,s))s.stopPropagation();else if(jI(t,s),e&4&&-1<o7.indexOf(t)){for(;r!==null;){var i=$u(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=wo(i.pendingLanes);if(a!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-Es(a);l.entanglements[1]|=c,a&=~c}Gr(i),!(Qe&6)&&(zg=_s()+500,Zf(0,!1))}}break;case 31:case 13:l=Nl(i,2),l!==null&&os(l,i,2),wy(),gT(i,2)}if(i=Dw(s),i===null&&Fx(t,e,s,Jg,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Fx(t,e,s,null,n)}}function Dw(t){return t=j_(t),vT(t)}var Jg=null;function vT(t){if(Jg=null,t=gc(t),t!==null){var e=qf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ek(e),t!==null)return t;t=null}else if(n===31){if(t=tk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Jg=t,null}function MM(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G8()){case ik:return 2;case ak:return 8;case Ng:case K8:return 32;case ok:return 268435456;default:return 32}default:return 32}}var Mw=!1,Ra=null,ja=null,Pa=null,af=new Map,of=new Map,da=[],o7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jI(t,e){switch(t){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":af.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(e.pointerId)}}function Pd(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=$u(e),e!==null&&DM(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function l7(t,e,n,s,r){switch(e){case"focusin":return Ra=Pd(Ra,t,e,n,s,r),!0;case"dragenter":return ja=Pd(ja,t,e,n,s,r),!0;case"mouseover":return Pa=Pd(Pa,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return af.set(i,Pd(af.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,of.set(i,Pd(of.get(i)||null,t,e,n,s,r)),!0}return!1}function OM(t){var e=gc(t.target);if(e!==null){var n=qf(e);if(n!==null){if(e=n.tag,e===13){if(e=ek(n),e!==null){t.blockedOn=e,pN(t.priority,function(){RI(n)});return}}else if(e===31){if(e=tk(n),e!==null){t.blockedOn=e,pN(t.priority,function(){RI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dw(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Zb=s,n.target.dispatchEvent(s),Zb=null}else return e=$u(n),e!==null&&DM(e),t.blockedOn=n,!1;e.shift()}return!0}function PI(t,e,n){Wp(t)&&n.delete(e)}function c7(){Mw=!1,Ra!==null&&Wp(Ra)&&(Ra=null),ja!==null&&Wp(ja)&&(ja=null),Pa!==null&&Wp(Pa)&&(Pa=null),af.forEach(PI),of.forEach(PI)}function op(t,e){t.blockedOn===e&&(t.blockedOn=null,Mw||(Mw=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,c7)))}var lp=null;function kI(t){lp!==t&&(lp=t,on.unstable_scheduleCallback(on.unstable_NormalPriority,function(){lp===t&&(lp=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(vT(s||n)===null)continue;break}var i=$u(n);i!==null&&(t.splice(e,3),e-=3,pw(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function du(t){function e(c){return op(c,t)}Ra!==null&&op(Ra,t),ja!==null&&op(ja,t),Pa!==null&&op(Pa,t),af.forEach(e),of.forEach(e);for(var n=0;n<da.length;n++){var s=da[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<da.length&&(n=da[0],n.blockedOn===null);)OM(n),n.blockedOn===null&&da.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[cs]||null;if(typeof i=="function")a||kI(n);else if(a){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[cs]||null)l=a.formAction;else if(vT(r)!==null)continue}else l=a.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),kI(n)}}}function VM(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function xT(t){this._internalRoot=t}Ey.prototype.render=xT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));var n=e.current,s=Ss();kM(n,s,t,e,null,null)};Ey.prototype.unmount=xT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kM(t.current,2,null,t,null,null),wy(),e[Bu]=null}};function Ey(t){this._internalRoot=t}Ey.prototype.unstable_scheduleHydration=function(t){if(t){var e=hk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<da.length&&e!==0&&e<da[n].priority;n++);da.splice(n,0,t),n===0&&OM(t)}};var DI=JP.version;if(DI!=="19.2.0")throw Error(Y(527,DI,"19.2.0"));Je.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=U8(e),t=t!==null?nk(t):null,t=t===null?null:t.stateNode,t};var u7={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{Hf=cp.inject(u7),Ts=cp}catch{}}oy.createRoot=function(t,e){if(!ZP(t))throw Error(Y(299));var n=!1,s="",r=ID,i=CD,a=RD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=jM(t,1,!1,null,null,n,s,null,r,i,a,VM),t[Bu]=e.current,fT(t),new xT(e)};oy.hydrateRoot=function(t,e,n){if(!ZP(t))throw Error(Y(299));var s=!1,r="",i=ID,a=CD,l=RD,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=jM(t,1,!0,e,n??null,s,r,c,i,a,l,VM),e.context=PM(null),n=e.current,s=Ss(),s=N_(s),r=Aa(s),r.callback=null,Na(n,r,s),n=s,e.current.lanes=n,Kf(e,n),Gr(e),t[Bu]=e.current,fT(t),new Ey(e)};oy.version="19.2.0";function LM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LM)}catch(t){console.error(t)}}LM(),GP.exports=oy;var d7=GP.exports;const h7=Tl(d7);var UM={exports:{}},f7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m7=f7,p7=m7;function FM(){}function zM(){}zM.resetWarningCache=FM;var g7=function(){function t(s,r,i,a,l,c){if(c!==p7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zM,resetWarningCache:FM};return n.PropTypes=n,n};UM.exports=g7();var y7=UM.exports;const Tt=Tl(y7);function v7(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var BM=p,x7=v7(BM);function MI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var w7=!!(typeof window<"u"&&window.document&&window.document.createElement);function _7(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(r){return r.displayName||r.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){b7(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,a=[],x};var m=h.prototype;return m.UNSAFE_componentWillMount=function(){a.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var x=a.indexOf(this);a.splice(x,1),c()},m.render=function(){return x7.createElement(i,this.props)},h}(BM.PureComponent);return MI(u,"displayName","SideEffect("+s(i)+")"),MI(u,"canUseDOM",w7),u}}var T7=_7;const E7=Tl(T7);var S7=typeof Element<"u",A7=typeof Map=="function",N7=typeof Set=="function",I7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,s,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(!Yp(t[s],e[s]))return!1;return!0}var i;if(A7&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;for(i=t.entries();!(s=i.next()).done;)if(!Yp(s.value[1],e.get(s.value[0])))return!1;return!0}if(N7&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(I7&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[s]))return!1;if(S7&&t instanceof Element)return!1;for(s=n;s--!==0;)if(!((r[s]==="_owner"||r[s]==="__v"||r[s]==="__o")&&t.$$typeof)&&!Yp(t[r[s]],e[r[s]]))return!1;return!0}return t!==t&&e!==e}var C7=function(e,n){try{return Yp(e,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const R7=Tl(C7);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var OI=Object.getOwnPropertySymbols,j7=Object.prototype.hasOwnProperty,P7=Object.prototype.propertyIsEnumerable;function k7(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function D7(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(s.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(i){r[i]=i}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var M7=D7()?Object.assign:function(t,e){for(var n,s=k7(t),r,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)j7.call(n,a)&&(s[a]=n[a]);if(OI){r=OI(n);for(var l=0;l<r.length;l++)P7.call(n,r[l])&&(s[r[l]]=n[r[l]])}}return s};const O7=Tl(M7);var $o={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Se={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Se).map(function(t){return Se[t]});var St={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Zg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},V7=Object.keys(Zg).reduce(function(t,e){return t[Zg[e]]=e,t},{}),L7=[Se.NOSCRIPT,Se.SCRIPT,Se.STYLE],cr="data-react-helmet",U7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F7=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},z7=function(){function t(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),ts=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},B7=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},VI=function(t,e){var n={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n},$7=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Ow=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},q7=function(e){var n=Fc(e,Se.TITLE),s=Fc(e,lf.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=Fc(e,lf.DEFAULT_TITLE);return n||r||void 0},H7=function(e){return Fc(e,lf.ON_CHANGE_CLIENT_STATE)||function(){}},$x=function(e,n){return n.filter(function(s){return typeof s[e]<"u"}).map(function(s){return s[e]}).reduce(function(s,r){return ts({},s,r)},{})},G7=function(e,n){return n.filter(function(s){return typeof s[Se.BASE]<"u"}).map(function(s){return s[Se.BASE]}).reverse().reduce(function(s,r){if(!s.length)for(var i=Object.keys(r),a=0;a<i.length;a++){var l=i[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&r[c])return s.concat(r)}return s},[])},kd=function(e,n,s){var r={};return s.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&Q7("Helmet: "+e+' should be of type "Array". Instead found type "'+U7(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(m){for(var g=void 0,x=Object.keys(m),y=0;y<x.length;y++){var w=x[y],v=w.toLowerCase();n.indexOf(v)!==-1&&!(g===St.REL&&m[g].toLowerCase()==="canonical")&&!(v===St.REL&&m[v].toLowerCase()==="stylesheet")&&(g=v),n.indexOf(w)!==-1&&(w===St.INNER_HTML||w===St.CSS_TEXT||w===St.ITEM_PROP)&&(g=w)}if(!g||!m[g])return!1;var _=m[g].toLowerCase();return r[g]||(r[g]={}),l[g]||(l[g]={}),r[g][_]?!1:(l[g][_]=!0,!0)}).reverse().forEach(function(m){return i.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=O7({},r[d],l[d]);r[d]=h}return i},[]).reverse()},Fc=function(e,n){for(var s=e.length-1;s>=0;s--){var r=e[s];if(r.hasOwnProperty(n))return r[n]}return null},K7=function(e){return{baseTag:G7([St.HREF,St.TARGET],e),bodyAttributes:$x($o.BODY,e),defer:Fc(e,lf.DEFER),encode:Fc(e,lf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:$x($o.HTML,e),linkTags:kd(Se.LINK,[St.REL,St.HREF],e),metaTags:kd(Se.META,[St.NAME,St.CHARSET,St.HTTPEQUIV,St.PROPERTY,St.ITEM_PROP],e),noscriptTags:kd(Se.NOSCRIPT,[St.INNER_HTML],e),onChangeClientState:H7(e),scriptTags:kd(Se.SCRIPT,[St.SRC,St.INNER_HTML],e),styleTags:kd(Se.STYLE,[St.CSS_TEXT],e),title:q7(e),titleAttributes:$x($o.TITLE,e)}},Vw=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Vw(e)},0)}}(),LI=function(e){return clearTimeout(e)},W7=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Vw:global.requestAnimationFrame||Vw,Y7=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||LI:global.cancelAnimationFrame||LI,Q7=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Dd=null,X7=function(e){Dd&&Y7(Dd),e.defer?Dd=W7(function(){UI(e,function(){Dd=null})}):(UI(e),Dd=null)},UI=function(e,n){var s=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,m=e.title,g=e.titleAttributes;Lw(Se.BODY,r),Lw(Se.HTML,i),J7(m,g);var x={baseTag:Gl(Se.BASE,s),linkTags:Gl(Se.LINK,a),metaTags:Gl(Se.META,l),noscriptTags:Gl(Se.NOSCRIPT,c),scriptTags:Gl(Se.SCRIPT,d),styleTags:Gl(Se.STYLE,h)},y={},w={};Object.keys(x).forEach(function(v){var _=x[v],T=_.newTags,N=_.oldTags;T.length&&(y[v]=T),N.length&&(w[v]=x[v].oldTags)}),n&&n(),u(e,y,w)},$M=function(e){return Array.isArray(e)?e.join(""):e},J7=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=$M(e)),Lw(Se.TITLE,n)},Lw=function(e,n){var s=document.getElementsByTagName(e)[0];if(s){for(var r=s.getAttribute(cr),i=r?r.split(","):[],a=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";s.getAttribute(u)!==d&&s.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var m=a.length-1;m>=0;m--)s.removeAttribute(a[m]);i.length===a.length?s.removeAttribute(cr):s.getAttribute(cr)!==l.join(",")&&s.setAttribute(cr,l.join(","))}},Gl=function(e,n){var s=document.head||document.querySelector(Se.HEAD),r=s.querySelectorAll(e+"["+cr+"]"),i=Array.prototype.slice.call(r),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===St.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===St.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(cr,"true"),i.some(function(m,g){return l=g,u.isEqualNode(m)})?i.splice(l,1):a.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:a}},qM=function(e){return Object.keys(e).reduce(function(n,s){var r=typeof e[s]<"u"?s+'="'+e[s]+'"':""+s;return n?n+" "+r:r},"")},Z7=function(e,n,s,r){var i=qM(s),a=$M(n);return i?"<"+e+" "+cr+'="true" '+i+">"+Ow(a,r)+"</"+e+">":"<"+e+" "+cr+'="true">'+Ow(a,r)+"</"+e+">"},e$=function(e,n,s){return n.reduce(function(r,i){var a=Object.keys(i).filter(function(u){return!(u===St.INNER_HTML||u===St.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+Ow(i[d],s)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=L7.indexOf(e)===-1;return r+"<"+e+" "+cr+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},HM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,r){return s[Zg[r]||r]=e[r],s},n)},t$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,r){return s[V7[r]||r]=e[r],s},n)},n$=function(e,n,s){var r,i=(r={key:n},r[cr]=!0,r),a=HM(s,i);return[Jt.createElement(Se.TITLE,a,n)]},s$=function(e,n){return n.map(function(s,r){var i,a=(i={key:r},i[cr]=!0,i);return Object.keys(s).forEach(function(l){var c=Zg[l]||l;if(c===St.INNER_HTML||c===St.CSS_TEXT){var u=s.innerHTML||s.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=s[l]}),Jt.createElement(e,a)})},ei=function(e,n,s){switch(e){case Se.TITLE:return{toComponent:function(){return n$(e,n.title,n.titleAttributes)},toString:function(){return Z7(e,n.title,n.titleAttributes,s)}};case $o.BODY:case $o.HTML:return{toComponent:function(){return HM(n)},toString:function(){return qM(n)}};default:return{toComponent:function(){return s$(e,n)},toString:function(){return e$(e,n,s)}}}},GM=function(e){var n=e.baseTag,s=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,m=h===void 0?"":h,g=e.titleAttributes;return{base:ei(Se.BASE,n,r),bodyAttributes:ei($o.BODY,s,r),htmlAttributes:ei($o.HTML,i,r),link:ei(Se.LINK,a,r),meta:ei(Se.META,l,r),noscript:ei(Se.NOSCRIPT,c,r),script:ei(Se.SCRIPT,u,r),style:ei(Se.STYLE,d,r),title:ei(Se.TITLE,{title:m,titleAttributes:g},r)}},r$=function(e){var n,s;return s=n=function(r){B7(i,r);function i(){return F7(this,i),$7(this,r.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!R7(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Se.SCRIPT:case Se.NOSCRIPT:return{innerHTML:c};case Se.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,m=l.nestedChildren;return ts({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[ts({},h,this.mapNestedChildrenToProps(u,m))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,m=l.newChildProps,g=l.nestedChildren;switch(d.type){case Se.TITLE:return ts({},h,(c={},c[d.type]=g,c.titleAttributes=ts({},m),c));case Se.BODY:return ts({},h,{bodyAttributes:ts({},m)});case Se.HTML:return ts({},h,{htmlAttributes:ts({},m)})}return ts({},h,(u={},u[d.type]=ts({},m),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=ts({},c);return Object.keys(l).forEach(function(d){var h;u=ts({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Jt.Children.forEach(l,function(h){if(!(!h||!h.props)){var m=h.props,g=m.children,x=VI(m,["children"]),y=t$(x);switch(u.warnOnInvalidChildren(h,g),h.type){case Se.LINK:case Se.META:case Se.NOSCRIPT:case Se.SCRIPT:case Se.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:y,nestedChildren:g});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=VI(l,["children"]),d=ts({},u);return c&&(d=this.mapChildrenToProps(c,d)),Jt.createElement(e,d)},z7(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Jt.Component),n.propTypes={base:Tt.object,bodyAttributes:Tt.object,children:Tt.oneOfType([Tt.arrayOf(Tt.node),Tt.node]),defaultTitle:Tt.string,defer:Tt.bool,encodeSpecialCharacters:Tt.bool,htmlAttributes:Tt.object,link:Tt.arrayOf(Tt.object),meta:Tt.arrayOf(Tt.object),noscript:Tt.arrayOf(Tt.object),onChangeClientState:Tt.func,script:Tt.arrayOf(Tt.object),style:Tt.arrayOf(Tt.object),title:Tt.string,titleAttributes:Tt.object,titleTemplate:Tt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=GM({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},s},i$=function(){return null},a$=E7(K7,X7,GM)(i$),Uw=r$(a$);Uw.renderStatic=Uw.rewind;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cf.apply(this,arguments)}var _a;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_a||(_a={}));const FI="popstate";function o$(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:a,hash:l}=s.location;return Fw("",{pathname:i,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:e0(r)}return c$(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l$(){return Math.random().toString(36).substr(2,8)}function zI(t,e){return{usr:t.state,key:t.key,idx:e}}function Fw(t,e,n,s){return n===void 0&&(n=null),cf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yu(e):e,{state:n,key:e&&e.key||s||l$()})}function e0(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function c$(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l=_a.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(cf({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=_a.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:v})}function m(w,v){l=_a.Push;let _=Fw(y.location,w,v);n&&n(_,w),u=d()+1;let T=zI(_,u),N=y.createHref(_);try{a.pushState(T,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(N)}i&&c&&c({action:l,location:y.location,delta:1})}function g(w,v){l=_a.Replace;let _=Fw(y.location,w,v);n&&n(_,w),u=d();let T=zI(_,u),N=y.createHref(_);a.replaceState(T,"",N),i&&c&&c({action:l,location:y.location,delta:0})}function x(w){let v=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof w=="string"?w:e0(w);return _=_.replace(/ $/,"%20"),Vt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let y={get action(){return l},get location(){return t(r,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(FI,h),c=w,()=>{r.removeEventListener(FI,h),c=null}},createHref(w){return e(r,w)},createURL:x,encodeLocation(w){let v=x(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:g,go(w){return a.go(w)}};return y}var BI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BI||(BI={}));function u$(t,e,n){return n===void 0&&(n="/"),d$(t,e,n,!1)}function d$(t,e,n,s){let r=typeof e=="string"?Yu(e):e,i=hu(r.pathname||"/",n);if(i==null)return null;let a=KM(t);h$(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=T$(i);l=w$(a[c],u,s)}return l}function KM(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Vt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=ka([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KM(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:x$(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of WM(i.path))r(i,a,c)}),e}function WM(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=WM(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function h$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b$(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const f$=/^:[\w-]+$/,m$=3,p$=2,g$=1,y$=10,v$=-2,$I=t=>t==="*";function x$(t,e){let n=t.split("/"),s=n.length;return n.some($I)&&(s+=v$),e&&(s+=p$),n.filter(r=>!$I(r)).reduce((r,i)=>r+(f$.test(i)?m$:i===""?g$:y$),s)}function b$(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function w$(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=t0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=t0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:ka([i,h.pathname]),pathnameBase:I$(ka([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ka([i,h.pathnameBase]))}return a}function t0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=_$(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let y=l[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[h];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function _$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function T$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const E$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S$=t=>E$.test(t);function A$(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Yu(t):t,i;if(n)if(S$(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),bT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=qI(n.substring(1),"/"):i=qI(n,e)}else i=e;return{pathname:i,search:C$(s),hash:R$(r)}}function qI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function qx(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YM(t,e){let n=N$(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function QM(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Yu(t):(r=cf({},t),Vt(!r.pathname||!r.pathname.includes("?"),qx("?","pathname","search",r)),Vt(!r.pathname||!r.pathname.includes("#"),qx("#","pathname","hash",r)),Vt(!r.search||!r.search.includes("#"),qx("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;r.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=A$(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ka=t=>t.join("/").replace(/\/\/+/g,"/"),I$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XM=["post","put","patch","delete"];new Set(XM);const P$=["get",...XM];new Set(P$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},uf.apply(this,arguments)}const Sy=p.createContext(null),JM=p.createContext(null),ro=p.createContext(null),Ay=p.createContext(null),Oi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ZM=p.createContext(null);function k$(t,e){let{relative:n}=e===void 0?{}:e;nm()||Vt(!1);let{basename:s,navigator:r}=p.useContext(ro),{hash:i,pathname:a,search:l}=Ny(t,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:ka([s,a])),r.createHref({pathname:c,search:l,hash:i})}function nm(){return p.useContext(Ay)!=null}function ds(){return nm()||Vt(!1),p.useContext(Ay).location}function eO(t){p.useContext(ro).static||p.useLayoutEffect(t)}function Rn(){let{isDataRoute:t}=p.useContext(Oi);return t?W$():D$()}function D$(){nm()||Vt(!1);let t=p.useContext(Sy),{basename:e,future:n,navigator:s}=p.useContext(ro),{matches:r}=p.useContext(Oi),{pathname:i}=ds(),a=JSON.stringify(YM(r,n.v7_relativeSplatPath)),l=p.useRef(!1);return eO(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=QM(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ka([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,i,t])}const tO=p.createContext(null);function rr(){return p.useContext(tO)}function M$(t){let e=p.useContext(Oi).outlet;return e&&p.createElement(tO.Provider,{value:t},e)}function O$(){let{matches:t}=p.useContext(Oi),e=t[t.length-1];return e?e.params:{}}function Ny(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=p.useContext(ro),{matches:r}=p.useContext(Oi),{pathname:i}=ds(),a=JSON.stringify(YM(r,s.v7_relativeSplatPath));return p.useMemo(()=>QM(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function V$(t,e){return L$(t,e)}function L$(t,e,n,s){nm()||Vt(!1);let{navigator:r}=p.useContext(ro),{matches:i}=p.useContext(Oi),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ds(),d;if(e){var h;let w=typeof e=="string"?Yu(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Vt(!1),d=w}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=u$(t,{pathname:g}),y=$$(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ka([c,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ka([c,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,s);return e&&y?p.createElement(Ay.Provider,{value:{location:uf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_a.Pop}},y):y}function U$(){let t=K$(),e=j$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:r},n):null,i)}const F$=p.createElement(U$,null);class z$ extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Oi.Provider,{value:this.props.routeContext},p.createElement(ZM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B$(t){let{routeContext:e,match:n,children:s}=t,r=p.useContext(Sy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Oi.Provider,{value:e},s)}function $$(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Vt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,x=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let g,x=!1,y=null,w=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||F$,c&&(u<0&&m===0?(Y$("route-fallback",!1),x=!0,w=null):u===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,m+1)),_=()=>{let T;return g?T=y:x?T=w:h.route.Component?T=p.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,p.createElement(B$,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(z$,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var nO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nO||{}),n0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(n0||{});function q$(t){let e=p.useContext(Sy);return e||Vt(!1),e}function H$(t){let e=p.useContext(JM);return e||Vt(!1),e}function G$(t){let e=p.useContext(Oi);return e||Vt(!1),e}function sO(t){let e=G$(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function K$(){var t;let e=p.useContext(ZM),n=H$(n0.UseRouteError),s=sO(n0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function W$(){let{router:t}=q$(nO.UseNavigateStable),e=sO(n0.UseNavigateStable),n=p.useRef(!1);return eO(()=>{n.current=!0}),p.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,uf({fromRouteId:e},i)))},[t,e])}const HI={};function Y$(t,e,n){!e&&!HI[t]&&(HI[t]=!0)}function Q$(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function wT(t){return M$(t.context)}function Ge(t){Vt(!1)}function X$(t){let{basename:e="/",children:n=null,location:s,navigationType:r=_a.Pop,navigator:i,static:a=!1,future:l}=t;nm()&&Vt(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:uf({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof s=="string"&&(s=Yu(s));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:x="default"}=s,y=p.useMemo(()=>{let w=hu(d,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:g,key:x},navigationType:r}},[c,d,h,m,g,x,r]);return y==null?null:p.createElement(ro.Provider,{value:u},p.createElement(Ay.Provider,{children:n,value:y}))}function J$(t){let{children:e,location:n}=t;return V$(zw(e),n)}new Promise(()=>{});function zw(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(s,r)=>{if(!p.isValidElement(s))return;let i=[...e,r];if(s.type===p.Fragment){n.push.apply(n,zw(s.props.children,i));return}s.type!==Ge&&Vt(!1),!s.props.index||!s.props.children||Vt(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=zw(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},s0.apply(this,arguments)}function rO(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Z$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eq(t,e){return t.button===0&&(!e||e==="_self")&&!Z$(t)}const tq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sq="6";try{window.__reactRouterVersion=sq}catch{}const rq=p.createContext({isTransitioning:!1}),iq="startTransition",GI=ay[iq];function aq(t){let{basename:e,children:n,future:s,window:r}=t,i=p.useRef();i.current==null&&(i.current=o$({window:r,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=p.useCallback(h=>{u&&GI?GI(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>Q$(s),[s]),p.createElement(X$,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const oq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=p.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=rO(e,tq),{basename:g}=p.useContext(ro),x,y=!1;if(typeof u=="string"&&lq.test(u)&&(x=u,oq))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),C=hu(N.pathname,g);N.origin===T.origin&&C!=null?u=C+N.search+N.hash:y=!0}catch{}let w=k$(u,{relative:r}),v=uq(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function _(T){s&&s(T),T.defaultPrevented||v(T)}return p.createElement("a",s0({},m,{href:x||w,onClick:y||i?s:_,ref:n,target:c}))}),iO=p.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,h=rO(e,nq),m=Ny(c,{relative:h.relative}),g=ds(),x=p.useContext(JM),{navigator:y,basename:w}=p.useContext(ro),v=x!=null&&dq(m)&&u===!0,_=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,T=g.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(T=T.toLowerCase(),N=N?N.toLowerCase():null,_=_.toLowerCase()),N&&w&&(N=hu(N,w)||N);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let j=T===_||!a&&T.startsWith(_)&&T.charAt(C)==="/",S=N!=null&&(N===_||!a&&N.startsWith(_)&&N.charAt(_.length)==="/"),E={isActive:j,isPending:S,isTransitioning:v},I=j?s:void 0,R;typeof i=="function"?R=i(E):R=[i,j?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(E):l;return p.createElement(Kt,s0({},h,{"aria-current":I,className:R,ref:n,style:k,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var Bw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bw||(Bw={}));var KI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KI||(KI={}));function cq(t){let e=p.useContext(Sy);return e||Vt(!1),e}function uq(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Rn(),u=ds(),d=Ny(t,{relative:a});return p.useCallback(h=>{if(eq(h,n)){h.preventDefault();let m=s!==void 0?s:e0(u)===e0(d);c(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,s,r,n,t,i,a,l])}function dq(t,e){e===void 0&&(e={});let n=p.useContext(rq);n==null&&Vt(!1);let{basename:s}=cq(Bw.useViewTransitionState),r=Ny(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=hu(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=hu(n.nextLocation.pathname,s)||n.nextLocation.pathname;return t0(r.pathname,a)!=null||t0(r.pathname,i)!=null}function aO(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=aO(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function oO(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=aO(t))&&(s&&(s+=" "),s+=e);return s}const _T="-",hq=t=>{const e=mq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(_T);return l[0]===""&&l.length!==1&&l.shift(),lO(l,e)||fq(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},lO=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?lO(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(_T);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},WI=/^\[(.+)\]$/,fq=t=>{if(WI.test(t)){const e=WI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mq=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return gq(Object.entries(t.classGroups),n).forEach(([i,a])=>{$w(a,s,i,e)}),s},$w=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:YI(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(pq(r)){$w(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{$w(a,YI(e,i),n,s)})})},YI=(t,e)=>{let n=t;return e.split(_T).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},pq=t=>t.isThemeGetter,gq=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,r]}):t,yq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},cO="!",vq=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let v=l[w];if(u===0){if(v===r&&(s||l.slice(w,w+i)===e)){c.push(l.slice(d,w)),d=w+i;continue}if(v==="/"){h=w;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(cO),x=g?m.substring(1):m,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},xq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},bq=t=>({cache:yq(t.cacheSize),parseClassName:vq(t),...hq(t)}),wq=/\s+/,_q=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(wq);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let x=!!g,y=s(x?m.substring(0,g):m);if(!y){if(!x){l=u+(l.length>0?" "+l:l);continue}if(y=s(m),!y){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=xq(d).join(":"),v=h?w+cO:w,_=v+y;if(i.includes(_))continue;i.push(_);const T=r(y,x);for(let N=0;N<T.length;++N){const C=T[N];i.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function Tq(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uO(e))&&(s&&(s+=" "),s+=n);return s}const uO=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=uO(t[s]))&&(n&&(n+=" "),n+=e);return n};function Eq(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=bq(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=_q(c,n);return r(c,d),d}return function(){return i(Tq.apply(null,arguments))}}const yt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dO=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sq=/^\d+\/\d+$/,Aq=new Set(["px","full","screen"]),Nq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Iq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=t=>zc(t)||Aq.has(t)||Sq.test(t),Qi=t=>Qu(t,"length",Uq),zc=t=>!!t&&!Number.isNaN(Number(t)),Hx=t=>Qu(t,"number",zc),Md=t=>!!t&&Number.isInteger(Number(t)),Pq=t=>t.endsWith("%")&&zc(t.slice(0,-1)),Ce=t=>dO.test(t),Xi=t=>Nq.test(t),kq=new Set(["length","size","percentage"]),Dq=t=>Qu(t,kq,hO),Mq=t=>Qu(t,"position",hO),Oq=new Set(["image","url"]),Vq=t=>Qu(t,Oq,zq),Lq=t=>Qu(t,"",Fq),Od=()=>!0,Qu=(t,e,n)=>{const s=dO.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},Uq=t=>Iq.test(t)&&!Cq.test(t),hO=()=>!1,Fq=t=>Rq.test(t),zq=t=>jq.test(t),Bq=()=>{const t=yt("colors"),e=yt("spacing"),n=yt("blur"),s=yt("brightness"),r=yt("borderColor"),i=yt("borderRadius"),a=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),u=yt("grayscale"),d=yt("hueRotate"),h=yt("invert"),m=yt("gap"),g=yt("gradientColorStops"),x=yt("gradientColorStopPositions"),y=yt("inset"),w=yt("margin"),v=yt("opacity"),_=yt("padding"),T=yt("saturate"),N=yt("scale"),C=yt("sepia"),j=yt("skew"),S=yt("space"),E=yt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ce,e],M=()=>[Ce,e],P=()=>["",ti,Qi],$=()=>["auto",zc,Ce],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Ce],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[zc,Ce];return{cacheSize:500,separator:":",theme:{colors:[Od],spacing:[ti,Qi],blur:["none","",Xi,Ce],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Xi,Ce],borderSpacing:M(),borderWidth:P(),contrast:ge(),grayscale:K(),hueRotate:ge(),invert:K(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[Pq,Qi],inset:k(),margin:k(),opacity:ge(),padding:M(),saturate:ge(),scale:ge(),sepia:K(),skew:ge(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Xi]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Md,Ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Md,Ce]}],"grid-cols":[{"grid-cols":[Od]}],"col-start-end":[{col:["auto",{span:["full",Md,Ce]},Ce]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Od]}],"row-start-end":[{row:["auto",{span:[Md,Ce]},Ce]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[Xi]},Xi]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xi,Qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hx]}],"font-family":[{font:[Od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",zc,Hx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Qi]}],"underline-offset":[{"underline-offset":["auto",ti,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Mq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Dq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[ti,Ce]}],"outline-w":[{outline:[ti,Qi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ti,Qi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xi,Lq]}],"shadow-color":[{shadow:[Od]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xi,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Md,Ce]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ti,Qi,Hx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$q=Eq(Bq);function me(...t){return $q(oO(t))}function Us(t){const e=String(t??"").replace(/[^0-9.,-]/g,"").replace(/,/g,""),n=parseFloat(e);return Number.isFinite(n)?n:0}function xt(t,e="en-EG"){try{return new Intl.NumberFormat(e,{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(Number(t||0))}catch{return`EGP ${Number(t||0).toFixed(2)}`}}const df=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=r=>{const i=new Image;i.src=r.target.result,i.onload=()=>{const a=document.createElement("canvas"),l=800,c=800;let u=i.width,d=i.height;u>d?u>l&&(d*=l/u,u=l):d>c&&(u*=c/d,d=c),a.width=u,a.height=d,a.getContext("2d").drawImage(i,0,0,u,d),e(a.toDataURL("image/jpeg",.7))},i.onerror=a=>n(a)},s.onerror=r=>n(r)});function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function QI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function io(...t){return e=>{let n=!1;const s=t.map(r=>{const i=QI(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():QI(t[r],null)}}}}function dt(...t){return p.useCallback(io(...t),t)}function qq(t,e){const n=p.createContext(e),s=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};s.displayName=t+"Provider";function r(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Kr(t,e=[]){let n=[];function s(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:m,children:g,...x}=h,y=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,w=p.useMemo(()=>x,Object.values(x));return o.jsx(y.Provider,{value:w,children:g})};u.displayName=i+"Provider";function d(h,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,x=p.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,Hq(r,...e)]}function Hq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function XI(t){const e=Gq(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(Wq);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Gq(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=Qq(r),l=Yq(i,r.props);return r.type!==p.Fragment&&(l.ref=s?io(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Kq=Symbol("radix.slottable");function Wq(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kq}function Yq(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Qq(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Iy(t){const e=t+"CollectionProvider",[n,s]=Kr(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:w,children:v}=y,_=Jt.useRef(null),T=Jt.useRef(new Map).current;return o.jsx(r,{scope:w,itemMap:T,collectionRef:_,children:v})};a.displayName=e;const l=t+"CollectionSlot",c=XI(l),u=Jt.forwardRef((y,w)=>{const{scope:v,children:_}=y,T=i(l,v),N=dt(w,T.collectionRef);return o.jsx(c,{ref:N,children:_})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=XI(d),g=Jt.forwardRef((y,w)=>{const{scope:v,children:_,...T}=y,N=Jt.useRef(null),C=dt(w,N),j=i(d,v);return Jt.useEffect(()=>(j.itemMap.set(N,{ref:N,...T}),()=>void j.itemMap.delete(N))),o.jsx(m,{[h]:"",ref:C,children:_})});g.displayName=d;function x(y){const w=i(t+"CollectionConsumer",y);return Jt.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((j,S)=>T.indexOf(j.ref.current)-T.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},x,s]}function Xq(t){const e=Jq(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(eH);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Jq(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=nH(r),l=tH(i,r.props);return r.type!==p.Fragment&&(l.ref=s?io(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zq=Symbol("radix.slottable");function eH(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zq}function tH(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function nH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=sH.reduce((t,e)=>{const n=Xq(`Primitive.${e}`),s=p.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function TT(t,e){t&&$f.flushSync(()=>t.dispatchEvent(e))}function js(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function rH(t,e=globalThis==null?void 0:globalThis.document){const n=js(t);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var iH="DismissableLayer",qw="dismissableLayer.update",aH="dismissableLayer.pointerDownOutside",oH="dismissableLayer.focusOutside",JI,fO=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cy=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(fO),[d,h]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),x=dt(e,S=>h(S)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),_=d?y.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=v,C=cH(S=>{const E=S.target,I=[...u.branches].some(R=>R.contains(E));!N||I||(r==null||r(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),j=uH(S=>{const E=S.target;[...u.branches].some(R=>R.contains(E))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return rH(S=>{_===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(JI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ZI(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=JI)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ZI())},[d,u]),p.useEffect(()=>{const S=()=>g({});return document.addEventListener(qw,S),()=>document.removeEventListener(qw,S)},[]),o.jsx(Me.div,{...c,ref:x,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,j.onFocusCapture),onBlurCapture:he(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,C.onPointerDownCapture)})});Cy.displayName=iH;var lH="DismissableLayerBranch",mO=p.forwardRef((t,e)=>{const n=p.useContext(fO),s=p.useRef(null),r=dt(e,s);return p.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Me.div,{...t,ref:r})});mO.displayName=lH;function cH(t,e=globalThis==null?void 0:globalThis.document){const n=js(t),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){pO(aH,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function uH(t,e=globalThis==null?void 0:globalThis.document){const n=js(t),s=p.useRef(!1);return p.useEffect(()=>{const r=i=>{i.target&&!s.current&&pO(oH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ZI(){const t=new CustomEvent(qw);document.dispatchEvent(t)}function pO(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?TT(r,i):r.dispatchEvent(i)}var dH=Cy,hH=mO,Si=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},fH="Portal",Ry=p.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,i]=p.useState(!1);Si(()=>i(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?V8.createPortal(o.jsx(Me.div,{...s,ref:e}),a):null});Ry.displayName=fH;function mH(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var gr=t=>{const{present:e,children:n}=t,s=pH(e),r=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),i=dt(s.ref,gH(r));return typeof n=="function"||s.isPresent?p.cloneElement(r,{ref:i}):null};gr.displayName="Presence";function pH(t){const[e,n]=p.useState(),s=p.useRef(null),r=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=mH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=up(s.current);i.current=l==="mounted"?u:"none"},[l]),Si(()=>{const u=s.current,d=r.current;if(d!==t){const m=i.current,g=up(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Si(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const y=up(s.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(c("ANIMATION_END"),!r.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=g=>{g.target===e&&(i.current=up(s.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function up(t){return(t==null?void 0:t.animationName)||"none"}function gH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yH=ay[" useInsertionEffect ".trim().toString()]||Si;function Cl({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,a]=vH({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=p.useCallback(d=>{var h;if(l){const m=xH(d)?d(t):d;m!==t&&((h=a.current)==null||h.call(a,m))}else i(d)},[l,t,i,a]);return[c,u]}function vH({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),r=p.useRef(n),i=p.useRef(e);return yH(()=>{i.current=e},[e]),p.useEffect(()=>{var a;r.current!==n&&((a=i.current)==null||a.call(i,n),r.current=n)},[n,r]),[n,s,i]}function xH(t){return typeof t=="function"}var bH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wH="VisuallyHidden",ET=p.forwardRef((t,e)=>o.jsx(Me.span,{...t,ref:e,style:{...bH,...t.style}}));ET.displayName=wH;var ST="ToastProvider",[AT,_H,TH]=Iy("Toast"),[gO,Tfe]=Kr("Toast",[TH]),[EH,jy]=gO(ST),yO=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ST}\`. Expected non-empty \`string\`.`),o.jsx(AT.Provider,{scope:e,children:o.jsx(EH,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};yO.displayName=ST;var vO="ToastViewport",SH=["F8"],Hw="toast.viewportPause",Gw="toast.viewportResume",xO=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=SH,label:r="Notifications ({hotkey})",...i}=t,a=jy(vO,n),l=_H(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),m=dt(e,h,a.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;p.useEffect(()=>{const w=v=>{var T;s.length!==0&&s.every(N=>v[N]||v.code===N)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),p.useEffect(()=>{const w=c.current,v=h.current;if(x&&w&&v){const _=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Hw);v.dispatchEvent(j),a.isClosePausedRef.current=!0}},T=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Gw);v.dispatchEvent(j),a.isClosePausedRef.current=!1}},N=j=>{!w.contains(j.relatedTarget)&&T()},C=()=>{w.contains(document.activeElement)||T()};return w.addEventListener("focusin",_),w.addEventListener("focusout",N),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",C),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[x,a.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:w})=>{const _=l().map(T=>{const N=T.ref.current,C=[N,...LH(N)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?_.reverse():_).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const v=_=>{var C,j,S;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const E=document.activeElement,I=_.shiftKey;if(_.target===w&&I){(C=u.current)==null||C.focus();return}const M=y({tabbingDirection:I?"backwards":"forwards"}),P=M.findIndex($=>$===E);Gx(M.slice(P+1))?_.preventDefault():I?(j=u.current)==null||j.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,y]),o.jsxs(hH,{ref:c,role:"region","aria-label":r.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&o.jsx(Kw,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Gx(w)}}),o.jsx(AT.Slot,{scope:n,children:o.jsx(Me.ol,{tabIndex:-1,...i,ref:m})}),x&&o.jsx(Kw,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Gx(w)}})]})});xO.displayName=vO;var bO="ToastFocusProxy",Kw=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=jy(bO,n);return o.jsx(ET,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});Kw.displayName=bO;var sm="Toast",AH="toast.swipeStart",NH="toast.swipeMove",IH="toast.swipeCancel",CH="toast.swipeEnd",wO=p.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=t,[l,c]=Cl({prop:s,defaultProp:r??!0,onChange:i,caller:sm});return o.jsx(gr,{present:n||l,children:o.jsx(PH,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:js(t.onPause),onResume:js(t.onResume),onSwipeStart:he(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:he(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});wO.displayName=sm;var[RH,jH]=gO(sm,{onClose(){}}),PH=p.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...x}=t,y=jy(sm,n),[w,v]=p.useState(null),_=dt(e,$=>v($)),T=p.useRef(null),N=p.useRef(null),C=r||y.duration,j=p.useRef(0),S=p.useRef(C),E=p.useRef(0),{onToastAdd:I,onToastRemove:R}=y,k=js(()=>{var H;(w==null?void 0:w.contains(document.activeElement))&&((H=y.viewport)==null||H.focus()),a()}),M=p.useCallback($=>{!$||$===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(k,$))},[k]);p.useEffect(()=>{const $=y.viewport;if($){const H=()=>{M(S.current),u==null||u()},O=()=>{const q=new Date().getTime()-j.current;S.current=S.current-q,window.clearTimeout(E.current),c==null||c()};return $.addEventListener(Hw,O),$.addEventListener(Gw,H),()=>{$.removeEventListener(Hw,O),$.removeEventListener(Gw,H)}}},[y.viewport,C,c,u,M]),p.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(C)},[i,C,y.isClosePausedRef,M]),p.useEffect(()=>(I(),()=>R()),[I,R]);const P=p.useMemo(()=>w?IO(w):null,[w]);return y.viewport?o.jsxs(o.Fragment,{children:[P&&o.jsx(kH,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:P}),o.jsx(RH,{scope:n,onClose:k,children:$f.createPortal(o.jsx(AT.ItemSlot,{scope:n,children:o.jsx(dH,{asChild:!0,onEscapeKeyDown:he(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:he(t.onPointerDown,$=>{$.button===0&&(T.current={x:$.clientX,y:$.clientY})}),onPointerMove:he(t.onPointerMove,$=>{if(!T.current)return;const H=$.clientX-T.current.x,O=$.clientY-T.current.y,q=!!N.current,B=["left","right"].includes(y.swipeDirection),K=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ie=B?K(0,H):0,ge=B?0:K(0,O),Be=$.pointerType==="touch"?10:2,Ye={x:ie,y:ge},V={originalEvent:$,delta:Ye};q?(N.current=Ye,dp(NH,h,V,{discrete:!1})):eC(Ye,y.swipeDirection,Be)?(N.current=Ye,dp(AH,d,V,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(H)>Be||Math.abs(O)>Be)&&(T.current=null)}),onPointerUp:he(t.onPointerUp,$=>{const H=N.current,O=$.target;if(O.hasPointerCapture($.pointerId)&&O.releasePointerCapture($.pointerId),N.current=null,T.current=null,H){const q=$.currentTarget,B={originalEvent:$,delta:H};eC(H,y.swipeDirection,y.swipeThreshold)?dp(CH,g,B,{discrete:!0}):dp(IH,m,B,{discrete:!0}),q.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),kH=t=>{const{__scopeToast:e,children:n,...s}=t,r=jy(sm,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return OH(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ry,{asChild:!0,children:o.jsx(ET,{...s,children:i&&o.jsxs(o.Fragment,{children:[r.label," ",n]})})})},DH="ToastTitle",_O=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(Me.div,{...s,ref:e})});_O.displayName=DH;var MH="ToastDescription",TO=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(Me.div,{...s,ref:e})});TO.displayName=MH;var EO="ToastAction",SO=p.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?o.jsx(NO,{altText:n,asChild:!0,children:o.jsx(NT,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${EO}\`. Expected non-empty \`string\`.`),null)});SO.displayName=EO;var AO="ToastClose",NT=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=jH(AO,n);return o.jsx(NO,{asChild:!0,children:o.jsx(Me.button,{type:"button",...s,ref:e,onClick:he(t.onClick,r.onClose)})})});NT.displayName=AO;var NO=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return o.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function IO(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),VH(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...IO(s))}}),e}function dp(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?TT(r,i):r.dispatchEvent(i)}var eC=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function OH(t=()=>{}){const e=js(t);Si(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function VH(t){return t.nodeType===t.ELEMENT_NODE}function LH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var UH=yO,CO=xO,RO=wO,jO=_O,PO=TO,kO=SO,DO=NT;const tC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nC=oO,rm=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return nC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=tC(d)||tC(h);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...i,...l}[y]):{...i,...l}[y]===w})?[...u,h,m]:u},[]);return nC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MO=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...zH,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:MO("lucide",r),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const n=p.forwardRef(({className:s,...r},i)=>p.createElement(BH,{ref:i,iconNode:e,className:MO(`lucide-${FH(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=ne("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=ne("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=ne("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=ne("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=ne("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=ne("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ne("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ne("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=ne("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=ne("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=ne("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mG=UH,BO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(CO,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));BO.displayName=CO.displayName;const pG=rm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground",success:"group border-teal-600 bg-teal-600 text-white"}},defaultVariants:{variant:"default"}}),$O=Jt.forwardRef(({className:t,variant:e,...n},s)=>o.jsx(RO,{ref:s,className:me(pG({variant:e}),t),...n}));$O.displayName=RO.displayName;const gG=Jt.forwardRef(({className:t,...e},n)=>o.jsx(kO,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gG.displayName=kO.displayName;const qO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(DO,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Ha,{className:"h-4 w-4"})}));qO.displayName=DO.displayName;const HO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(jO,{ref:n,className:me("text-sm font-semibold",t),...e}));HO.displayName=jO.displayName;const GO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(PO,{ref:n,className:me("text-sm opacity-90",t),...e}));GO.displayName=PO.displayName;const yG=1;let Yx=0;function vG(){return Yx=(Yx+1)%Number.MAX_VALUE,Yx.toString()}const zn={state:{toasts:[]},listeners:[],getState:()=>zn.state,setState:t=>{typeof t=="function"?zn.state=t(zn.state):zn.state={...zn.state,...t},zn.listeners.forEach(e=>e(zn.state))},subscribe:t=>(zn.listeners.push(t),()=>{zn.listeners=zn.listeners.filter(e=>e!==t)})},xG=({...t})=>{const e=vG(),n=r=>zn.setState(i=>({...i,toasts:i.toasts.map(a=>a.id===e?{...a,...r}:a)})),s=()=>zn.setState(r=>({...r,toasts:r.toasts.filter(i=>i.id!==e)}));return zn.setState(r=>({...r,toasts:[{...t,id:e,dismiss:s},...r.toasts].slice(0,yG)})),{id:e,dismiss:s,update:n}};function qt(){const[t,e]=p.useState(zn.getState());return p.useEffect(()=>zn.subscribe(s=>{e(s)}),[]),p.useEffect(()=>{const n=[];return t.toasts.forEach(s=>{if(s.duration===1/0)return;const r=setTimeout(()=>{s.dismiss()},s.duration||5e3);n.push(r)}),()=>{n.forEach(s=>clearTimeout(s))}},[t.toasts]),{toast:xG,toasts:t.toasts}}function bG(){const{toasts:t}=qt();return o.jsxs(mG,{children:[t.map(({id:e,title:n,description:s,action:r,dismiss:i,...a})=>o.jsxs($O,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(HO,{children:n}),s&&o.jsx(GO,{children:s})]}),r,o.jsx(qO,{})]},e)),o.jsx(BO,{})]})}const VT=p.createContext({});function LT(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dy=p.createContext(null),UT=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class wG extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _G({children:t,isPresent:e}){const n=p.useId(),s=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(UT);return p.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=r.current;if(e||!s.current||!a||!l)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(wG,{isPresent:e,childRef:s,sizeRef:r,children:p.cloneElement(t,{ref:s})})}const TG=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const l=LT(EG),c=p.useId(),u=p.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;s&&s()},[l,s]),d=p.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(t=o.jsx(_G,{isPresent:n,children:t})),o.jsx(Dy.Provider,{value:d,children:t})};function EG(){return new Map}function KO(t=!0){const e=p.useContext(Dy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=p.useId();p.useEffect(()=>{t&&r(i)},[t]);const a=p.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const hp=t=>t.key||"";function uC(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const FT=typeof window<"u",WO=FT?p.useLayoutEffect:p.useEffect,SG=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=KO(a),u=p.useMemo(()=>uC(t),[t]),d=a&&!l?[]:u.map(hp),h=p.useRef(!0),m=p.useRef(u),g=LT(()=>new Map),[x,y]=p.useState(u),[w,v]=p.useState(u);WO(()=>{h.current=!1,m.current=u;for(let N=0;N<w.length;N++){const C=hp(w[N]);d.includes(C)?g.delete(C):g.get(C)!==!0&&g.set(C,!1)}},[w,d.length,d.join("-")]);const _=[];if(u!==x){let N=[...u];for(let C=0;C<w.length;C++){const j=w[C],S=hp(j);d.includes(S)||(N.splice(C,0,j),_.push(j))}i==="wait"&&_.length&&(N=_),v(uC(N)),y(u);return}const{forceRender:T}=p.useContext(VT);return o.jsx(o.Fragment,{children:w.map(N=>{const C=hp(N),j=a&&!l?!1:u===w||d.includes(C),S=()=>{if(g.has(C))g.set(C,!0);else return;let E=!0;g.forEach(I=>{I||(E=!1)}),E&&(T==null||T(),v(m.current),a&&(c==null||c()),s&&s())};return o.jsx(TG,{isPresent:j,initial:!h.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:r,mode:i,onExitComplete:j?void 0:S,children:N},C)})})},As=t=>t;let YO=As;function zT(t){let e;return()=>(e===void 0&&(e=t()),e)}const pu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},gi=t=>t*1e3,yi=t=>t/1e3,AG={skipAnimations:!1,useManualTiming:!1};function NG(t){let e=new Set,n=new Set,s=!1,r=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&s?e:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,s){r=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,r&&(r=!1,c.process(u))}};return c}const fp=["read","resolveKeyframes","update","preRender","render","postRender"],IG=40;function QO(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=fp.reduce((v,_)=>(v[_]=NG(i),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=a,g=()=>{const v=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,IG),1),r.timestamp=v,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),m.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(g))},x=()=>{n=!0,s=!0,r.isProcessing||t(g)};return{schedule:fp.reduce((v,_)=>{const T=a[_];return v[_]=(N,C=!1,j=!1)=>(n||x(),T.schedule(N,C,j)),v},{}),cancel:v=>{for(let _=0;_<fp.length;_++)a[fp[_]].cancel(v)},state:r,steps:a}}const{schedule:wt,cancel:Ga,state:vn,steps:Qx}=QO(typeof requestAnimationFrame<"u"?requestAnimationFrame:As,!0),XO=p.createContext({strict:!1}),dC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gu={};for(const t in dC)gu[t]={isEnabled:e=>dC[t].some(n=>!!e[n])};function CG(t){for(const e in t)gu[e]={...gu[e],...t[e]}}const RG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RG.has(t)}let JO=t=>!o0(t);function jG(t){t&&(JO=e=>e.startsWith("on")?!o0(e):t(e))}try{jG(require("@emotion/is-prop-valid").default)}catch{}function PG(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(JO(r)||n===!0&&o0(r)||!e&&!o0(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function kG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const My=p.createContext({});function pf(t){return typeof t=="string"||Array.isArray(t)}function Oy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const BT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$T=["initial",...BT];function Vy(t){return Oy(t.animate)||$T.some(e=>pf(t[e]))}function ZO(t){return!!(Vy(t)||t.variants)}function DG(t,e){if(Vy(t)){const{initial:n,animate:s}=t;return{initial:n===!1||pf(n)?n:void 0,animate:pf(s)?s:void 0}}return t.inherit!==!1?e:{}}function MG(t){const{initial:e,animate:n}=DG(t,p.useContext(My));return p.useMemo(()=>({initial:e,animate:n}),[hC(e),hC(n)])}function hC(t){return Array.isArray(t)?t.join(" "):t}const OG=Symbol.for("motionComponentSymbol");function Ac(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VG(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ac(n)&&(n.current=s))},[e])}const qT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LG="framerAppearId",eV="data-"+qT(LG),{schedule:HT,cancel:Efe}=QO(queueMicrotask,!1),tV=p.createContext({});function UG(t,e,n,s,r){var i,a;const{visualElement:l}=p.useContext(My),c=p.useContext(XO),u=p.useContext(Dy),d=p.useContext(UT).reducedMotion,h=p.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=p.useContext(tV);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&FG(h.current,n,r,g);const x=p.useRef(!1);p.useInsertionEffect(()=>{m&&x.current&&m.update(n,u)});const y=n[eV],w=p.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return WO(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),HT.render(m.render),w.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),w.current=!1))}),m}function FG(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nV(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&Ac(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function nV(t){if(t)return t.options.allowProjection!==!1?t.projection:nV(t.parent)}function zG({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){var i,a;t&&CG(t);function l(u,d){let h;const m={...p.useContext(UT),...u,layoutId:BG(u)},{isStatic:g}=m,x=MG(u),y=s(u,g);if(!g&&FT){$G();const w=qG(m);h=w.MeasureLayout,x.visualElement=UG(r,y,m,e,w.ProjectionNode)}return o.jsxs(My.Provider,{value:x,children:[h&&x.visualElement?o.jsx(h,{visualElement:x.visualElement,...m}):null,n(r,u,VG(y,x.visualElement,d),y,g,x.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(a=(i=r.displayName)!==null&&i!==void 0?i:r.name)!==null&&a!==void 0?a:""})`}`;const c=p.forwardRef(l);return c[OG]=r,c}function BG({layoutId:t}){const e=p.useContext(VT).id;return e&&t!==void 0?e+"-"+t:t}function $G(t,e){p.useContext(XO).strict}function qG(t){const{drag:e,layout:n}=gu;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const HG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GT(t){return typeof t!="string"||t.includes("-")?!1:!!(HG.indexOf(t)>-1||/[A-Z]/u.test(t))}function fC(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function KT(t,e,n,s){if(typeof e=="function"){const[r,i]=fC(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=fC(s);e=e(n!==void 0?n:t.custom,r,i)}return e}const Zw=t=>Array.isArray(t),GG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),KG=t=>Zw(t)?t[t.length-1]||0:t,Mn=t=>!!(t&&t.getVelocity);function Qp(t){const e=Mn(t)?t.get():t;return GG(e)?e.toValue():e}function WG({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,r,i){const a={latestValues:YG(s,r,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:s,current:l,...a}),a.onUpdate=l=>n(l)),a}const sV=t=>(e,n)=>{const s=p.useContext(My),r=p.useContext(Dy),i=()=>WG(t,e,s,r);return n?i():LT(i)};function YG(t,e,n,s){const r={},i=s(t,{});for(const m in i)r[m]=Qp(i[m]);let{initial:a,animate:l}=t;const c=Vy(t),u=ZO(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Oy(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const x=KT(t,m[g]);if(x){const{transitionEnd:y,transition:w,...v}=x;for(const _ in v){let T=v[_];if(Array.isArray(T)){const N=d?T.length-1:0;T=T[N]}T!==null&&(r[_]=T)}for(const _ in y)r[_]=y[_]}}}return r}const Ju=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(Ju),rV=t=>e=>typeof e=="string"&&e.startsWith(t),iV=rV("--"),QG=rV("var(--"),WT=t=>QG(t)?XG.test(t.split("/*")[0].trim()):!1,XG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ai=(t,e,n)=>n>e?e:n<t?t:n,Zu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gf={...Zu,transform:t=>Ai(0,1,t)},mp={...Zu,default:1},am=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=am("deg"),kr=am("%"),ye=am("px"),JG=am("vh"),ZG=am("vw"),mC={...kr,parse:t=>kr.parse(t)/100,transform:t=>kr.transform(t*100)},eK={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},tK={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:mp,scaleX:mp,scaleY:mp,scaleZ:mp,skew:na,skewX:na,skewY:na,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:gf,originX:mC,originY:mC,originZ:ye},pC={...Zu,transform:Math.round},YT={...eK,...tK,zIndex:pC,size:ye,fillOpacity:gf,strokeOpacity:gf,numOctaves:pC},nK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sK=Ju.length;function rK(t,e,n){let s="",r=!0;for(let i=0;i<sK;i++){const a=Ju[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=aV(l,YT[a]);if(!c){r=!1;const d=nK[a]||a;s+=`${d}(${u}) `}n&&(e[a]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function QT(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Rl.has(c)){a=!0;continue}else if(iV(c)){r[c]=u;continue}else{const d=aV(u,YT[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(e.transform||(a||n?s.transform=rK(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const iK={offset:"stroke-dashoffset",array:"stroke-dasharray"},aK={offset:"strokeDashoffset",array:"strokeDasharray"};function oK(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?iK:aK;t[i.offset]=ye.transform(-s);const a=ye.transform(e),l=ye.transform(n);t[i.array]=`${a} ${l}`}function gC(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function lK(t,e,n){const s=gC(e,t.x,t.width),r=gC(n,t.y,t.height);return`${s} ${r}`}function XT(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(QT(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:x}=t;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(r!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=lK(x,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&oK(m,a,l,c,!1)}const JT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oV=()=>({...JT(),attrs:{}}),ZT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lV(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const cV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uV(t,e,n,s){lV(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(cV.has(r)?r:qT(r),e.attrs[r])}const l0={};function cK(t){Object.assign(l0,t)}function dV(t,{layout:e,layoutId:n}){return Rl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!l0[t]||t==="opacity")}function eE(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Mn(r[a])||e.style&&Mn(e.style[a])||dV(a,t)||((s=n==null?void 0:n.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function hV(t,e,n){const s=eE(t,e,n);for(const r in t)if(Mn(t[r])||Mn(e[r])){const i=Ju.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}function uK(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const yC=["x","y","width","height","cx","cy","r"],dK={useVisualState:sV({scrapeMotionValuesFromProps:hV,createRenderState:oV,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:r})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in r)if(Rl.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<yC.length;l++){const c=yC[l];t[c]!==e[c]&&(a=!0)}a&&wt.read(()=>{uK(n,s),wt.render(()=>{XT(s,r,ZT(n.tagName),t.transformTemplate),uV(n,s)})})}})},hK={useVisualState:sV({scrapeMotionValuesFromProps:eE,createRenderState:JT})};function fV(t,e,n){for(const s in e)!Mn(e[s])&&!dV(s,n)&&(t[s]=e[s])}function fK({transformTemplate:t},e){return p.useMemo(()=>{const n=JT();return QT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mK(t,e){const n=t.style||{},s={};return fV(s,n,t),Object.assign(s,fK(t,e)),s}function pK(t,e){const n={},s=mK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function gK(t,e,n,s){const r=p.useMemo(()=>{const i=oV();return XT(i,e,ZT(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};fV(i,t.style,t),r.style={...i,...r.style}}return r}function yK(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=(GT(n)?gK:pK)(s,i,a,n),u=PG(s,typeof n=="string",t),d=n!==p.Fragment?{...u,...c,ref:r}:{},{children:h}=s,m=p.useMemo(()=>Mn(h)?h.get():h,[h]);return p.createElement(n,{...d,children:m})}}function vK(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...GT(s)?dK:hK,preloadedFeatures:t,useRender:yK(r),createVisualElement:e,Component:s};return zG(a)}}function mV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Ly(t,e,n){const s=t.getProps();return KT(s,e,n!==void 0?n:s.custom,t)}const xK=zT(()=>window.ScrollTimeline!==void 0);class bK{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(xK()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wK extends bK{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function tE(t,e){return t?t[e]||t.default||t:void 0}const e1=2e4;function pV(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<e1;)e+=n,s=t.next(e);return e>=e1?1/0:e}function nE(t){return typeof t=="function"}function vC(t,e){t.timeline=e,t.onfinish=null}const sE=t=>Array.isArray(t)&&typeof t[0]=="number",_K={linearEasing:void 0};function TK(t,e){const n=zT(t);return()=>{var s;return(s=_K[e])!==null&&s!==void 0?s:n()}}const c0=TK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gV=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(pu(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function yV(t){return!!(typeof t=="function"&&c0()||!t||typeof t=="string"&&(t in t1||c0())||sE(t)||Array.isArray(t)&&t.every(yV))}const Yd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,t1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yd([0,.65,.55,1]),circOut:Yd([.55,0,1,.45]),backIn:Yd([.31,.01,.66,-.59]),backOut:Yd([.33,1.53,.69,.99])};function vV(t,e){if(t)return typeof t=="function"&&c0()?gV(t,e):sE(t)?Yd(t):Array.isArray(t)?t.map(n=>vV(n,e)||t1.easeOut):t1[t]}const ar={x:!1,y:!1};function xV(){return ar.x||ar.y}function EK(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(s=n==null?void 0:n[t])!==null&&s!==void 0?s:r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function bV(t,e){const n=EK(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function xC(t){return e=>{e.pointerType==="touch"||xV()||t(e)}}function SK(t,e,n={}){const[s,r,i]=bV(t,n),a=xC(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=xC(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,r)});return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),i}const wV=(t,e)=>e?t===e?!0:wV(t,e.parentElement):!1,rE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NK(t){return AK.has(t.tagName)||t.tabIndex!==-1}const Qd=new WeakSet;function bC(t){return e=>{e.key==="Enter"&&t(e)}}function Xx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IK=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=bC(()=>{if(Qd.has(n))return;Xx(n,"down");const r=bC(()=>{Xx(n,"up")}),i=()=>Xx(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function wC(t){return rE(t)&&!xV()}function CK(t,e,n={}){const[s,r,i]=bV(t,n),a=l=>{const c=l.currentTarget;if(!wC(l)||Qd.has(c))return;Qd.add(c);const u=e(l),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!wC(g)||!Qd.has(c))&&(Qd.delete(c),typeof u=="function"&&u(g,{success:x}))},h=g=>{d(g,n.useGlobalTarget||wV(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return s.forEach(l=>{!NK(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),l.addEventListener("focus",u=>IK(u,r),r)}),i}function RK(t){return t==="x"||t==="y"?ar[t]?null:(ar[t]=!0,()=>{ar[t]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}const _V=new Set(["width","height","top","left","right","bottom",...Ju]);let Xp;function jK(){Xp=void 0}const Dr={now:()=>(Xp===void 0&&Dr.set(vn.isProcessing||AG.useManualTiming?vn.timestamp:performance.now()),Xp),set:t=>{Xp=t,queueMicrotask(jK)}};function iE(t,e){t.indexOf(e)===-1&&t.push(e)}function aE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class oE{constructor(){this.subscriptions=[]}add(e){return iE(this.subscriptions,e),()=>aE(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function TV(t,e){return e?t*(1e3/e):0}const _C=30,PK=t=>!isNaN(parseFloat(t));class kK{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=Dr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new oE);const s=this.events[e].add(n);return e==="change"?()=>{s(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_C)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_C);return TV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yf(t,e){return new kK(t,e)}function DK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yf(n))}function MK(t,e){const n=Ly(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=KG(i[a]);DK(t,a,l)}}function OK(t){return!!(Mn(t)&&t.add)}function n1(t,e){const n=t.getValue("willChange");if(OK(n))return n.add(e)}function EV(t){return t.props[eV]}const SV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VK=1e-7,LK=12;function UK(t,e,n,s,r){let i,a,l=0;do a=e+(n-e)/2,i=SV(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>VK&&++l<LK);return a}function om(t,e,n,s){if(t===e&&n===s)return As;const r=i=>UK(i,0,1,t,n);return i=>i===0||i===1?i:SV(r(i),e,s)}const AV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NV=t=>e=>1-t(1-e),IV=om(.33,1.53,.69,.99),lE=NV(IV),CV=AV(lE),RV=t=>(t*=2)<1?.5*lE(t):.5*(2-Math.pow(2,-10*(t-1))),cE=t=>1-Math.sin(Math.acos(t)),jV=NV(cE),PV=AV(cE),kV=t=>/^0[^.\s]+$/u.test(t);function FK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kV(t):!0}const Eh=t=>Math.round(t*1e5)/1e5,uE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zK(t){return t==null}const BK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dE=(t,e)=>n=>!!(typeof n=="string"&&BK.test(n)&&n.startsWith(t)||e&&!zK(n)&&Object.prototype.hasOwnProperty.call(n,e)),DV=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(uE);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},$K=t=>Ai(0,255,t),Jx={...Zu,transform:t=>Math.round($K(t))},Mo={test:dE("rgb","red"),parse:DV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Jx.transform(t)+", "+Jx.transform(e)+", "+Jx.transform(n)+", "+Eh(gf.transform(s))+")"};function qK(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const s1={test:dE("#"),parse:qK,transform:Mo.transform},Nc={test:dE("hsl","hue"),parse:DV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+kr.transform(Eh(e))+", "+kr.transform(Eh(n))+", "+Eh(gf.transform(s))+")"},Pn={test:t=>Mo.test(t)||s1.test(t)||Nc.test(t),parse:t=>Mo.test(t)?Mo.parse(t):Nc.test(t)?Nc.parse(t):s1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mo.transform(t):Nc.transform(t)},HK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GK(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(HK))===null||n===void 0?void 0:n.length)||0)>0}const MV="number",OV="color",KK="var",WK="var(",TC="${}",YK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vf(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(YK,c=>(Pn.test(c)?(s.color.push(i),r.push(OV),n.push(Pn.parse(c))):c.startsWith(WK)?(s.var.push(i),r.push(KK),n.push(c)):(s.number.push(i),r.push(MV),n.push(parseFloat(c))),++i,TC)).split(TC);return{values:n,split:l,indexes:s,types:r}}function VV(t){return vf(t).values}function LV(t){const{split:e,types:n}=vf(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const l=n[a];l===MV?i+=Eh(r[a]):l===OV?i+=Pn.transform(r[a]):i+=r[a]}return i}}const QK=t=>typeof t=="number"?0:t;function XK(t){const e=VV(t);return LV(t)(e.map(QK))}const Ka={test:GK,parse:VV,createTransformer:LV,getAnimatableNone:XK},JK=new Set(["brightness","contrast","saturate","opacity"]);function ZK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(uE)||[];if(!s)return t;const r=n.replace(s,"");let i=JK.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const eW=/\b([a-z-]*)\(.*?\)/gu,r1={...Ka,getAnimatableNone:t=>{const e=t.match(eW);return e?e.map(ZK).join(" "):t}},tW={...YT,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:r1,WebkitFilter:r1},hE=t=>tW[t];function UV(t,e){let n=hE(t);return n!==r1&&(n=Ka),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nW=new Set(["auto","none","0"]);function sW(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!nW.has(i)&&vf(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=UV(n,r)}const EC=t=>t===Zu||t===ye,SC=(t,e)=>parseFloat(t.split(", ")[e]),AC=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return SC(r[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?SC(i[1],t):0}},rW=new Set(["x","y","z"]),iW=Ju.filter(t=>!rW.has(t));function aW(t){const e=[];return iW.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const yu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:AC(4,13),y:AC(5,14)};yu.translateX=yu.x;yu.translateY=yu.y;const Go=new Set;let i1=!1,a1=!1;function FV(){if(a1){const t=Array.from(Go).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=aW(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}a1=!1,i1=!1,Go.forEach(t=>t.complete()),Go.clear()}function zV(){Go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(a1=!0)})}function oW(){zV(),FV()}class fE{constructor(e,n,s,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Go.add(this),i1||(i1=!0,wt.read(zV),wt.resolveKeyframes(FV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const BV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),lW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cW(t){const e=lW.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function $V(t,e,n=1){const[s,r]=cW(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return BV(a)?parseFloat(a):a}return WT(r)?$V(r,e,n+1):r}const qV=t=>e=>e.test(t),uW={test:t=>t==="auto",parse:t=>t},HV=[Zu,ye,kr,na,ZG,JG,uW],NC=t=>HV.find(qV(t));class GV extends fE{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),WT(u))){const d=$V(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_V.has(s)||e.length!==2)return;const[r,i]=e,a=NC(r),l=NC(i);if(a!==l)if(EC(a)&&EC(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)FK(e[r])&&s.push(r);s.length&&sW(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=yu[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const IC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ka.test(t)||t==="0")&&!t.startsWith("url("));function dW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hW(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=IC(r,e),l=IC(i,e);return!a||!l?!1:dW(t)||(n==="spring"||nE(n))&&s}const fW=t=>t!==null;function Uy(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(fW),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const mW=40;class KV{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Dr.now(),this.options={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oW(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Dr.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!hW(e,s,r,i))if(a)this.options.duration=0;else{c&&c(Uy(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jt=(t,e,n)=>t+(e-t)*n;function Zx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pW({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Zx(c,l,t+1/3),i=Zx(c,l,t),a=Zx(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function u0(t,e){return n=>n>0?e:t}const eb=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},gW=[s1,Mo,Nc],yW=t=>gW.find(e=>e.test(t));function CC(t){const e=yW(t);if(!e)return!1;let n=e.parse(t);return e===Nc&&(n=pW(n)),n}const RC=(t,e)=>{const n=CC(t),s=CC(e);if(!n||!s)return u0(t,e);const r={...n};return i=>(r.red=eb(n.red,s.red,i),r.green=eb(n.green,s.green,i),r.blue=eb(n.blue,s.blue,i),r.alpha=jt(n.alpha,s.alpha,i),Mo.transform(r))},vW=(t,e)=>n=>e(t(n)),lm=(...t)=>t.reduce(vW),o1=new Set(["none","hidden"]);function xW(t,e){return o1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bW(t,e){return n=>jt(t,e,n)}function mE(t){return typeof t=="number"?bW:typeof t=="string"?WT(t)?u0:Pn.test(t)?RC:TW:Array.isArray(t)?WV:typeof t=="object"?Pn.test(t)?RC:wW:u0}function WV(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>mE(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function wW(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=mE(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function _W(t,e){var n;const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[i]=c,r[a]++}return s}const TW=(t,e)=>{const n=Ka.createTransformer(e),s=vf(t),r=vf(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?o1.has(t)&&!r.values.length||o1.has(e)&&!s.values.length?xW(t,e):lm(WV(_W(s,r),r.values),n):u0(t,e)};function YV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):mE(t)(t,e)}const EW=5;function QV(t,e,n){const s=Math.max(e-EW,0);return TV(n-t(s),e-s)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tb=.001;function SW({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:s=Dt.mass}){let r,i,a=1-e;a=Ai(Dt.minDamping,Dt.maxDamping,a),t=Ai(Dt.minDuration,Dt.maxDuration,yi(t)),a<1?(r=u=>{const d=u*a,h=d*t,m=d-n,g=l1(u,a),x=Math.exp(-h);return tb-m/g*x},i=u=>{const h=u*a*t,m=h*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),y=l1(Math.pow(u,2),a);return(-r(u)+tb>0?-1:1)*((m-g)*x)/y}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-tb+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=NW(r,i,l);if(t=gi(t),isNaN(c))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const AW=12;function NW(t,e,n){let s=n;for(let r=1;r<AW;r++)s=s-t(s)/e(s);return s}function l1(t,e){return t*Math.sqrt(1-e*e)}const IW=["duration","bounce"],CW=["stiffness","damping","mass"];function jC(t,e){return e.some(n=>t[n]!==void 0)}function RW(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!jC(t,CW)&&jC(t,IW))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Ai(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Dt.mass,stiffness:r,damping:i}}else{const n=SW(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function XV(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=RW({...n,velocity:-yi(n.velocity||0)}),x=m||0,y=u/(2*Math.sqrt(c*d)),w=a-i,v=yi(Math.sqrt(c/d)),_=Math.abs(w)<5;s||(s=_?Dt.restSpeed.granular:Dt.restSpeed.default),r||(r=_?Dt.restDelta.granular:Dt.restDelta.default);let T;if(y<1){const C=l1(v,y);T=j=>{const S=Math.exp(-y*v*j);return a-S*((x+y*v*w)/C*Math.sin(C*j)+w*Math.cos(C*j))}}else if(y===1)T=C=>a-Math.exp(-v*C)*(w+(x+v*w)*C);else{const C=v*Math.sqrt(y*y-1);T=j=>{const S=Math.exp(-y*v*j),E=Math.min(C*j,300);return a-S*((x+y*v*w)*Math.sinh(E)+C*w*Math.cosh(E))/C}}const N={calculatedDuration:g&&h||null,next:C=>{const j=T(C);if(g)l.done=C>=h;else{let S=0;y<1&&(S=C===0?gi(x):QV(T,C,j));const E=Math.abs(S)<=s,I=Math.abs(a-j)<=r;l.done=E&&I}return l.value=l.done?a:j,l},toString:()=>{const C=Math.min(pV(N),e1),j=gV(S=>N.next(C*S).value,C,30);return C+"ms "+j}};return N}function PC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},g=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let y=n*e;const w=h+y,v=a===void 0?w:a(w);v!==w&&(y=v-h);const _=E=>-y*Math.exp(-E/s),T=E=>v+_(E),N=E=>{const I=_(E),R=T(E);m.done=Math.abs(I)<=u,m.value=m.done?v:R};let C,j;const S=E=>{g(m.value)&&(C=E,j=XV({keyframes:[m.value,x(m.value)],velocity:QV(T,E,m.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let I=!1;return!j&&C===void 0&&(I=!0,N(E),S(E)),C!==void 0&&E>=C?j.next(E-C):(!I&&N(E),m)}}}const jW=om(.42,0,1,1),PW=om(0,0,.58,1),JV=om(.42,0,.58,1),kW=t=>Array.isArray(t)&&typeof t[0]!="number",DW={linear:As,easeIn:jW,easeInOut:JV,easeOut:PW,circIn:cE,circInOut:PV,circOut:jV,backIn:lE,backInOut:CV,backOut:IV,anticipate:RV},kC=t=>{if(sE(t)){YO(t.length===4);const[e,n,s,r]=t;return om(e,n,s,r)}else if(typeof t=="string")return DW[t];return t};function MW(t,e,n){const s=[],r=n||YV,i=t.length-1;for(let a=0;a<i;a++){let l=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||As:e;l=lm(c,l)}s.push(l)}return s}function OW(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(YO(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=MW(e,s,r),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=pu(t[h],t[h+1],d);return l[h](m)};return n?d=>u(Ai(t[0],t[i-1],d)):u}function VW(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=pu(0,e,s);t.push(jt(n,1,r))}}function LW(t){const e=[0];return VW(e,t.length-1),e}function UW(t,e){return t.map(n=>n*e)}function FW(t,e){return t.map(()=>e||JV).splice(0,t.length-1)}function d0({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=kW(s)?s.map(kC):kC(s),i={done:!1,value:e[0]},a=UW(n&&n.length===e.length?n:LW(e),t),l=OW(a,e,{ease:Array.isArray(r)?r:FW(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const zW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>Ga(e),now:()=>vn.isProcessing?vn.timestamp:Dr.now()}},BW={decay:PC,inertia:PC,tween:d0,keyframes:d0,spring:XV},$W=t=>t/100;class pE extends KV{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:i}=this.options,a=(r==null?void 0:r.KeyframeResolver)||fE,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,l=nE(n)?n:BW[n]||d0;let c,u;l!==d0&&typeof e[0]!="number"&&(c=lm($W,YV(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=pV(d));const{calculatedDuration:h}=d,m=h+r,g=m*(s+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:m,repeat:g,repeatType:x,repeatDelay:y,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),_=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,N=i;if(g){const E=Math.min(this.currentTime,d)/h;let I=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(x==="reverse"?(R=1-R,y&&(R-=y/h)):x==="mirror"&&(N=a)),T=Ai(0,1,R)*h}const C=_?{done:!1,value:c[0]}:N.next(T);l&&(C.value=l(C.value));let{done:j}=C;!_&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return S&&r!==void 0&&(C.value=Uy(c,this.options,r)),w&&w(C.value),S&&this.finish(),C}get duration(){const{resolved:e}=this;return e?yi(e.calculatedDuration):0}get time(){return yi(this.currentTime)}set time(e){e=gi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zW,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qW=new Set(["opacity","clipPath","filter","transform"]);function HW(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=vV(l,r);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const GW=zT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),h0=10,KW=2e4;function WW(t){return nE(t.type)||t.type==="spring"||!yV(t.ease)}function YW(t,e){const n=new pE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const r=[];let i=0;for(;!s.done&&i<KW;)s=n.sample(i),r.push(s.value),i+=h0;return{times:void 0,keyframes:r,duration:i-h0,ease:"linear"}}const ZV={anticipate:RV,backInOut:CV,circInOut:PV};function QW(t){return t in ZV}class DC extends KV{constructor(e){super(e);const{name:n,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new GV(i,(a,l)=>this.onKeyframesResolved(a,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:r,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&c0()&&QW(i)&&(i=ZV[i]),WW(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:x,...y}=this.options,w=YW(e,y);e=w.keyframes,e.length===1&&(e[1]=e[0]),s=w.duration,r=w.times,i=w.ease,a="keyframes"}const d=HW(l.owner.current,c,e,{...this.options,duration:s,times:r,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(vC(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Uy(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return yi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return yi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=gi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return As;const{animation:s}=n;vC(s,e)}return As}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:r,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...g}=this.options,x=new pE({...g,keyframes:s,duration:r,type:i,ease:a,times:l,isGenerator:!0}),y=gi(this.time);u.setWithVelocity(x.sample(y-h0).value,x.sample(y).value,h0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return GW()&&s&&qW.has(s)&&!c&&!u&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}}const XW={type:"spring",stiffness:500,damping:25,restSpeed:10},JW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZW={type:"keyframes",duration:.8},eY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tY=(t,{keyframes:e})=>e.length>2?ZW:Rl.has(t)?t.startsWith("scale")?JW(e[1]):XW:eY;function nY({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const gE=(t,e,n,s={},r,i)=>a=>{const l=tE(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-gi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};nY(l)||(d={...d,...tY(t,d)}),d.duration&&(d.duration=gi(d.duration)),d.repeatDelay&&(d.repeatDelay=gi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=Uy(d.keyframes,l);if(m!==void 0)return wt.update(()=>{d.onUpdate(m),d.onComplete()}),new wK([])}return!i&&DC.supports(d)?new DC(d):new pE(d)};function sY({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function e4(t,e,{delay:n=0,transitionOverride:s,type:r}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(a=s);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in c){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=c[h];if(g===void 0||d&&sY(d,h))continue;const x={delay:n,...tE(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=EV(t);if(v){const _=window.MotionHandoffAnimation(v,h,wt);_!==null&&(x.startTime=_,y=!0)}}n1(t,h),m.start(gE(h,m,g,t.shouldReduceMotion&&_V.has(h)?{type:!1}:x,t,y));const w=m.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{wt.update(()=>{l&&MK(t,l)})}),u}function c1(t,e,n={}){var s;const r=Ly(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(e4(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return rY(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function rY(t,e,n=0,s=0,r=1,i){const a=[],l=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(iY).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(c1(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function iY(t,e){return t.sortNodePosition(e)}function aY(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>c1(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=c1(t,e,n);else{const r=typeof e=="function"?Ly(t,e,n.custom):e;s=Promise.all(e4(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const oY=$T.length;function t4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?t4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oY;n++){const s=$T[n],r=t.props[s];(pf(r)||r===!1)&&(e[s]=r)}return e}const lY=[...BT].reverse(),cY=BT.length;function uY(t){return e=>Promise.all(e.map(({animation:n,options:s})=>aY(t,n,s)))}function dY(t){let e=uY(t),n=MC(),s=!0;const r=c=>(u,d)=>{var h;const m=Ly(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:g,transitionEnd:x,...y}=m;u={...u,...y,...x}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=t4(t.parent)||{},h=[],m=new Set;let g={},x=1/0;for(let w=0;w<cY;w++){const v=lY[w],_=n[v],T=u[v]!==void 0?u[v]:d[v],N=pf(T),C=v===c?_.isActive:null;C===!1&&(x=w);let j=T===d[v]&&T!==u[v]&&N;if(j&&s&&t.manuallyAnimateOnMount&&(j=!1),_.protectedKeys={...g},!_.isActive&&C===null||!T&&!_.prevProp||Oy(T)||typeof T=="boolean")continue;const S=hY(_.prevProp,T);let E=S||v===c&&_.isActive&&!j&&N||w>x&&N,I=!1;const R=Array.isArray(T)?T:[T];let k=R.reduce(r(v),{});C===!1&&(k={});const{prevResolvedValues:M={}}=_,P={...M,...k},$=q=>{E=!0,m.has(q)&&(I=!0,m.delete(q)),_.needsAnimating[q]=!0;const B=t.getValue(q);B&&(B.liveStyle=!1)};for(const q in P){const B=k[q],K=M[q];if(g.hasOwnProperty(q))continue;let ie=!1;Zw(B)&&Zw(K)?ie=!mV(B,K):ie=B!==K,ie?B!=null?$(q):m.add(q):B!==void 0&&m.has(q)?$(q):_.protectedKeys[q]=!0}_.prevProp=T,_.prevResolvedValues=k,_.isActive&&(g={...g,...k}),s&&t.blockInitialAnimation&&(E=!1),E&&(!(j&&S)||I)&&h.push(...R.map(q=>({animation:q,options:{type:v}})))}if(m.size){const w={};m.forEach(v=>{const _=t.getBaseTarget(v),T=t.getValue(v);T&&(T.liveStyle=!0),w[v]=_??null}),h.push({animation:w})}let y=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=MC(),s=!0}}}function hY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mV(e,t):!1}function vo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MC(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fY extends ao{constructor(e){super(e),e.animationState||(e.animationState=dY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let mY=0;class pY extends ao{constructor(){super(...arguments),this.id=mY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gY={animation:{Feature:fY},exit:{Feature:pY}};function xf(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function cm(t){return{point:{x:t.pageX,y:t.pageY}}}const yY=t=>e=>rE(e)&&t(e,cm(e));function Sh(t,e,n,s){return xf(t,e,yY(n),s)}const OC=(t,e)=>Math.abs(t-e);function vY(t,e){const n=OC(t.x,e.x),s=OC(t.y,e.y);return Math.sqrt(n**2+s**2)}class n4{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=sb(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=vY(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=h,{timestamp:y}=vn;this.history.push({...x,timestamp:y});const{onStart:w,onMove:v}=this.handlers;m||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nb(m,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=sb(h.type==="pointercancel"?this.lastMoveEventInfo:nb(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),x&&x(h,w)},!rE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=cm(e),l=nb(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=vn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,sb(l,this.history)),this.removeListeners=lm(Sh(this.contextWindow,"pointermove",this.handlePointerMove),Sh(this.contextWindow,"pointerup",this.handlePointerUp),Sh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ga(this.updatePoint)}}function nb(t,e){return e?{point:e(t.point)}:t}function VC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sb({point:t},e){return{point:t,delta:VC(t,s4(e)),offset:VC(t,xY(e)),velocity:bY(e,.1)}}function xY(t){return t[0]}function s4(t){return t[t.length-1]}function bY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=s4(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>gi(e)));)n--;if(!s)return{x:0,y:0};const i=yi(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const r4=1e-4,wY=1-r4,_Y=1+r4,i4=.01,TY=0-i4,EY=0+i4;function Ps(t){return t.max-t.min}function SY(t,e,n){return Math.abs(t-e)<=n}function LC(t,e,n,s=.5){t.origin=s,t.originPoint=jt(e.min,e.max,t.origin),t.scale=Ps(n)/Ps(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wY&&t.scale<=_Y||isNaN(t.scale))&&(t.scale=1),(t.translate>=TY&&t.translate<=EY||isNaN(t.translate))&&(t.translate=0)}function Ah(t,e,n,s){LC(t.x,e.x,n.x,s?s.originX:void 0),LC(t.y,e.y,n.y,s?s.originY:void 0)}function UC(t,e,n){t.min=n.min+e.min,t.max=t.min+Ps(e)}function AY(t,e,n){UC(t.x,e.x,n.x),UC(t.y,e.y,n.y)}function FC(t,e,n){t.min=e.min-n.min,t.max=t.min+Ps(e)}function Nh(t,e,n){FC(t.x,e.x,n.x),FC(t.y,e.y,n.y)}function NY(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?jt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?jt(n,t,s.max):Math.min(t,n)),t}function zC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IY(t,{top:e,left:n,bottom:s,right:r}){return{x:zC(t.x,n,r),y:zC(t.y,e,s)}}function BC(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function CY(t,e){return{x:BC(t.x,e.x),y:BC(t.y,e.y)}}function RY(t,e){let n=.5;const s=Ps(t),r=Ps(e);return r>s?n=pu(e.min,e.max-s,t.min):s>r&&(n=pu(t.min,t.max-r,e.min)),Ai(0,1,n)}function jY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const u1=.35;function PY(t=u1){return t===!1?t=0:t===!0&&(t=u1),{x:$C(t,"left","right"),y:$C(t,"top","bottom")}}function $C(t,e,n){return{min:qC(t,e),max:qC(t,n)}}function qC(t,e){return typeof t=="number"?t:t[e]||0}const HC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ic=()=>({x:HC(),y:HC()}),GC=()=>({min:0,max:0}),Ut=()=>({x:GC(),y:GC()});function Vs(t){return[t("x"),t("y")]}function a4({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function kY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function rb(t){return t===void 0||t===1}function d1({scale:t,scaleX:e,scaleY:n}){return!rb(t)||!rb(e)||!rb(n)}function Eo(t){return d1(t)||o4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function o4(t){return KC(t.x)||KC(t.y)}function KC(t){return t&&t!=="0%"}function f0(t,e,n){const s=t-n,r=e*s;return n+r}function WC(t,e,n,s,r){return r!==void 0&&(t=f0(t,r,s)),f0(t,n,s)+e}function h1(t,e=0,n=1,s,r){t.min=WC(t.min,e,n,s,r),t.max=WC(t.max,e,n,s,r)}function l4(t,{x:e,y:n}){h1(t.x,e.translate,e.scale,e.originPoint),h1(t.y,n.translate,n.scale,n.originPoint)}const YC=.999999999999,QC=1.0000000000001;function MY(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Rc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,l4(t,a)),s&&Eo(i.latestValues)&&Rc(t,i.latestValues))}e.x<QC&&e.x>YC&&(e.x=1),e.y<QC&&e.y>YC&&(e.y=1)}function Cc(t,e){t.min=t.min+e,t.max=t.max+e}function XC(t,e,n,s,r=.5){const i=jt(t.min,t.max,r);h1(t,e,n,i,s)}function Rc(t,e){XC(t.x,e.x,e.scaleX,e.scale,e.originX),XC(t.y,e.y,e.scaleY,e.scale,e.originY)}function c4(t,e){return a4(DY(t.getBoundingClientRect(),e))}function OY(t,e,n){const s=c4(t,n),{scroll:r}=e;return r&&(Cc(s.x,r.offset.x),Cc(s.y,r.offset.y)),s}const u4=({current:t})=>t?t.ownerDocument.defaultView:null,VY=new WeakMap;class LY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cm(d).point)},i=(d,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RK(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(w=>{let v=this.getAxisMotionValue(w).get()||0;if(kr.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[w];T&&(v=Ps(T)*(parseFloat(v)/100))}}this.originPoint[w]=v}),x&&wt.postRender(()=>x(d,h)),n1(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=UY(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Vs(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new n4(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:u4(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&wt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!pp(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=NY(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ac(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=IY(r.layoutBox,n):this.constraints=!1,this.elastic=PY(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=jY(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ac(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=OY(s,r.root,this.visualElement.getTransformPagePoint());let a=CY(r.layout.layoutBox,i);if(n){const l=n(kY(a));this.hasMutatedConstraints=!!l,l&&(a=a4(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Vs(d=>{if(!pp(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const m=r?200:1e6,g=r?40:1e7,x={type:"inertia",velocity:s?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return n1(this.visualElement,e),s.start(gE(e,s,0,n,this.visualElement,!1))}stopAnimation(){Vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vs(n=>{const{drag:s}=this.getProps();if(!pp(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(e[n]-jt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ac(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=RY({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vs(a=>{if(!pp(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(jt(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;VY.set(this.visualElement,this);const e=this.visualElement.current,n=Sh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ac(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),wt.read(s);const a=xf(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=u1,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function pp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FY extends ao{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new LY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}const JC=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class zY extends ao{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new n4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:JC(e),onStart:JC(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&wt.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=Sh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=ZC(t,e.target.x),s=ZC(t,e.target.y);return`${n}% ${s}%`}},BY={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Ka.parse(t);if(r.length>5)return s;const i=Ka.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const u=jt(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class $Y extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;cK(qY),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||wt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),HT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function d4(t){const[e,n]=KO(),s=p.useContext(VT);return o.jsx($Y,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(tV),isPresent:e,safeToRemove:n})}const qY={borderRadius:{...Vd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vd,borderTopRightRadius:Vd,borderBottomLeftRadius:Vd,borderBottomRightRadius:Vd,boxShadow:BY};function HY(t,e,n){const s=Mn(t)?t:yf(t);return s.start(gE("",s,e,n)),s.animation}function GY(t){return t instanceof SVGElement&&t.tagName!=="svg"}const KY=(t,e)=>t.depth-e.depth;class WY{constructor(){this.children=[],this.isDirty=!1}add(e){iE(this.children,e),this.isDirty=!0}remove(e){aE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KY),this.isDirty=!1,this.children.forEach(e)}}function YY(t,e){const n=Dr.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(Ga(s),t(i-e))};return wt.read(s,!0),()=>Ga(s)}const h4=["TopLeft","TopRight","BottomLeft","BottomRight"],QY=h4.length,e2=t=>typeof t=="string"?parseFloat(t):t,t2=t=>typeof t=="number"||ye.test(t);function XY(t,e,n,s,r,i){r?(t.opacity=jt(0,n.opacity!==void 0?n.opacity:1,JY(s)),t.opacityExit=jt(e.opacity!==void 0?e.opacity:1,0,ZY(s))):i&&(t.opacity=jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<QY;a++){const l=`border${h4[a]}Radius`;let c=n2(e,l),u=n2(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||t2(c)===t2(u)?(t[l]=Math.max(jt(e2(c),e2(u),s),0),(kr.test(u)||kr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,s))}function n2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JY=f4(0,.5,jV),ZY=f4(.5,.95,As);function f4(t,e,n){return s=>s<t?0:s>e?1:n(pu(t,e,s))}function s2(t,e){t.min=e.min,t.max=e.max}function Os(t,e){s2(t.x,e.x),s2(t.y,e.y)}function r2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function i2(t,e,n,s,r){return t-=e,t=f0(t,1/n,s),r!==void 0&&(t=f0(t,1/r,s)),t}function eQ(t,e=0,n=1,s=.5,r,i=t,a=t){if(kr.test(e)&&(e=parseFloat(e),e=jt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=jt(i.min,i.max,s);t===i&&(l-=e),t.min=i2(t.min,e,n,l,r),t.max=i2(t.max,e,n,l,r)}function a2(t,e,[n,s,r],i,a){eQ(t,e[n],e[s],e[r],e.scale,i,a)}const tQ=["x","scaleX","originX"],nQ=["y","scaleY","originY"];function o2(t,e,n,s){a2(t.x,e,tQ,n?n.x:void 0,s?s.x:void 0),a2(t.y,e,nQ,n?n.y:void 0,s?s.y:void 0)}function l2(t){return t.translate===0&&t.scale===1}function m4(t){return l2(t.x)&&l2(t.y)}function c2(t,e){return t.min===e.min&&t.max===e.max}function sQ(t,e){return c2(t.x,e.x)&&c2(t.y,e.y)}function u2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function p4(t,e){return u2(t.x,e.x)&&u2(t.y,e.y)}function d2(t){return Ps(t.x)/Ps(t.y)}function h2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rQ{constructor(){this.members=[]}add(e){iE(this.members,e),e.scheduleRender()}remove(e){if(aE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iQ(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:x}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),g&&(s+=`skewX(${g}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xd=typeof window<"u"&&window.MotionDebug!==void 0,ib=["","X","Y","Z"],aQ={visibility:"hidden"},f2=1e3;let oQ=0;function ab(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function g4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=EV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&g4(s)}function y4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=oQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xd&&(So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0),this.nodes.forEach(uQ),this.nodes.forEach(pQ),this.nodes.forEach(gQ),this.nodes.forEach(dQ),Xd&&window.MotionDebug.record(So)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new WY)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new oE),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GY(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=YY(m,250),Jp.hasAnimatedSinceResize&&(Jp.hasAnimatedSinceResize=!1,this.nodes.forEach(p2))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||wQ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=d.getProps(),_=!this.targetLayout||!p4(this.targetLayout,x)||g,T=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const N={...tE(y,"layout"),onPlay:w,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||p2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m2);return}this.isUpdating||this.nodes.forEach(fQ),this.isUpdating=!1,this.nodes.forEach(mQ),this.nodes.forEach(lQ),this.nodes.forEach(cQ),this.clearAllSnapshots();const l=Dr.now();vn.delta=Ai(0,1e3/60,l-vn.timestamp),vn.timestamp=l,vn.isProcessing=!0,Qx.update.process(vn),Qx.preRender.process(vn),Qx.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hQ),this.sharedNodes.forEach(vQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!m4(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Eo(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),_Q(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return Ut();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(TQ))){const{scroll:d}=this.root;d&&(Cc(c.x,d.offset.x),Cc(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=Ut();if(Os(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Os(c,a),Cc(c.x,h.offset.x),Cc(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=Ut();Os(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Eo(d.latestValues)&&Rc(c,d.latestValues)}return Eo(this.latestValues)&&Rc(c,this.latestValues),c}removeTransform(a){const l=Ut();Os(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Eo(u.latestValues))continue;d1(u.latestValues)&&u.updateSnapshot();const d=Ut(),h=u.measurePageBox();Os(d,h),o2(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Eo(this.latestValues)&&o2(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Nh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),l4(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Nh(this.relativeTargetOrigin,this.target,g.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xd&&So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||d1(this.parent.latestValues)||o4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Os(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;MY(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ut());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r2(this.prevProjectionDelta.x,this.projectionDelta.x),r2(this.prevProjectionDelta.y,this.projectionDelta.y)),Ah(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!h2(this.projectionDelta.x,this.prevProjectionDelta.x)||!h2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Xd&&So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ic(),this.projectionDelta=Ic(),this.projectionDeltaWithTransform=Ic()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ic();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ut(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,w=this.getStack(),v=!w||w.members.length<=1,_=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(bQ));this.animationProgress=0;let T;this.mixTargetDelta=N=>{const C=N/1e3;g2(h.x,a.x,C),g2(h.y,a.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xQ(this.relativeTarget,this.relativeTargetOrigin,m,C),T&&sQ(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ut()),Os(T,this.relativeTarget)),y&&(this.animationValues=d,XY(d,u,this.latestValues,C,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Jp.hasAnimatedSinceResize=!0,this.currentAnimation=HY(0,f2,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&v4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ut();const h=Ps(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=Ps(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Os(l,c),Rc(l,d),Ah(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rQ),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ab("z",a,u,this.animationValues);for(let d=0;d<ib.length;d++)ab(`rotate${ib[d]}`,a,u,this.animationValues),ab(`skew${ib[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aQ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Qp(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Qp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Eo(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=iQ(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in l0){if(m[y]===void 0)continue;const{correct:w,applyTo:v}=l0[y],_=u.transform==="none"?m[y]:w(m[y],h);if(v){const T=v.length;for(let N=0;N<T;N++)u[v[N]]=_}else u[y]=_}return this.options.layoutId&&(u.pointerEvents=h===this?Qp(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(m2),this.root.sharedNodes.clear()}}}function lQ(t){t.updateLayout()}function cQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Vs(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],g=Ps(m);m.min=s[h].min,m.max=m.min+g}):v4(i,n.layoutBox,s)&&Vs(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],g=Ps(s[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=Ic();Ah(l,s,n.layoutBox);const c=Ic();a?Ah(c,t.applyTransform(r,!0),n.measuredBox):Ah(c,s,n.layoutBox);const u=!m4(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const x=Ut();Nh(x,n.layoutBox,m.layoutBox);const y=Ut();Nh(y,s,g.layoutBox),p4(x,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function uQ(t){Xd&&So.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hQ(t){t.clearSnapshot()}function m2(t){t.clearMeasurements()}function fQ(t){t.isLayoutDirty=!1}function mQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pQ(t){t.resolveTargetDelta()}function gQ(t){t.calcProjection()}function yQ(t){t.resetSkewAndRotation()}function vQ(t){t.removeLeadSnapshot()}function g2(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function y2(t,e,n,s){t.min=jt(e.min,n.min,s),t.max=jt(e.max,n.max,s)}function xQ(t,e,n,s){y2(t.x,e.x,n.x,s),y2(t.y,e.y,n.y,s)}function bQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wQ={duration:.45,ease:[.4,0,.1,1]},v2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x2=v2("applewebkit/")&&!v2("chrome/")?Math.round:As;function b2(t){t.min=x2(t.min),t.max=x2(t.max)}function _Q(t){b2(t.x),b2(t.y)}function v4(t,e,n){return t==="position"||t==="preserve-aspect"&&!SY(d2(e),d2(n),.2)}function TQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const EQ=y4({attachResizeListener:(t,e)=>xf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ob={current:void 0},x4=y4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ob.current){const t=new EQ({});t.mount(window),t.setOptions({layoutScroll:!0}),ob.current=t}return ob.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SQ={pan:{Feature:zY},drag:{Feature:FY,ProjectionNode:x4,MeasureLayout:d4}};function w2(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&wt.postRender(()=>i(e,cm(e)))}class AQ extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=SK(e,n=>(w2(this.node,n,"Start"),s=>w2(this.node,s,"End"))))}unmount(){}}class NQ extends ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lm(xf(this.node.current,"focus",()=>this.onFocus()),xf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _2(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&wt.postRender(()=>i(e,cm(e)))}class IQ extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=CK(e,n=>(_2(this.node,n,"Start"),(s,{success:r})=>_2(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f1=new WeakMap,lb=new WeakMap,CQ=t=>{const e=f1.get(t.target);e&&e(t)},RQ=t=>{t.forEach(CQ)};function jQ({root:t,...e}){const n=t||document;lb.has(n)||lb.set(n,{});const s=lb.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(RQ,{root:t,...e})),s[r]}function PQ(t,e,n){const s=jQ(e);return f1.set(t,n),s.observe(t),()=>{f1.delete(t),s.unobserve(t)}}const kQ={some:0,all:1};class DQ extends ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:kQ[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return PQ(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MQ(e,n))&&this.startObserver()}unmount(){}}function MQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OQ={inView:{Feature:DQ},tap:{Feature:IQ},focus:{Feature:NQ},hover:{Feature:AQ}},VQ={layout:{ProjectionNode:x4,MeasureLayout:d4}},m1={current:null},b4={current:!1};function LQ(){if(b4.current=!0,!!FT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>m1.current=t.matches;t.addListener(e),e()}else m1.current=!1}const UQ=[...HV,Pn,Ka],FQ=t=>UQ.find(qV(t)),T2=new WeakMap;function zQ(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Mn(r))t.addValue(s,r);else if(Mn(i))t.addValue(s,yf(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,yf(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const E2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BQ{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Dr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,wt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Vy(n),this.isVariantNode=ZO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];c[g]!==void 0&&Mn(x)&&x.set(c[g],!1)}}mount(e){this.current=e,T2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),b4.current||LQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T2.delete(this.current),this.projection&&this.projection.unmount(),Ga(this.notifyUpdate),Ga(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Rl.has(e),r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&wt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gu){const n=gu[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<E2.length;s++){const r=E2[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=zQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yf(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(BV(r)||kV(r))?r=parseFloat(r):!FQ(r)&&Ka.test(n)&&(r=UV(e,n)),this.setBaseTarget(e,Mn(r)?r.get():r)),Mn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=KT(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Mn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new oE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class w4 extends BQ{constructor(){super(...arguments),this.KeyframeResolver=GV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $Q(t){return window.getComputedStyle(t)}class qQ extends w4{constructor(){super(...arguments),this.type="html",this.renderInstance=lV}readValueFromInstance(e,n){if(Rl.has(n)){const s=hE(n);return s&&s.default||0}else{const s=$Q(e),r=(iV(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return c4(e,n)}build(e,n,s){QT(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return eE(e,n,s)}}class HQ extends w4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rl.has(n)){const s=hE(n);return s&&s.default||0}return n=cV.has(n)?n:qT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return hV(e,n,s)}build(e,n,s){XT(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,r){uV(e,n,s,r)}mount(e){this.isSVGTag=ZT(e.tagName),super.mount(e)}}const GQ=(t,e)=>GT(t)?new HQ(e):new qQ(e,{allowProjection:t!==p.Fragment}),KQ=vK({...gY,...OQ,...SQ,...VQ},GQ),de=kG(KQ);var WQ=Symbol.for("react.lazy"),m0=ay[" use ".trim().toString()];function YQ(t){return typeof t=="object"&&t!==null&&"then"in t}function _4(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===WQ&&"_payload"in t&&YQ(t._payload)}function T4(t){const e=XQ(t),n=p.forwardRef((s,r)=>{let{children:i,...a}=s;_4(i)&&typeof m0=="function"&&(i=m0(i._payload));const l=p.Children.toArray(i),c=l.find(ZQ);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var QQ=T4("Slot");function XQ(t){const e=p.forwardRef((n,s)=>{let{children:r,...i}=n;if(_4(r)&&typeof m0=="function"&&(r=m0(r._payload)),p.isValidElement(r)){const a=tX(r),l=eX(i,r.props);return r.type!==p.Fragment&&(l.ref=s?io(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var JQ=Symbol("radix.slottable");function ZQ(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JQ}function eX(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function tX(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const nX=rm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=Jt.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?QQ:"button";return o.jsx(a,{className:me(nX({variant:e,size:n,className:t})),ref:i,...r})});W.displayName="Button";const sX=({language:t,toggleLanguage:e})=>{qt();const n={en:{login:"Login",signup:"Sign Up",adminDemo:"Admin Demo"},ar:{login:" ",signup:" ",adminDemo:" "}};return o.jsx(de.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed top-0 w-full bg-slate-900/80 backdrop-blur-lg border-b border-slate-800 z-50",children:o.jsxs("nav",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsxs(de.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"SB"})}),o.jsx("span",{className:"text-white font-bold text-xl",children:"StoreBuilder"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(de.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:o.jsx(CT,{className:"w-5 h-5 text-teal-400"})}),o.jsx(Kt,{to:"/login",children:o.jsx(W,{variant:"ghost",className:"text-white hover:text-teal-400 hover:bg-slate-800 transition-all",children:n[t].login})}),o.jsx(Kt,{to:"/signup",children:o.jsx(W,{className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white transition-all",children:n[t].signup})})]})]})})},rX=({language:t})=>{const{toast:e}=qt(),n={en:{title:"Build Your Dream Store",subtitle:"In Minutes, Not Months",description:"Create a professional e-commerce store without coding. Powerful features, beautiful templates, and seamless integrations.",createStore:"Create Your Store",watchDemo:"Watch Demo",trustedBy:"Trusted by 10,000+ entrepreneurs worldwide"},ar:{title:"  ",subtitle:"   ",description:"     .      .",createStore:" ",watchDemo:" ",trustedBy:"      10,000    "}},s=()=>{e({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})},r=()=>{e({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-blue-950 to-slate-900"}),o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgxNDgsIDIxMywgMjU1LCAwLjA1KSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"}),o.jsx(de.div,{initial:{opacity:0},animate:{opacity:.3},transition:{duration:2},className:"absolute top-20 left-1/4 w-96 h-96 bg-teal-500 rounded-full filter blur-3xl"}),o.jsx(de.div,{initial:{opacity:0},animate:{opacity:.3},transition:{duration:2,delay:.5},className:"absolute bottom-20 right-1/4 w-96 h-96 bg-blue-600 rounded-full filter blur-3xl"}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"flex flex-col items-center text-center max-w-4xl mx-auto",children:[o.jsx(de.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"mb-6 p-4 bg-teal-500/10 rounded-full",children:o.jsx(Jw,{className:"w-12 h-12 text-teal-400"})}),o.jsxs(de.h1,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},className:"text-5xl md:text-7xl font-bold text-white mb-4 leading-tight",children:[n[t].title,o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent",children:n[t].subtitle})]}),o.jsx(de.p,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},className:"text-xl text-slate-300 mb-10 max-w-2xl",children:n[t].description}),o.jsxs(de.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},className:"flex flex-wrap gap-4 justify-center mb-12",children:[o.jsxs(W,{onClick:s,size:"lg",className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white px-8 py-6 text-lg group transition-all",children:[n[t].createStore,o.jsx(IT,{className:`${t==="ar"?"mr-2":"ml-2"} w-5 h-5 group-hover:translate-x-1 transition-transform`})]}),o.jsx(W,{onClick:r,variant:"outline",size:"lg",className:"border-2 border-teal-500 text-teal-400 hover:bg-teal-500/10 px-8 py-6 text-lg transition-all",children:n[t].watchDemo})]}),o.jsx(de.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},className:"text-sm text-slate-400",children:n[t].trustedBy})]})})]})},iX=({language:t})=>{const e={en:{title:"Everything You Need to Succeed",subtitle:"Powerful features designed for modern e-commerce",features:[{icon:a0,title:"Lightning Fast",description:"Optimized for speed with instant loading times"},{icon:oC,title:"Beautiful Templates",description:"Professional designs that convert visitors to customers"},{icon:mu,title:"Easy Management",description:"Intuitive dashboard to manage products and orders"},{icon:sC,title:"Analytics & Insights",description:"Track sales, visitors, and performance metrics"},{icon:mf,title:"Secure Payments",description:"Safe and encrypted payment processing"},{icon:Xw,title:"Mobile Optimized",description:"Perfect experience on all devices"}]},ar:{title:"   ",subtitle:"     ",features:[{icon:a0,title:" ",description:"     "},{icon:oC,title:" ",description:"     "},{icon:mu,title:" ",description:"     "},{icon:sC,title:" ",description:"    "},{icon:mf,title:" ",description:"   "},{icon:Xw,title:" ",description:"    "}]}},n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return o.jsxs("section",{className:"py-24 bg-slate-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-950/20 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:e[t].subtitle})]}),o.jsx(de.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e[t].features.map((r,i)=>{const a=r.icon;return o.jsxs(de.div,{variants:s,whileHover:{y:-5,transition:{duration:.2}},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-8 hover:border-teal-500/50 transition-all group",children:[o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-teal-500 to-blue-600 rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:o.jsx(a,{className:"w-7 h-7 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:r.title}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:r.description})]},i)})})]})]})},aX=({language:t})=>{const e={en:{title:"Seamless Integrations",subtitle:"Connect with your favorite tools and services",integrations:[{icon:fu,name:"Payment Gateways",description:"Stripe, PayPal, Square & more"},{icon:rl,name:"Shipping Partners",description:"FedEx, UPS, DHL integration"},{icon:aC,name:"Live Chat",description:"Real-time customer support"},{icon:i0,name:"Email Marketing",description:"Mailchimp, SendGrid & more"}]},ar:{title:" ",subtitle:"   ",integrations:[{icon:fu,name:" ",description:"Stripe  PayPal  Square "},{icon:rl,name:" ",description:"  FedEx  UPS  DHL"},{icon:aC,name:" ",description:"    "},{icon:i0,name:"  ",description:"Mailchimp  SendGrid "}]}};return o.jsxs("section",{className:"py-24 bg-slate-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDU2LCAxODksIDE0OCwgMC4wNSkiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:e[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:e[t].integrations.map((n,s)=>{const r=n.icon;return o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s*.1},whileHover:{scale:1.05},className:"bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-xl p-6 text-center hover:border-teal-500/50 transition-all",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500/20 to-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(r,{className:"w-8 h-8 text-teal-400"})}),o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.name}),o.jsx("p",{className:"text-sm text-slate-400",children:n.description})]},s)})})]})]})},oX=({language:t})=>{const{toast:e}=qt(),n={en:{title:"Simple, Transparent Pricing",subtitle:"Choose the perfect plan for your business",monthly:"Monthly",yearly:"Yearly",save:"Save 20%",getStarted:"Get Started",plans:[{name:"Monthly Plan",price:100,period:"/month",description:"Pay month-to-month",features:["1 store","Up to 100 products","Basic orders management","Categories and banners","Basic product tools","Basic analytics","Email support"]},{name:"Quarterly Plan",price:250,period:"/quarter",description:"Pay every 3 months",popular:!0,features:["Up to 500 products","Up to 3 stores","Revenue analytics","Welcome popup and banners","Advanced product tools (background removal)","Priority email support"]},{name:"Yearly Plan",price:850,period:"/year",description:"Best value with annual billing",features:["Unlimited products","Multiple stores","Full analytics","Welcome popup and banners","Advanced product tools","Priority support"]}]},ar:{title:"  ",subtitle:"   ",monthly:"",yearly:"",save:" 20%",getStarted:" ",plans:[{name:" ",price:100,period:"/",description:" ",features:[" "," 100 ","  "," ","  "," ","  "]},{name:"  ",price:250,period:"/ ",description:"  3 ",popular:!0,features:[" 500 "," 3 "," ","  ","   ( )","  "]},{name:" ",price:850,period:"/",description:"   ",features:["  "," "," ","  ","  "," "]}]}},s=r=>{e({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return o.jsxs("section",{className:"py-24 bg-slate-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-950/20 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:n[t].title}),o.jsx("p",{className:"text-xl text-slate-400 mb-8",children:n[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n[t].plans.map((r,i)=>o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},whileHover:{y:-10},className:`relative bg-slate-800/50 backdrop-blur-sm border-2 rounded-2xl p-8 ${r.popular?"border-teal-500":"border-slate-700"} hover:border-teal-500/50 transition-all`,children:[r.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-teal-500 to-blue-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Popular"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.name}),o.jsx("p",{className:"text-slate-400 mb-6",children:r.description}),o.jsxs("div",{className:"mb-6",children:[o.jsx("span",{className:"text-5xl font-bold text-white",children:xt(r.price,t==="ar"?"ar-EG":"en-EG")}),o.jsx("span",{className:"text-slate-400",children:r.period})]}),o.jsx(W,{onClick:()=>s(r.name),className:`w-full mb-8 ${r.popular?"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700":"bg-slate-700 hover:bg-slate-600"} text-white transition-all`,children:n[t].getStarted}),o.jsx("div",{className:"space-y-4",children:r.features.map((a,l)=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-5 h-5 bg-teal-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Xu,{className:"w-3 h-3 text-teal-400"})}),o.jsx("span",{className:"text-slate-300",children:a})]},l))})]},i))})]})]})},lX=({language:t})=>{qt();const e=Rn(),n={en:{title:"Success Stories",subtitle:"Join thousands of successful store owners",viewStore:"View Store",stores:[{name:"Artisan Crafts",category:"Handmade Goods",growth:"+245% growth",description:"Luxury handcrafted items"},{name:"TechGear Pro",category:"Electronics",growth:"+180% growth",description:"Premium tech accessories"},{name:"Green Living",category:"Eco Products",growth:"+320% growth",description:"Sustainable lifestyle products"},{name:"Fashion Forward",category:"Apparel",growth:"+195% growth",description:"Trendy fashion collections"}]},ar:{title:" ",subtitle:"     ",viewStore:" ",stores:[{name:" ",category:" ",growth:" +245%",description:"   "},{name:"  ",category:"",growth:" +180%",description:"  "},{name:" ",category:" ",growth:" +320%",description:"   "},{name:" ",category:"",growth:" +195%",description:"  "}]}},s=()=>{e("/store")};return o.jsxs("section",{className:"py-24 bg-slate-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-teal-950/10 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:n[t].title}),o.jsx("p",{className:"text-xl text-slate-400",children:n[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n[t].stores.map((r,i)=>o.jsxs(de.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},whileHover:{y:-5},className:"group bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-xl overflow-hidden hover:border-teal-500/50 transition-all",children:[o.jsxs("div",{className:"h-48 bg-gradient-to-br from-teal-500/20 to-blue-600/20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-teal-400 text-sm mb-1",children:[o.jsx(zO,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:r.growth})]})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:r.name}),o.jsx("p",{className:"text-sm text-teal-400 mb-3",children:r.category}),o.jsx("p",{className:"text-slate-400 text-sm mb-4",children:r.description}),o.jsxs(W,{onClick:()=>s(r.name),variant:"ghost",className:"w-full text-teal-400 hover:text-teal-300 hover:bg-teal-500/10 transition-all group-hover:bg-teal-500/10",children:[n[t].viewStore,o.jsx(r0,{className:`w-4 h-4 ${t==="ar"?"mr-2":"ml-2"}`})]})]})]},i))})]})]})},cX=({language:t})=>{const e=typeof window<"u"?window.location.hostname.replace(/^www\./,""):"storebuilder.com",n={en:{about:"About",aboutText:"StoreBuilder helps entrepreneurs create beautiful online stores without coding.",product:"Product",features:"Features",pricing:"Pricing",integrations:"Integrations",templates:"Templates",support:"Support",documentation:"Documentation",helpCenter:"Help Center",community:"Community",contact:"Contact Us",legal:"Legal",privacy:"Privacy Policy",terms:"Terms of Service",copyright:` ${new Date().getFullYear()} ${e}. All rights reserved.`,email:`support@${e}`,phone:"+1 (555) 123-4567",address:"123 Commerce St, San Francisco, CA 94102"},ar:{about:"",aboutText:" StoreBuilder         .",product:"",features:"",pricing:"",integrations:"",templates:"",support:"",documentation:"",helpCenter:" ",community:"",contact:" ",legal:"",privacy:" ",terms:" ",copyright:` ${new Date().getFullYear()} ${e}.   .`,email:`support@${e}`,phone:"+1 (555) 123-4567",address:"123 Commerce St, San Francisco, CA 94102"}},s={product:[n[t].features,n[t].pricing,n[t].integrations,n[t].templates],support:[n[t].documentation,n[t].helpCenter,n[t].community,n[t].contact],legal:[n[t].privacy,n[t].terms]};return o.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 mb-12",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"SB"})}),o.jsx("span",{className:"text-white font-bold text-xl",children:"StoreBuilder"})]}),o.jsx("p",{className:"text-slate-400 mb-6 max-w-sm",children:n[t].aboutText}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(i0,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:n[t].email})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(DT,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:n[t].phone})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(rG,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:n[t].address})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:n[t].product}),o.jsx("div",{className:"space-y-2",children:s.product.map((r,i)=>o.jsx("p",{children:o.jsx("span",{className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:r})},i))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:n[t].support}),o.jsx("div",{className:"space-y-2",children:s.support.map((r,i)=>o.jsx("p",{children:o.jsx("span",{className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:r})},i))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:n[t].legal}),o.jsx("div",{className:"space-y-2",children:s.legal.map((r,i)=>o.jsx("p",{children:o.jsx("span",{className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:r})},i))})]})]}),o.jsx("div",{className:"border-t border-slate-800 pt-8",children:o.jsx("p",{className:"text-center text-slate-400 text-sm",children:n[t].copyright})})]})})},uX=({language:t,toggleLanguage:e})=>o.jsxs("div",{className:`min-h-screen bg-slate-900 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:[o.jsx(sX,{language:t,toggleLanguage:e}),o.jsxs("main",{children:[o.jsx(rX,{language:t}),o.jsx(iX,{language:t}),o.jsx(aX,{language:t}),o.jsx(oX,{language:t}),o.jsx(lX,{language:t})]}),o.jsx(cX,{language:t})]}),dX=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},hX=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},S4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),s.push(n[d],n[h],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||u==null||h==null)throw new fX;const m=i<<2|l>>4;if(s.push(m),u!==64){const g=l<<4&240|u>>2;if(s.push(g),h!==64){const x=u<<6&192|h;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mX=function(t){const e=E4(t);return S4.encodeByteArray(e,!0)},p0=function(t){return mX(t).replace(/\./g,"")},A4=function(t){try{return S4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=()=>N4().__FIREBASE_DEFAULTS__,gX=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&A4(t[1]);return e&&JSON.parse(e)},Fy=()=>{try{return dX()||pX()||gX()||yX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I4=t=>{var e,n;return(n=(e=Fy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C4=t=>{const e=I4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},R4=()=>{var t;return(t=Fy())==null?void 0:t.config},j4=t=>{var e;return(e=Fy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[p0(JSON.stringify(n)),p0(JSON.stringify(a)),l].join(".")}const Ih={};function xX(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?t.emulator.push(e):t.prod.push(e);return t}function bX(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S2=!1;function yE(t,e){if(typeof window>"u"||typeof document>"u"||!Vi(window.location.host)||Ih[t]===e||Ih[t]||S2)return;Ih[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=xX().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{S2=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=bX(s),g=n("text"),x=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;l(T),d(w,y);const N=u();c(_,v),T.append(_,x,w,N),document.body.appendChild(T)}i?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function k4(){var e;const t=(e=Fy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _X(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EX(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D4(){return!k4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M4(){return!k4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function By(){try{return typeof indexedDB=="object"}catch{return!1}}function xE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function O4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX="FirebaseError";class Ms extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SX,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?AX(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Ms(r,l,s)}}function AX(t,e){return t.replace(NX,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const NX=/\{\$([^}]+)}/g;function IX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ni(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(A2(i)&&A2(a)){if(!Ni(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function A2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Zd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CX(t,e){const n=new RX(t,e);return n.subscribe.bind(n)}class RX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jX(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=cb),r.error===void 0&&(r.error=cb),r.complete===void 0&&(r.complete=cb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jX(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=1e3,kX=2,DX=4*60*60*1e3,MX=.5;function N2(t,e=PX,n=kX){const s=e*Math.pow(n,t),r=Math.round(MX*s*(Math.random()-.5)*2);return Math.min(DX,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vX;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LX(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VX(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VX(t){return t===Ao?void 0:t}function LX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const FX={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},zX=Pe.INFO,BX={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},$X=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=BX[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=zX,this._logHandler=$X,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const qX=(t,e)=>e.some(n=>t instanceof n);let I2,C2;function HX(){return I2||(I2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GX(){return C2||(C2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V4=new WeakMap,p1=new WeakMap,L4=new WeakMap,ub=new WeakMap,bE=new WeakMap;function KX(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Da(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&V4.set(n,t)}).catch(()=>{}),bE.set(e,t),e}function WX(t){if(p1.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});p1.set(t,e)}let g1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YX(t){g1=t(g1)}function QX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(db(this),e,...n);return L4.set(s,e.sort?e.sort():[e]),Da(s)}:GX().includes(t)?function(...e){return t.apply(db(this),e),Da(V4.get(this))}:function(...e){return Da(t.apply(db(this),e))}}function XX(t){return typeof t=="function"?QX(t):(t instanceof IDBTransaction&&WX(t),qX(t,HX())?new Proxy(t,g1):t)}function Da(t){if(t instanceof IDBRequest)return KX(t);if(ub.has(t))return ub.get(t);const e=XX(t);return e!==t&&(ub.set(t,e),bE.set(e,t)),e}const db=t=>bE.get(t);function U4(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=Da(a);return s&&a.addEventListener("upgradeneeded",c=>{s(Da(a.result),c.oldVersion,c.newVersion,Da(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const JX=["get","getKey","getAll","getAllKeys","count"],ZX=["put","add","delete","clear"],hb=new Map;function R2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hb.get(e))return hb.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=ZX.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||JX.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return hb.set(e,i),i}YX(t=>({...t,get:(e,n,s)=>R2(e,n)||t.get(e,n,s),has:(e,n)=>!!R2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tJ(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y1="@firebase/app",j2="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new dm("@firebase/app"),nJ="@firebase/app-compat",sJ="@firebase/analytics-compat",rJ="@firebase/analytics",iJ="@firebase/app-check-compat",aJ="@firebase/app-check",oJ="@firebase/auth",lJ="@firebase/auth-compat",cJ="@firebase/database",uJ="@firebase/data-connect",dJ="@firebase/database-compat",hJ="@firebase/functions",fJ="@firebase/functions-compat",mJ="@firebase/installations",pJ="@firebase/installations-compat",gJ="@firebase/messaging",yJ="@firebase/messaging-compat",vJ="@firebase/performance",xJ="@firebase/performance-compat",bJ="@firebase/remote-config",wJ="@firebase/remote-config-compat",_J="@firebase/storage",TJ="@firebase/storage-compat",EJ="@firebase/firestore",SJ="@firebase/ai",AJ="@firebase/firestore-compat",NJ="firebase",IJ="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="[DEFAULT]",CJ={[y1]:"fire-core",[nJ]:"fire-core-compat",[rJ]:"fire-analytics",[sJ]:"fire-analytics-compat",[aJ]:"fire-app-check",[iJ]:"fire-app-check-compat",[oJ]:"fire-auth",[lJ]:"fire-auth-compat",[cJ]:"fire-rtdb",[uJ]:"fire-data-connect",[dJ]:"fire-rtdb-compat",[hJ]:"fire-fn",[fJ]:"fire-fn-compat",[mJ]:"fire-iid",[pJ]:"fire-iid-compat",[gJ]:"fire-fcm",[yJ]:"fire-fcm-compat",[vJ]:"fire-perf",[xJ]:"fire-perf-compat",[bJ]:"fire-rc",[wJ]:"fire-rc-compat",[_J]:"fire-gcs",[TJ]:"fire-gcs-compat",[EJ]:"fire-fst",[AJ]:"fire-fst-compat",[SJ]:"fire-vertex","fire-js":"fire-js",[NJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map,RJ=new Map,x1=new Map;function P2(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(x1.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;x1.set(e,t);for(const n of g0.values())P2(n,t);for(const n of RJ.values())P2(n,t);return!0}function Li(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function is(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new jl("app","Firebase",jJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=IJ;function F4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:v1,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ma.create("bad-app-name",{appName:String(r)});if(n||(n=R4()),!n)throw Ma.create("no-options");const i=g0.get(r);if(i){if(Ni(n,i.options)&&Ni(s,i.config))return i;throw Ma.create("duplicate-app",{appName:r})}const a=new UX(r);for(const c of x1.values())a.addComponent(c);const l=new PJ(n,s,a);return g0.set(r,l),l}function $y(t=v1){const e=g0.get(t);if(!e&&t===v1&&R4())return F4();if(!e)throw Ma.create("no-app",{appName:t});return e}function Vn(t,e,n){let s=CJ[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}nr(new ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ="firebase-heartbeat-database",DJ=1,bf="firebase-heartbeat-store";let fb=null;function z4(){return fb||(fb=U4(kJ,DJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),fb}async function MJ(t){try{const n=(await z4()).transaction(bf),s=await n.objectStore(bf).get(B4(t));return await n.done,s}catch(e){if(e instanceof Ms)Ii.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function k2(t,e){try{const s=(await z4()).transaction(bf,"readwrite");await s.objectStore(bf).put(e,B4(t)),await s.done}catch(n){if(n instanceof Ms)Ii.warn(n.message);else{const s=Ma.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(s.message)}}}function B4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ=1024,VJ=30;class LJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FJ(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>VJ){const a=zJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ii.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D2(),{heartbeatsToSend:s,unsentEntries:r}=UJ(this._heartbeatsCache.heartbeats),i=p0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ii.warn(n),""}}}function D2(){return new Date().toISOString().substring(0,10)}function UJ(t,e=OJ){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),M2(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),M2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class FJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return By()?xE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return k2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return k2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function M2(t){return p0(JSON.stringify({version:2,heartbeats:t})).length}function zJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t){nr(new ks("platform-logger",e=>new eJ(e),"PRIVATE")),nr(new ks("heartbeat",e=>new LJ(e),"PRIVATE")),Vn(y1,j2,t),Vn(y1,j2,"esm2020"),Vn("fire-js","")}BJ("");var $J="firebase",qJ="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn($J,qJ,"app");function $4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HJ=$4,q4=new jl("auth","Firebase",$4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new dm("@firebase/auth");function GJ(t,...e){y0.logLevel<=Pe.WARN&&y0.warn(`Auth (${oo}): ${t}`,...e)}function Zp(t,...e){y0.logLevel<=Pe.ERROR&&y0.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw wE(t,...e)}function Mr(t,...e){return wE(t,...e)}function H4(t,e,n){const s={...HJ(),[e]:n};return new jl("auth","Firebase",s).create(e,{appName:t.name})}function vi(t){return H4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wE(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return q4.create(t,...e)}function xe(t,e,...n){if(!t)throw wE(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zp(e),new Error(e)}function Ci(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function KJ(){return O2()==="http:"||O2()==="https:"}function O2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KJ()||vE()||"connection"in navigator)?navigator.onLine:!0}function YJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=wX()||TX()}get(){return WJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JJ=new hm(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ui(t,e,n,s,r={}){return K4(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=um({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return _X()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Vi(t.emulatorConfig.host)&&(u.credentials="include"),G4.fetch()(await W4(t,t.config.apiHost,n,l),u)})}async function K4(t,e,n){t._canInitEmulator=!1;const s={...QJ,...e};try{const r=new eZ(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw gp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw gp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw gp(t,"user-disabled",a);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw H4(t,d,u);hr(t,d)}}catch(r){if(r instanceof Ms)throw r;hr(t,"network-request-failed",{message:String(r)})}}async function fm(t,e,n,s,r={}){const i=await Ui(t,e,n,s,r);return"mfaPendingCredential"in i&&hr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function W4(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?_E(t.config,r):`${t.config.apiScheme}://${r}`;return XJ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function ZJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mr(this.auth,"network-request-failed")),JJ.get())})}}function gp(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Mr(t,e,s);return r.customData._tokenResponse=n,r}function V2(t){return t!==void 0&&t.enterprise!==void 0}class tZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nZ(t,e){return Ui(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sZ(t,e){return Ui(t,"POST","/v1/accounts:delete",e)}async function v0(t,e){return Ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rZ(t,e=!1){const n=it(t),s=await n.getIdToken(e),r=TE(s);xe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Ch(mb(r.auth_time)),issuedAtTime:Ch(mb(r.iat)),expirationTime:Ch(mb(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function mb(t){return Number(t)*1e3}function TE(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Zp("JWT malformed, contained fewer than 3 sections"),null;try{const r=A4(n);return r?JSON.parse(r):(Zp("Failed to decode base64 JWT payload"),null)}catch(r){return Zp("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function L2(t){const e=TE(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ms&&iZ(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function iZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(t){var h;const e=t.auth,n=await t.getIdToken(),s=await vu(t,v0(e,{idToken:n}));xe(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(h=r.providerUserInfo)!=null&&h.length?Y4(r.providerUserInfo):[],a=lZ(t.providerData,i),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new w1(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function oZ(t){const e=it(t);await x0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lZ(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function Y4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ(t,e){const n=await K4(t,{},async()=>{const s=um({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await W4(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Vi(t.emulatorConfig.host)&&(c.credentials="include"),G4.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uZ(t,e){return Ui(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=L2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await cZ(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new $c;return s&&(xe(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(xe(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(xe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new aZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new w1(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rZ(this,e)}reload(){return oZ(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await x0(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(is(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await vu(this,sZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:x,stsTokenManager:y}=n;xe(h&&y,e,"internal-error");const w=$c.fromJSON(this.name,y);xe(typeof h=="string",e,"internal-error"),Ji(s,e.name),Ji(r,e.name),xe(typeof m=="boolean",e,"internal-error"),xe(typeof g=="boolean",e,"internal-error"),Ji(i,e.name),Ji(a,e.name),Ji(l,e.name),Ji(c,e.name),Ji(u,e.name),Ji(d,e.name);const v=new ur({uid:h,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(v.providerData=x.map(_=>({..._}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,s=!1){const r=new $c;r.updateFromServerResponse(n);const i=new ur({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await x0(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];xe(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?Y4(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new $c;l.updateFromIdToken(s);const c=new ur({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new w1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Map;function di(t){Ci(t instanceof Function,"Expected a class definition");let e=U2.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Q4.type="NONE";const F2=Q4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e,n){return`firebase:${t}:${e}:${n}`}class qc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=eg(this.userKey,r.apiKey,i),this.fullPersistenceKey=eg("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await v0(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new qc(di(F2),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||di(F2);const a=eg(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const m=await v0(e,{idToken:d}).catch(()=>{});if(!m)break;h=await ur._fromGetAccountInfoResponse(e,m,d)}else h=ur._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new qc(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new qc(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n5(e))return"Blackberry";if(s5(e))return"Webos";if(J4(e))return"Safari";if((e.includes("chrome/")||Z4(e))&&!e.includes("edge/"))return"Chrome";if(t5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function X4(t=ln()){return/firefox\//i.test(t)}function J4(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z4(t=ln()){return/crios\//i.test(t)}function e5(t=ln()){return/iemobile/i.test(t)}function t5(t=ln()){return/android/i.test(t)}function n5(t=ln()){return/blackberry/i.test(t)}function s5(t=ln()){return/webos/i.test(t)}function EE(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dZ(t=ln()){var e;return EE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function hZ(){return EX()&&document.documentMode===10}function r5(t=ln()){return EE(t)||t5(t)||s5(t)||n5(t)||/windows phone/i.test(t)||e5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e=[]){let n;switch(t){case"Browser":n=z2(ln());break;case"Worker":n=`${z2(ln())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mZ(t,e={}){return Ui(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ=6;class gZ{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B2(this),this.idTokenSubscription=new B2(this),this.beforeStateQueue=new fZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await qc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await v0(this,{idToken:e}),s=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(is(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await x0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(is(this.app))return Promise.reject(vi(this));const n=e?it(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return is(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return is(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mZ(this),n=new gZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uZ(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await qc.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&GJ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pl(t){return it(t)}class B2{constructor(e){this.auth=e,this.observer=null,this.addObserver=CX(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vZ(t){qy=t}function a5(t){return qy.loadJS(t)}function xZ(){return qy.recaptchaEnterpriseScript}function bZ(){return qy.gapiScript}function wZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _Z{constructor(){this.enterprise=new TZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EZ="recaptcha-enterprise",o5="NO_RECAPTCHA";class SZ{constructor(e){this.type=EZ,this.auth=Pl(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{nZ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new tZ(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;V2(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(o5)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _Z().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&V2(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xZ();c.length!==0&&(c+=l),a5(c).then(()=>{r(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Ld(t,e,n,s=!1,r=!1){const i=new SZ(t);let a;if(r)a=o5;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function _1(t,e,n,s,r){var i,a;if(r==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ld(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ld(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)});else if(r==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Ld(t,e,n);return s(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Ld(t,e,n,!1,!0);return s(t,d)}return Promise.reject(c)})}else{const l=await Ld(t,e,n,!1,!0);return s(t,l)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(t,e){const n=Li(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Ni(i,e??{}))return r;hr(r,"already-initialized")}return n.initialize({options:e})}function NZ(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function IZ(t,e,n){const s=Pl(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=l5(e),{host:a,port:l}=CZ(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Ni(u,s.config.emulator)&&Ni(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Vi(a)?(zy(`${i}//${a}${c}`),yE("Auth",!0)):r||RZ()}function l5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CZ(t){const e=l5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:$2(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:$2(a)}}}function $2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function jZ(t,e){return Ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PZ(t,e){return fm(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kZ(t,e){return fm(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function DZ(t,e){return fm(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends SE{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new wf(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new wf(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,n,"signInWithPassword",PZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kZ(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _1(e,s,"signUpPassword",jZ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DZ(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e){return fm(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ="http://localhost";class il extends SE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new il(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Hc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hc(e,n)}buildRequest(){const e={requestUri:MZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=um(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VZ(t){const e=Jd(Zd(t)).link,n=e?Jd(Zd(e)).deep_link_id:null,s=Jd(Zd(t)).deep_link_id;return(s?Jd(Zd(s)).link:null)||s||n||e||t}class AE{constructor(e){const n=Jd(Zd(e)),s=n.apiKey??null,r=n.oobCode??null,i=OZ(n.mode??null);xe(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VZ(e);try{return new AE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.providerId=ed.PROVIDER_ID}static credential(e,n){return wf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=AE.parseLink(n);return xe(s,"argument-error"),wf._fromEmailAndCode(e,s.code,s.tenantId)}}ed.PROVIDER_ID="password";ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends c5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends mm{constructor(){super("facebook.com")}static credential(e){return il._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends mm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return il._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fa.credential(n,s)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends mm{constructor(){super("github.com")}static credential(e){return il._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends mm{constructor(){super("twitter.com")}static credential(e,n){return il._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pa.credential(n,s)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZ(t,e){return fm(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await ur._fromIdTokenResponse(e,s,r),a=q2(s);return new al({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=q2(s);return new al({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function q2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends Ms{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,b0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new b0(e,n,s,r)}}function u5(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?b0._fromErrorAndOperation(t,i,e,s):i})}async function UZ(t,e,n=!1){const s=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return al._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FZ(t,e,n=!1){const{auth:s}=t;if(is(s.app))return Promise.reject(vi(s));const r="reauthenticate";try{const i=await vu(t,u5(s,r,e,t),n);xe(i.idToken,s,"internal-error");const a=TE(i.idToken);xe(a,s,"internal-error");const{sub:l}=a;return xe(t.uid===l,s,"user-mismatch"),al._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hr(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e,n=!1){if(is(t.app))return Promise.reject(vi(t));const s="signIn",r=await u5(t,s,e),i=await al._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function zZ(t,e){return d5(Pl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t){const e=Pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BZ(t,e,n){if(is(t.app))return Promise.reject(vi(t));const s=Pl(t),a=await _1(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LZ,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&h5(t),c}),l=await al._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function f5(t,e,n){return is(t.app)?Promise.reject(vi(t)):zZ(it(t),ed.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&h5(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Z(t,e){return Ui(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=it(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await vu(s,$Z(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function HZ(t,e,n,s){return it(t).onIdTokenChanged(e,n,s)}function GZ(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function Fi(t,e,n,s){return it(t).onAuthStateChanged(e,n,s)}function NE(t){return it(t).signOut()}const w0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(w0,"1"),this.storage.removeItem(w0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=1e3,WZ=10;class p5 extends m5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);hZ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WZ):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p5.type="LOCAL";const YZ=p5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5 extends m5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g5.type="SESSION";const y5=g5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Hy(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await QZ(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=IE("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function JZ(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function ZZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tee(){return v5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="firebaseLocalStorageDb",nee=1,_0="firebaseLocalStorage",b5="fbase_key";class pm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gy(t,e){return t.transaction([_0],e?"readwrite":"readonly").objectStore(_0)}function see(){const t=indexedDB.deleteDatabase(x5);return new pm(t).toPromise()}function T1(){const t=indexedDB.open(x5,nee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_0,{keyPath:b5})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_0)?e(s):(s.close(),await see(),e(await T1()))})})}async function H2(t,e,n){const s=Gy(t,!0).put({[b5]:e,value:n});return new pm(s).toPromise()}async function ree(t,e){const n=Gy(t,!1).get(e),s=await new pm(n).toPromise();return s===void 0?null:s.value}function G2(t,e){const n=Gy(t,!0).delete(e);return new pm(n).toPromise()}const iee=800,aee=3;class w5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aee)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hy._getInstance(tee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await ZZ(),!this.activeServiceWorker)return;this.sender=new XZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T1();return await H2(e,w0,"1"),await G2(e,w0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>H2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ree(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Gy(r,!1).getAll();return new pm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w5.type="LOCAL";const oee=w5;new hm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(t,e){return e?di(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends SE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cee(t){return d5(t.auth,new CE(t),t.bypassAuthState)}function uee(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),FZ(n,new CE(t),t.bypassAuthState)}async function dee(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),UZ(n,new CE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cee;case"linkViaPopup":case"linkViaRedirect":return dee;case"reauthViaPopup":case"reauthViaRedirect":return uee;default:hr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee=new hm(2e3,1e4);class jc extends _5{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,jc.currentPopupAction&&jc.currentPopupAction.cancel(),jc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=IE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hee.get())};e()}}jc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee="pendingRedirect",tg=new Map;class mee extends _5{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=tg.get(this.auth._key());if(!e){try{const s=await pee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}tg.set(this.auth._key(),e)}return this.bypassAuthState||tg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pee(t,e){const n=vee(e),s=yee(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function gee(t,e){tg.set(t._key(),e)}function yee(t){return di(t._redirectPersistence)}function vee(t){return eg(fee,t.config.apiKey,t.name)}async function xee(t,e,n=!1){if(is(t.app))return Promise.reject(vi(t));const s=Pl(t),r=lee(s,e),a=await new mee(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee=10*60*1e3;class wee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_ee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!T5(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bee&&this.cachedEventUids.clear(),this.cachedEventUids.has(K2(e))}saveEventToCache(e){this.cachedEventUids.add(K2(e)),this.lastProcessedEventTime=Date.now()}}function K2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function T5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _ee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee(t,e={}){return Ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,See=/^https?/;async function Aee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tee(t);for(const n of e)try{if(Nee(n))return}catch{}hr(t,"unauthorized-domain")}function Nee(t){const e=b1(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!See.test(n))return!1;if(Eee.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=new hm(3e4,6e4);function W2(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cee(t){return new Promise((e,n)=>{var r,i,a;function s(){W2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W2(),n(Mr(t,"network-request-failed"))},timeout:Iee.get()})}if((i=(r=Or().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Or().gapi)!=null&&a.load)s();else{const l=wZ("iframefcb");return Or()[l]=()=>{gapi.load?s():n(Mr(t,"network-request-failed"))},a5(`${bZ()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ng=null,e})}let ng=null;function Ree(t){return ng=ng||Cee(t),ng}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee=new hm(5e3,15e3),Pee="__/auth/iframe",kee="emulator/auth/iframe",Dee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oee(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_E(e,kee):`https://${t.config.authDomain}/${Pee}`,s={apiKey:e.apiKey,appName:t.name,v:oo},r=Mee.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${um(s).slice(1)}`}async function Vee(t){const e=await Ree(t),n=Or().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:Oee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dee,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=Mr(t,"network-request-failed"),l=Or().setTimeout(()=>{i(a)},jee.get());function c(){Or().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uee=500,Fee=600,zee="_blank",Bee="http://localhost";class Y2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $ee(t,e,n,s=Uee,r=Fee){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...Lee,width:s.toString(),height:r.toString(),top:i,left:a},u=ln().toLowerCase();n&&(l=Z4(u)?zee:n),X4(u)&&(e=e||Bee,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,x])=>`${m}${g}=${x},`,"");if(dZ(u)&&l!=="_self")return qee(e||"",l),new Y2(null);const h=window.open(e||"",l,d);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new Y2(h)}function qee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee="__/auth/handler",Gee="emulator/auth/handler",Kee=encodeURIComponent("fac");async function Q2(t,e,n,s,r,i){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:oo,eventId:r};if(e instanceof c5){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",IX(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))a[d]=h}if(e instanceof mm){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Kee}=${encodeURIComponent(c)}`:"";return`${Wee(t)}?${um(l).slice(1)}${u}`}function Wee({config:t}){return t.emulator?_E(t,Gee):`https://${t.authDomain}/${Hee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="webStorageSupport";class Yee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y5,this._completeRedirectFn=xee,this._overrideRedirectResult=gee}async _openPopup(e,n,s,r){var a;Ci((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await Q2(e,n,s,b1(),r);return $ee(e,i,IE())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Q2(e,n,s,b1(),r);return JZ(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Ci(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Vee(e),s=new wee(e);return n.register("authEvent",r=>(xe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pb,{type:pb},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[pb];i!==void 0&&n(!!i),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Aee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r5()||J4()||EE()}}const Qee=Yee;var X2="@firebase/auth",J2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zee(t){nr(new ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;xe(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i5(t)},u=new yZ(s,r,i,c);return NZ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),nr(new ks("auth-internal",e=>{const n=Pl(e.getProvider("auth").getImmediate());return(s=>new Xee(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(X2,J2,Jee(t)),Vn(X2,J2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=5*60,tte=j4("authIdTokenMaxAge")||ete;let Z2=null;const nte=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tte)return;const r=n==null?void 0:n.token;Z2!==r&&(Z2=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ste(t=$y()){const e=Li(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AZ(t,{popupRedirectResolver:Qee,persistence:[oee,YZ,y5]}),s=j4("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=nte(i.toString());GZ(n,a,()=>a(n.currentUser)),HZ(n,l=>a(l))}}const r=I4("auth");return r&&IZ(n,`http://${r}`),n}function rte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}vZ({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Mr("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",rte().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zee("Browser");var eR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,E5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.F=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(R,k,M){for(var P=Array(arguments.length-2),$=2;$<arguments.length;$++)P[$-2]=arguments[$];return E.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,E,I){I||(I=0);const R=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)R[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;k<16;++k)R[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],k=S.g[2];let M=S.g[3],P;P=E+(M^I&(k^M))+R[0]+3614090360&4294967295,E=I+(P<<7&4294967295|P>>>25),P=M+(k^E&(I^k))+R[1]+3905402710&4294967295,M=E+(P<<12&4294967295|P>>>20),P=k+(I^M&(E^I))+R[2]+606105819&4294967295,k=M+(P<<17&4294967295|P>>>15),P=I+(E^k&(M^E))+R[3]+3250441966&4294967295,I=k+(P<<22&4294967295|P>>>10),P=E+(M^I&(k^M))+R[4]+4118548399&4294967295,E=I+(P<<7&4294967295|P>>>25),P=M+(k^E&(I^k))+R[5]+1200080426&4294967295,M=E+(P<<12&4294967295|P>>>20),P=k+(I^M&(E^I))+R[6]+2821735955&4294967295,k=M+(P<<17&4294967295|P>>>15),P=I+(E^k&(M^E))+R[7]+4249261313&4294967295,I=k+(P<<22&4294967295|P>>>10),P=E+(M^I&(k^M))+R[8]+1770035416&4294967295,E=I+(P<<7&4294967295|P>>>25),P=M+(k^E&(I^k))+R[9]+2336552879&4294967295,M=E+(P<<12&4294967295|P>>>20),P=k+(I^M&(E^I))+R[10]+4294925233&4294967295,k=M+(P<<17&4294967295|P>>>15),P=I+(E^k&(M^E))+R[11]+2304563134&4294967295,I=k+(P<<22&4294967295|P>>>10),P=E+(M^I&(k^M))+R[12]+1804603682&4294967295,E=I+(P<<7&4294967295|P>>>25),P=M+(k^E&(I^k))+R[13]+4254626195&4294967295,M=E+(P<<12&4294967295|P>>>20),P=k+(I^M&(E^I))+R[14]+2792965006&4294967295,k=M+(P<<17&4294967295|P>>>15),P=I+(E^k&(M^E))+R[15]+1236535329&4294967295,I=k+(P<<22&4294967295|P>>>10),P=E+(k^M&(I^k))+R[1]+4129170786&4294967295,E=I+(P<<5&4294967295|P>>>27),P=M+(I^k&(E^I))+R[6]+3225465664&4294967295,M=E+(P<<9&4294967295|P>>>23),P=k+(E^I&(M^E))+R[11]+643717713&4294967295,k=M+(P<<14&4294967295|P>>>18),P=I+(M^E&(k^M))+R[0]+3921069994&4294967295,I=k+(P<<20&4294967295|P>>>12),P=E+(k^M&(I^k))+R[5]+3593408605&4294967295,E=I+(P<<5&4294967295|P>>>27),P=M+(I^k&(E^I))+R[10]+38016083&4294967295,M=E+(P<<9&4294967295|P>>>23),P=k+(E^I&(M^E))+R[15]+3634488961&4294967295,k=M+(P<<14&4294967295|P>>>18),P=I+(M^E&(k^M))+R[4]+3889429448&4294967295,I=k+(P<<20&4294967295|P>>>12),P=E+(k^M&(I^k))+R[9]+568446438&4294967295,E=I+(P<<5&4294967295|P>>>27),P=M+(I^k&(E^I))+R[14]+3275163606&4294967295,M=E+(P<<9&4294967295|P>>>23),P=k+(E^I&(M^E))+R[3]+4107603335&4294967295,k=M+(P<<14&4294967295|P>>>18),P=I+(M^E&(k^M))+R[8]+1163531501&4294967295,I=k+(P<<20&4294967295|P>>>12),P=E+(k^M&(I^k))+R[13]+2850285829&4294967295,E=I+(P<<5&4294967295|P>>>27),P=M+(I^k&(E^I))+R[2]+4243563512&4294967295,M=E+(P<<9&4294967295|P>>>23),P=k+(E^I&(M^E))+R[7]+1735328473&4294967295,k=M+(P<<14&4294967295|P>>>18),P=I+(M^E&(k^M))+R[12]+2368359562&4294967295,I=k+(P<<20&4294967295|P>>>12),P=E+(I^k^M)+R[5]+4294588738&4294967295,E=I+(P<<4&4294967295|P>>>28),P=M+(E^I^k)+R[8]+2272392833&4294967295,M=E+(P<<11&4294967295|P>>>21),P=k+(M^E^I)+R[11]+1839030562&4294967295,k=M+(P<<16&4294967295|P>>>16),P=I+(k^M^E)+R[14]+4259657740&4294967295,I=k+(P<<23&4294967295|P>>>9),P=E+(I^k^M)+R[1]+2763975236&4294967295,E=I+(P<<4&4294967295|P>>>28),P=M+(E^I^k)+R[4]+1272893353&4294967295,M=E+(P<<11&4294967295|P>>>21),P=k+(M^E^I)+R[7]+4139469664&4294967295,k=M+(P<<16&4294967295|P>>>16),P=I+(k^M^E)+R[10]+3200236656&4294967295,I=k+(P<<23&4294967295|P>>>9),P=E+(I^k^M)+R[13]+681279174&4294967295,E=I+(P<<4&4294967295|P>>>28),P=M+(E^I^k)+R[0]+3936430074&4294967295,M=E+(P<<11&4294967295|P>>>21),P=k+(M^E^I)+R[3]+3572445317&4294967295,k=M+(P<<16&4294967295|P>>>16),P=I+(k^M^E)+R[6]+76029189&4294967295,I=k+(P<<23&4294967295|P>>>9),P=E+(I^k^M)+R[9]+3654602809&4294967295,E=I+(P<<4&4294967295|P>>>28),P=M+(E^I^k)+R[12]+3873151461&4294967295,M=E+(P<<11&4294967295|P>>>21),P=k+(M^E^I)+R[15]+530742520&4294967295,k=M+(P<<16&4294967295|P>>>16),P=I+(k^M^E)+R[2]+3299628645&4294967295,I=k+(P<<23&4294967295|P>>>9),P=E+(k^(I|~M))+R[0]+4096336452&4294967295,E=I+(P<<6&4294967295|P>>>26),P=M+(I^(E|~k))+R[7]+1126891415&4294967295,M=E+(P<<10&4294967295|P>>>22),P=k+(E^(M|~I))+R[14]+2878612391&4294967295,k=M+(P<<15&4294967295|P>>>17),P=I+(M^(k|~E))+R[5]+4237533241&4294967295,I=k+(P<<21&4294967295|P>>>11),P=E+(k^(I|~M))+R[12]+1700485571&4294967295,E=I+(P<<6&4294967295|P>>>26),P=M+(I^(E|~k))+R[3]+2399980690&4294967295,M=E+(P<<10&4294967295|P>>>22),P=k+(E^(M|~I))+R[10]+4293915773&4294967295,k=M+(P<<15&4294967295|P>>>17),P=I+(M^(k|~E))+R[1]+2240044497&4294967295,I=k+(P<<21&4294967295|P>>>11),P=E+(k^(I|~M))+R[8]+1873313359&4294967295,E=I+(P<<6&4294967295|P>>>26),P=M+(I^(E|~k))+R[15]+4264355552&4294967295,M=E+(P<<10&4294967295|P>>>22),P=k+(E^(M|~I))+R[6]+2734768916&4294967295,k=M+(P<<15&4294967295|P>>>17),P=I+(M^(k|~E))+R[13]+1309151649&4294967295,I=k+(P<<21&4294967295|P>>>11),P=E+(k^(I|~M))+R[4]+4149444226&4294967295,E=I+(P<<6&4294967295|P>>>26),P=M+(I^(E|~k))+R[11]+3174756917&4294967295,M=E+(P<<10&4294967295|P>>>22),P=k+(E^(M|~I))+R[2]+718787259&4294967295,k=M+(P<<15&4294967295|P>>>17),P=I+(M^(k|~E))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+M&4294967295}s.prototype.v=function(S,E){E===void 0&&(E=S.length);const I=E-this.blockSize,R=this.C;let k=this.h,M=0;for(;M<E;){if(k==0)for(;M<=I;)r(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<E;)if(R[k++]=S.charCodeAt(M++),k==this.blockSize){r(this,R),k=0;break}}else for(;M<E;)if(R[k++]=S[M++],k==this.blockSize){r(this,R),k=0;break}}this.h=k,this.o+=E},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;E=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=E&255,E/=256;for(this.v(S),S=Array(16),E=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)S[E++]=this.g[I]>>>R&255;return S};function i(S,E){var I=l;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function a(S,E){this.h=E;const I=[];let R=!0;for(let k=S.length-1;k>=0;k--){const M=S[k]|0;R&&M==E||(I[k]=M,R=!1)}this.g=I}var l={};function c(S){return-128<=S&&S<128?i(S,function(E){return new a([E|0],E<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return w(u(-S));const E=[];let I=1;for(let R=0;S>=I;R++)E[R]=S/I|0,I*=4294967296;return new a(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return w(d(S.substring(1),E));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(E,8));let R=h;for(let M=0;M<S.length;M+=8){var k=Math.min(8,S.length-M);const P=parseInt(S.substring(M,M+k),E);k<8?(k=u(Math.pow(E,k)),R=R.j(k).add(u(P))):(R=R.j(I),R=R.add(u(P)))}return R}var h=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-w(this).m();let S=0,E=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);S+=(R>=0?R:4294967296+R)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(y(this))return"-"+w(this).toString(S);const E=u(Math.pow(S,6));var I=this;let R="";for(;;){const k=N(I,E).g;I=v(I,k.j(E));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=k,x(I))return M+R;for(;M.length<6;)M="0"+M;R=M+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=v(this,S),y(S)?-1:x(S)?0:1};function w(S){const E=S.g.length,I=[];for(let R=0;R<E;R++)I[R]=~S.g[R];return new a(I,~S.h).add(m)}t.abs=function(){return y(this)?w(this):this},t.add=function(S){const E=Math.max(this.g.length,S.g.length),I=[];let R=0;for(let k=0;k<=E;k++){let M=R+(this.i(k)&65535)+(S.i(k)&65535),P=(M>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);R=P>>>16,M&=65535,P&=65535,I[k]=P<<16|M}return new a(I,I[I.length-1]&-2147483648?-1:0)};function v(S,E){return S.add(w(E))}t.j=function(S){if(x(this)||x(S))return h;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(this.l(g)<0&&S.l(g)<0)return u(this.m()*S.m());const E=this.g.length+S.g.length,I=[];for(var R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<S.g.length;k++){const M=this.i(R)>>>16,P=this.i(R)&65535,$=S.i(k)>>>16,H=S.i(k)&65535;I[2*R+2*k]+=P*H,_(I,2*R+2*k),I[2*R+2*k+1]+=M*H,_(I,2*R+2*k+1),I[2*R+2*k+1]+=P*$,_(I,2*R+2*k+1),I[2*R+2*k+2]+=M*$,_(I,2*R+2*k+2)}for(S=0;S<E;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=E;S<2*E;S++)I[S]=0;return new a(I,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function T(S,E){this.g=S,this.h=E}function N(S,E){if(x(E))throw Error("division by zero");if(x(S))return new T(h,h);if(y(S))return E=N(w(S),E),new T(w(E.g),w(E.h));if(y(E))return E=N(S,w(E)),new T(w(E.g),E.h);if(S.g.length>30){if(y(S)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var I=m,R=E;R.l(S)<=0;)I=C(I),R=C(R);var k=j(I,1),M=j(R,1);for(R=j(R,2),I=j(I,2);!x(R);){var P=M.add(R);P.l(S)<=0&&(k=k.add(I),M=P),R=j(R,1),I=j(I,1)}return E=v(S,k.j(E)),new T(k,E)}for(k=h;S.l(E)>=0;){for(I=Math.max(1,Math.floor(S.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),M=u(I),P=M.j(E);y(P)||P.l(S)>0;)I-=R,M=u(I),P=M.j(E);x(M)&&(M=m),k=k.add(M),S=v(S,P)}return new T(k,S)}t.B=function(S){return N(this,S).h},t.and=function(S){const E=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<E;R++)I[R]=this.i(R)&S.i(R);return new a(I,this.h&S.h)},t.or=function(S){const E=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<E;R++)I[R]=this.i(R)|S.i(R);return new a(I,this.h|S.h)},t.xor=function(S){const E=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<E;R++)I[R]=this.i(R)^S.i(R);return new a(I,this.h^S.h)};function C(S){const E=S.g.length+1,I=[];for(let R=0;R<E;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new a(I,S.h)}function j(S,E){const I=E>>5;E%=32;const R=S.g.length-I,k=[];for(let M=0;M<R;M++)k[M]=E>0?S.i(M+I)>>>E|S.i(M+I+1)<<32-E:S.i(M+I);return new a(k,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,E5=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,xi=a}).apply(typeof eR<"u"?eR:typeof self<"u"?self:typeof window<"u"?window:{});var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S5,eh,A5,sg,E1,N5,I5,C5;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof yp=="object"&&yp];for(var b=0;b<f.length;++b){var A=f[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=n(this);function r(f,b){if(b)e:{var A=s;f=f.split(".");for(var D=0;D<f.length-1;D++){var U=f[D];if(!(U in A))break e;A=A[U]}f=f[f.length-1],D=A[f],b=b(D),b!=D&&b!=null&&e(A,f,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(b){var A=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&A.push([D,b[D]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,A){return f.call.apply(f.bind,arguments)}function u(f,b,A){return u=c,u.apply(null,arguments)}function d(f,b){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function h(f,b){function A(){}A.prototype=b.prototype,f.Z=b.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(D,U,z){for(var Z=Array(arguments.length-2),je=2;je<arguments.length;je++)Z[je-2]=arguments[je];return b.prototype[U].apply(D,Z)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){const b=f.length;if(b>0){const A=Array(b);for(let D=0;D<b;D++)A[D]=f[D];return A}return[]}function x(f,b){for(let D=1;D<arguments.length;D++){const U=arguments[D];var A=typeof U;if(A=A!="object"?A:U?Array.isArray(U)?"array":A:"null",A=="array"||A=="object"&&typeof U.length=="number"){A=f.length||0;const z=U.length||0;f.length=A+z;for(let Z=0;Z<z;Z++)f[A+Z]=U[Z]}else f.push(U)}}class y{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(f){a.setTimeout(()=>{throw f},0)}function v(){var f=S;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class _{constructor(){this.h=this.g=null}add(b,A){const D=T.get();D.set(b,A),this.h?this.h.next=D:this.g=D,this.h=D}}var T=new y(()=>new N,f=>f.reset());class N{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let C,j=!1,S=new _,E=()=>{const f=Promise.resolve(void 0);C=()=>{f.then(I)}};function I(){for(var f;f=v();){try{f.h.call(f.g)}catch(A){w(A)}var b=T;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}j=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};a.addEventListener("test",A,b),a.removeEventListener("test",A,b)}catch{}return f}();function P(f){return/^[\s\xa0]*$/.test(f)}function $(f,b){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}h($,k),$.prototype.init=function(f,b){const A=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(A=="mouseover"?b=f.fromElement:A=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),O=0;function q(f,b,A,D,U){this.listener=f,this.proxy=null,this.src=b,this.type=A,this.capture=!!D,this.ha=U,this.key=++O,this.da=this.fa=!1}function B(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,b,A){for(const D in f)b.call(A,f[D],D,f)}function ie(f,b){for(const A in f)b.call(void 0,f[A],A,f)}function ge(f){const b={};for(const A in f)b[A]=f[A];return b}const Be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ye(f,b){let A,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(A in D)f[A]=D[A];for(let z=0;z<Be.length;z++)A=Be[z],Object.prototype.hasOwnProperty.call(D,A)&&(f[A]=D[A])}}function V(f){this.src=f,this.g={},this.h=0}V.prototype.add=function(f,b,A,D,U){const z=f.toString();f=this.g[z],f||(f=this.g[z]=[],this.h++);const Z=_e(f,b,D,U);return Z>-1?(b=f[Z],A||(b.fa=!1)):(b=new q(b,this.src,z,!!D,U),b.fa=A,f.push(b)),b};function Q(f,b){const A=b.type;if(A in f.g){var D=f.g[A],U=Array.prototype.indexOf.call(D,b,void 0),z;(z=U>=0)&&Array.prototype.splice.call(D,U,1),z&&(B(b),f.g[A].length==0&&(delete f.g[A],f.h--))}}function _e(f,b,A,D){for(let U=0;U<f.length;++U){const z=f[U];if(!z.da&&z.listener==b&&z.capture==!!A&&z.ha==D)return U}return-1}var L="closure_lm_"+(Math.random()*1e6|0),ee={};function te(f,b,A,D,U){if(D&&D.once)return Oe(f,b,A,D,U);if(Array.isArray(b)){for(let z=0;z<b.length;z++)te(f,b[z],A,D,U);return null}return A=Lt(A),f&&f[H]?f.J(b,A,l(D)?!!D.capture:!!D,U):le(f,b,A,!1,D,U)}function le(f,b,A,D,U,z){if(!b)throw Error("Invalid event type");const Z=l(U)?!!U.capture:!!U;let je=at(f);if(je||(f[L]=je=new V(f)),A=je.add(b,A,D,Z,z),A.proxy)return A;if(D=Re(),A.proxy=D,D.src=f,D.listener=A,f.addEventListener)M||(U=Z),U===void 0&&(U=!1),f.addEventListener(b.toString(),D,U);else if(f.attachEvent)f.attachEvent(tt(b.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Re(){function f(A){return b.call(f.src,f.listener,A)}const b=Ht;return f}function Oe(f,b,A,D,U){if(Array.isArray(b)){for(let z=0;z<b.length;z++)Oe(f,b[z],A,D,U);return null}return A=Lt(A),f&&f[H]?f.K(b,A,l(D)?!!D.capture:!!D,U):le(f,b,A,!0,D,U)}function se(f,b,A,D,U){if(Array.isArray(b))for(var z=0;z<b.length;z++)se(f,b[z],A,D,U);else D=l(D)?!!D.capture:!!D,A=Lt(A),f&&f[H]?(f=f.i,z=String(b).toString(),z in f.g&&(b=f.g[z],A=_e(b,A,D,U),A>-1&&(B(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete f.g[z],f.h--)))):f&&(f=at(f))&&(b=f.g[b.toString()],f=-1,b&&(f=_e(b,A,D,U)),(A=f>-1?b[f]:null)&&we(A))}function we(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[H])Q(b.i,f);else{var A=f.type,D=f.proxy;b.removeEventListener?b.removeEventListener(A,D,f.capture):b.detachEvent?b.detachEvent(tt(A),D):b.addListener&&b.removeListener&&b.removeListener(D),(A=at(b))?(Q(A,f),A.h==0&&(A.src=null,b[L]=null)):B(f)}}}function tt(f){return f in ee?ee[f]:ee[f]="on"+f}function Ht(f,b){if(f.da)f=!0;else{b=new $(b,this);const A=f.listener,D=f.ha||f.src;f.fa&&we(f),f=A.call(D,b)}return f}function at(f){return f=f[L],f instanceof V?f:null}var un="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lt(f){return typeof f=="function"?f:(f[un]||(f[un]=function(b){return f.handleEvent(b)}),f[un])}function mt(){R.call(this),this.i=new V(this),this.M=this,this.G=null}h(mt,R),mt.prototype[H]=!0,mt.prototype.removeEventListener=function(f,b,A,D){se(this,f,b,A,D)};function nn(f,b){var A,D=f.G;if(D)for(A=[];D;D=D.G)A.push(D);if(f=f.M,D=b.type||b,typeof b=="string")b=new k(b,f);else if(b instanceof k)b.target=b.target||f;else{var U=b;b=new k(D,f),Ye(b,U)}U=!0;let z,Z;if(A)for(Z=A.length-1;Z>=0;Z--)z=b.g=A[Z],U=xr(z,D,!0,b)&&U;if(z=b.g=f,U=xr(z,D,!0,b)&&U,U=xr(z,D,!1,b)&&U,A)for(Z=0;Z<A.length;Z++)z=b.g=A[Z],U=xr(z,D,!1,b)&&U}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const A=f.g[b];for(let D=0;D<A.length;D++)B(A[D]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,A,D){return this.i.add(String(f),b,!1,A,D)},mt.prototype.K=function(f,b,A,D){return this.i.add(String(f),b,!0,A,D)};function xr(f,b,A,D){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let U=!0;for(let z=0;z<b.length;++z){const Z=b[z];if(Z&&!Z.da&&Z.capture==A){const je=Z.listener,sn=Z.ha||Z.src;Z.fa&&Q(f.i,Z),U=je.call(sn,D)!==!1&&U}}return U&&!D.defaultPrevented}function Om(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function fA(f){f.g=Om(()=>{f.g=null,f.i&&(f.i=!1,fA(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class $F extends R{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:fA(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ud(f){R.call(this),this.h=f,this.g={}}h(ud,R);var mA=[];function pA(f){K(f.g,function(b,A){this.g.hasOwnProperty(A)&&we(b)},f),f.g={}}ud.prototype.N=function(){ud.Z.N.call(this),pA(this)},ud.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $v=a.JSON.stringify,qF=a.JSON.parse,HF=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function gA(){}function yA(){}var dd={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qv(){k.call(this,"d")}h(qv,k);function Hv(){k.call(this,"c")}h(Hv,k);var ho={},vA=null;function Vm(){return vA=vA||new mt}ho.Ia="serverreachability";function xA(f){k.call(this,ho.Ia,f)}h(xA,k);function hd(f){const b=Vm();nn(b,new xA(b))}ho.STAT_EVENT="statevent";function bA(f,b){k.call(this,ho.STAT_EVENT,f),this.stat=b}h(bA,k);function Un(f){const b=Vm();nn(b,new bA(b,f))}ho.Ja="timingevent";function wA(f,b){k.call(this,ho.Ja,f),this.size=b}h(wA,k);function fd(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function md(){this.g=!0}md.prototype.ua=function(){this.g=!1};function GF(f,b,A,D,U,z){f.info(function(){if(f.g)if(z){var Z="",je=z.split("&");for(let ot=0;ot<je.length;ot++){var sn=je[ot].split("=");if(sn.length>1){const dn=sn[0];sn=sn[1];const wr=dn.split("_");Z=wr.length>=2&&wr[1]=="type"?Z+(dn+"="+sn+"&"):Z+(dn+"=redacted&")}}}else Z=null;else Z=z;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+b+`
`+A+`
`+Z})}function KF(f,b,A,D,U,z,Z){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+b+`
`+A+`
`+z+" "+Z})}function zl(f,b,A,D){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+YF(f,A)+(D?" "+D:"")})}function WF(f,b){f.info(function(){return"TIMEOUT: "+b})}md.prototype.info=function(){};function YF(f,b){if(!f.g)return b;if(!b)return null;try{const z=JSON.parse(b);if(z){for(f=0;f<z.length;f++)if(Array.isArray(z[f])){var A=z[f];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var U=D[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<D.length;Z++)D[Z]=""}}}}return $v(z)}catch{return b}}var Lm={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_A={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},TA;function Gv(){}h(Gv,gA),Gv.prototype.g=function(){return new XMLHttpRequest},TA=new Gv;function pd(f){return encodeURIComponent(String(f))}function QF(f){var b=1;f=f.split(":");const A=[];for(;b>0&&f.length;)A.push(f.shift()),b--;return f.length&&A.push(f.join(":")),A}function $i(f,b,A,D){this.j=f,this.i=b,this.l=A,this.S=D||1,this.V=new ud(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new EA}function EA(){this.i=null,this.g="",this.h=!1}var SA={},Kv={};function Wv(f,b,A){f.M=1,f.A=Fm(br(b)),f.u=A,f.R=!0,AA(f,null)}function AA(f,b){f.F=Date.now(),Um(f),f.B=br(f.A);var A=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),UA(A.i,"t",D),f.C=0,A=f.j.L,f.h=new EA,f.g=sN(f.j,A?b:null,!f.u),f.P>0&&(f.O=new $F(u(f.Y,f,f.g),f.P)),b=f.V,A=f.g,D=f.ba;var U="readystatechange";Array.isArray(U)||(U&&(mA[0]=U.toString()),U=mA);for(let z=0;z<U.length;z++){const Z=te(A,U[z],D||b.handleEvent,!1,b.h||b);if(!Z)break;b.g[Z.key]=Z}b=f.J?ge(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),hd(),GF(f.i,f.v,f.B,f.l,f.S,f.u)}$i.prototype.ba=function(f){f=f.target;const b=this.O;b&&Gi(f)==3?b.j():this.Y(f)},$i.prototype.Y=function(f){try{if(f==this.g)e:{const je=Gi(this.g),sn=this.g.ya(),ot=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||GA(this.g)))){this.K||je!=4||sn==7||(sn==8||ot<=0?hd(3):hd(2)),Yv(this);var b=this.g.ca();this.X=b;var A=XF(this);if(this.o=b==200,KF(this.i,this.v,this.B,this.l,this.S,je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var D,U=this.g;if((D=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(D)){var z=D;break t}}z=null}if(f=z)zl(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qv(this,f);else{this.o=!1,this.m=3,Un(12),fo(this),gd(this);break e}}if(this.R){f=!0;let dn;for(;!this.K&&this.C<A.length;)if(dn=JF(this,A),dn==Kv){je==4&&(this.m=4,Un(14),f=!1),zl(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==SA){this.m=4,Un(15),zl(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else zl(this.i,this.l,dn,null),Qv(this,dn);if(NA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||A.length!=0||this.h.h||(this.m=1,Un(16),f=!1),this.o=this.o&&f,!f)zl(this.i,this.l,A,"[Invalid Chunked Response]"),fo(this),gd(this);else if(A.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),rx(Z),Z.P=!0,Un(11))}}else zl(this.i,this.l,A,null),Qv(this,A);je==4&&fo(this),this.o&&!this.K&&(je==4?ZA(this.j,this):(this.o=!1,Um(this)))}else h8(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,Un(12)):(this.m=0,Un(13)),fo(this),gd(this)}}}catch{}finally{}};function XF(f){if(!NA(f))return f.g.la();const b=GA(f.g);if(b==="")return"";let A="";const D=b.length,U=Gi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return fo(f),gd(f),"";f.h.i=new a.TextDecoder}for(let z=0;z<D;z++)f.h.h=!0,A+=f.h.i.decode(b[z],{stream:!(U&&z==D-1)});return b.length=0,f.h.g+=A,f.C=0,f.h.g}function NA(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function JF(f,b){var A=f.C,D=b.indexOf(`
`,A);return D==-1?Kv:(A=Number(b.substring(A,D)),isNaN(A)?SA:(D+=1,D+A>b.length?Kv:(b=b.slice(D,D+A),f.C=D+A,b)))}$i.prototype.cancel=function(){this.K=!0,fo(this)};function Um(f){f.T=Date.now()+f.H,IA(f,f.H)}function IA(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=fd(u(f.aa,f),b)}function Yv(f){f.D&&(a.clearTimeout(f.D),f.D=null)}$i.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(WF(this.i,this.B),this.M!=2&&(hd(),Un(17)),fo(this),this.m=2,gd(this)):IA(this,this.T-f)};function gd(f){f.j.I==0||f.K||ZA(f.j,f)}function fo(f){Yv(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,pA(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Qv(f,b){try{var A=f.j;if(A.I!=0&&(A.g==f||Xv(A.h,f))){if(!f.L&&Xv(A.h,f)&&A.I==3){try{var D=A.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)Hm(A),$m(A);else break e;sx(A),Un(18)}}else A.xa=U[1],0<A.xa-A.K&&U[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=fd(u(A.Va,A),6e3));jA(A.h)<=1&&A.ta&&(A.ta=void 0)}else po(A,11)}else if((f.L||A.g==f)&&Hm(A),!P(b))for(U=A.Ba.g.parse(b),b=0;b<U.length;b++){let ot=U[b];const dn=ot[0];if(!(dn<=A.K))if(A.K=dn,ot=ot[1],A.I==2)if(ot[0]=="c"){A.M=ot[1],A.ba=ot[2];const wr=ot[3];wr!=null&&(A.ka=wr,A.j.info("VER="+A.ka));const go=ot[4];go!=null&&(A.za=go,A.j.info("SVER="+A.za));const Ki=ot[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(D=1.5*Ki,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Wi=f.g;if(Wi){const Km=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Km){var z=D.h;z.g||Km.indexOf("spdy")==-1&&Km.indexOf("quic")==-1&&Km.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Jv(z,z.h),z.h=null))}if(D.G){const ix=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;ix&&(D.wa=ix,pt(D.J,D.G,ix))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var Z=f;if(D.na=nN(D,D.L?D.ba:null,D.W),Z.L){PA(D.h,Z);var je=Z,sn=D.O;sn&&(je.H=sn),je.D&&(Yv(je),Um(je)),D.g=Z}else XA(D);A.i.length>0&&qm(A)}else ot[0]!="stop"&&ot[0]!="close"||po(A,7);else A.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?po(A,7):nx(A):ot[0]!="noop"&&A.l&&A.l.qa(ot),A.A=0)}}hd(4)}catch{}}var ZF=class{constructor(f,b){this.g=f,this.map=b}};function CA(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function RA(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function jA(f){return f.h?1:f.g?f.g.size:0}function Xv(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Jv(f,b){f.g?f.g.add(b):f.h=b}function PA(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}CA.prototype.cancel=function(){if(this.i=kA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function kA(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const A of f.g.values())b=b.concat(A.G);return b}return g(f.i)}var DA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e8(f,b){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const D=f[A].indexOf("=");let U,z=null;D>=0?(U=f[A].substring(0,D),z=f[A].substring(D+1)):U=f[A],b(U,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof qi?(this.l=f.l,yd(this,f.j),this.o=f.o,this.g=f.g,vd(this,f.u),this.h=f.h,Zv(this,FA(f.i)),this.m=f.m):f&&(b=String(f).match(DA))?(this.l=!1,yd(this,b[1]||"",!0),this.o=xd(b[2]||""),this.g=xd(b[3]||"",!0),vd(this,b[4]),this.h=xd(b[5]||"",!0),Zv(this,b[6]||"",!0),this.m=xd(b[7]||"")):(this.l=!1,this.i=new wd(null,this.l))}qi.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(bd(b,MA,!0),":");var A=this.g;return(A||b=="file")&&(f.push("//"),(b=this.o)&&f.push(bd(b,MA,!0),"@"),f.push(pd(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(bd(A,A.charAt(0)=="/"?s8:n8,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",bd(A,i8)),f.join("")},qi.prototype.resolve=function(f){const b=br(this);let A=!!f.j;A?yd(b,f.j):A=!!f.o,A?b.o=f.o:A=!!f.g,A?b.g=f.g:A=f.u!=null;var D=f.h;if(A)vd(b,f.u);else if(A=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var U=b.h.lastIndexOf("/");U!=-1&&(D=b.h.slice(0,U+1)+D)}if(U=D,U==".."||U==".")D="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){D=U.lastIndexOf("/",0)==0,U=U.split("/");const z=[];for(let Z=0;Z<U.length;){const je=U[Z++];je=="."?D&&Z==U.length&&z.push(""):je==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),D&&Z==U.length&&z.push("")):(z.push(je),D=!0)}D=z.join("/")}else D=U}return A?b.h=D:A=f.i.toString()!=="",A?Zv(b,FA(f.i)):A=!!f.m,A&&(b.m=f.m),b};function br(f){return new qi(f)}function yd(f,b,A){f.j=A?xd(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function vd(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Zv(f,b,A){b instanceof wd?(f.i=b,a8(f.i,f.l)):(A||(b=bd(b,r8)),f.i=new wd(b,f.l))}function pt(f,b,A){f.i.set(b,A)}function Fm(f){return pt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xd(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bd(f,b,A){return typeof f=="string"?(f=encodeURI(f).replace(b,t8),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function t8(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var MA=/[#\/\?@]/g,n8=/[#\?:]/g,s8=/[#\?]/g,r8=/[#\?@]/g,i8=/#/g;function wd(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function mo(f){f.g||(f.g=new Map,f.h=0,f.i&&e8(f.i,function(b,A){f.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=wd.prototype,t.add=function(f,b){mo(this),this.i=null,f=Bl(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(b),this.h+=1,this};function OA(f,b){mo(f),b=Bl(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function VA(f,b){return mo(f),b=Bl(f,b),f.g.has(b)}t.forEach=function(f,b){mo(this),this.g.forEach(function(A,D){A.forEach(function(U){f.call(b,U,D,this)},this)},this)};function LA(f,b){mo(f);let A=[];if(typeof b=="string")VA(f,b)&&(A=A.concat(f.g.get(Bl(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)A=A.concat(f[b]);return A}t.set=function(f,b){return mo(this),this.i=null,f=Bl(this,f),VA(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=LA(this,f),f.length>0?String(f[0]):b):b};function UA(f,b,A){OA(f,b),A.length>0&&(f.i=null,f.g.set(Bl(f,b),g(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var A=b[D];const U=pd(A);A=LA(this,A);for(let z=0;z<A.length;z++){let Z=U;A[z]!==""&&(Z+="="+pd(A[z])),f.push(Z)}}return this.i=f.join("&")};function FA(f){const b=new wd;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Bl(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function a8(f,b){b&&!f.j&&(mo(f),f.i=null,f.g.forEach(function(A,D){const U=D.toLowerCase();D!=U&&(OA(this,D),UA(this,U,A))},f)),f.j=b}function o8(f,b){const A=new md;if(a.Image){const D=new Image;D.onload=d(Hi,A,"TestLoadImage: loaded",!0,b,D),D.onerror=d(Hi,A,"TestLoadImage: error",!1,b,D),D.onabort=d(Hi,A,"TestLoadImage: abort",!1,b,D),D.ontimeout=d(Hi,A,"TestLoadImage: timeout",!1,b,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else b(!1)}function l8(f,b){const A=new md,D=new AbortController,U=setTimeout(()=>{D.abort(),Hi(A,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:D.signal}).then(z=>{clearTimeout(U),z.ok?Hi(A,"TestPingServer: ok",!0,b):Hi(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(U),Hi(A,"TestPingServer: error",!1,b)})}function Hi(f,b,A,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(A)}catch{}}function c8(){this.g=new HF}function ex(f){this.i=f.Sb||null,this.h=f.ab||!1}h(ex,gA),ex.prototype.g=function(){return new zm(this.i,this.h)};function zm(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(zm,mt),t=zm.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Td(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_d(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Td(this)),this.g&&(this.readyState=3,Td(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zA(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function zA(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?_d(this):Td(this),this.readyState==3&&zA(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,_d(this))},t.Na=function(f){this.g&&(this.response=f,_d(this))},t.ga=function(){this.g&&_d(this)};function _d(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Td(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=b.next();return f.join(`\r
`)};function Td(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(zm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function BA(f){let b="";return K(f,function(A,D){b+=D,b+=":",b+=A,b+=`\r
`}),b}function tx(f,b,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=BA(A),typeof f=="string"?A!=null&&pd(A):pt(f,b,A))}function Pt(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Pt,mt);var u8=/^https?$/i,d8=["POST","PUT"];t=Pt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():TA.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(z){$A(this,z);return}if(f=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)A.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const z of D.keys())A.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(z=>z.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(d8,b,void 0)>=0)||D||U||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of A)this.g.setRequestHeader(z,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(z){$A(this,z)}};function $A(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,qA(f),Bm(f)}function qA(f){f.A||(f.A=!0,nn(f,"complete"),nn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,nn(this,"complete"),nn(this,"abort"),Bm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bm(this,!0)),Pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?HA(this):this.Xa())},t.Xa=function(){HA(this)};function HA(f){if(f.h&&typeof i<"u"){if(f.v&&Gi(f)==4)setTimeout(f.Ca.bind(f),0);else if(nn(f,"readystatechange"),Gi(f)==4){f.h=!1;try{const z=f.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var D;if(D=z===0){let Z=String(f.D).match(DA)[1]||null;!Z&&a.self&&a.self.location&&(Z=a.self.location.protocol.slice(0,-1)),D=!u8.test(Z?Z.toLowerCase():"")}A=D}if(A)nn(f,"complete"),nn(f,"success");else{f.o=6;try{var U=Gi(f)>2?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.ca()+"]",qA(f)}}finally{Bm(f)}}}}function Bm(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,b||nn(f,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),qF(b)}};function GA(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function h8(f){const b={};f=(f.g&&Gi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(P(f[D]))continue;var A=QF(f[D]);const U=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const z=b[U]||[];b[U]=z,z.push(A)}ie(b,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ed(f,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||b}function KA(f){this.za=0,this.i=[],this.j=new md,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ed("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ed("baseRetryDelayMs",5e3,f),this.Za=Ed("retryDelaySeedMs",1e4,f),this.Ta=Ed("forwardChannelMaxRetries",2,f),this.va=Ed("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new CA(f&&f.concurrentRequestLimit),this.Ba=new c8,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=KA.prototype,t.ka=8,t.I=1,t.connect=function(f,b,A,D){Un(0),this.W=f,this.H=b||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=nN(this,null,this.W),qm(this)};function nx(f){if(WA(f),f.I==3){var b=f.V++,A=br(f.J);if(pt(A,"SID",f.M),pt(A,"RID",b),pt(A,"TYPE","terminate"),Sd(f,A),b=new $i(f,f.j,b),b.M=2,b.A=Fm(br(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&a.Image&&(new Image().src=b.A,A=!0),A||(b.g=sN(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Um(b)}tN(f)}function $m(f){f.g&&(rx(f),f.g.cancel(),f.g=null)}function WA(f){$m(f),f.v&&(a.clearTimeout(f.v),f.v=null),Hm(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function qm(f){if(!RA(f.h)&&!f.m){f.m=!0;var b=f.Ea;C||E(),j||(C(),j=!0),S.add(b,f),f.D=0}}function f8(f,b){return jA(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=fd(u(f.Ea,f,b),eN(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const U=new $i(this,this.j,f);let z=this.o;if(this.U&&(z?(z=ge(z),Ye(z,this.U)):z=this.U),this.u!==null||this.R||(U.J=z,z=null),this.S)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=QA(this,U,b),A=br(this.J),pt(A,"RID",f),pt(A,"CVER",22),this.G&&pt(A,"X-HTTP-Session-Id",this.G),Sd(this,A),z&&(this.R?b="headers="+pd(BA(z))+"&"+b:this.u&&tx(A,this.u,z)),Jv(this.h,U),this.Ra&&pt(A,"TYPE","init"),this.S?(pt(A,"$req",b),pt(A,"SID","null"),U.U=!0,Wv(U,A,null)):Wv(U,A,b),this.I=2}}else this.I==3&&(f?YA(this,f):this.i.length==0||RA(this.h)||YA(this))};function YA(f,b){var A;b?A=b.l:A=f.V++;const D=br(f.J);pt(D,"SID",f.M),pt(D,"RID",A),pt(D,"AID",f.K),Sd(f,D),f.u&&f.o&&tx(D,f.u,f.o),A=new $i(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),b&&(f.i=b.G.concat(f.i)),b=QA(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Jv(f.h,A),Wv(A,D,b)}function Sd(f,b){f.H&&K(f.H,function(A,D){pt(b,D,A)}),f.l&&K({},function(A,D){pt(b,D,A)})}function QA(f,b,A){A=Math.min(f.i.length,A);const D=f.l?u(f.l.Ka,f.l,f):null;e:{var U=f.i;let je=-1;for(;;){const sn=["count="+A];je==-1?A>0?(je=U[0].g,sn.push("ofs="+je)):je=0:sn.push("ofs="+je);let ot=!0;for(let dn=0;dn<A;dn++){var z=U[dn].g;const wr=U[dn].map;if(z-=je,z<0)je=Math.max(0,U[dn].g-100),ot=!1;else try{z="req"+z+"_"||"";try{var Z=wr instanceof Map?wr:Object.entries(wr);for(const[go,Ki]of Z){let Wi=Ki;l(Ki)&&(Wi=$v(Ki)),sn.push(z+go+"="+encodeURIComponent(Wi))}}catch(go){throw sn.push(z+"type="+encodeURIComponent("_badmap")),go}}catch{D&&D(wr)}}if(ot){Z=sn.join("&");break e}}Z=void 0}return f=f.i.splice(0,A),b.G=f,Z}function XA(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;C||E(),j||(C(),j=!0),S.add(b,f),f.A=0}}function sx(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=fd(u(f.Da,f),eN(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,JA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=fd(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Un(10),$m(this),JA(this))};function rx(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function JA(f){f.g=new $i(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=br(f.na);pt(b,"RID","rpc"),pt(b,"SID",f.M),pt(b,"AID",f.K),pt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&pt(b,"TO",f.ia),pt(b,"TYPE","xmlhttp"),Sd(f,b),f.u&&f.o&&tx(b,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=Fm(br(b)),A.u=null,A.R=!0,AA(A,f)}t.Va=function(){this.C!=null&&(this.C=null,$m(this),sx(this),Un(19))};function Hm(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ZA(f,b){var A=null;if(f.g==b){Hm(f),rx(f),f.g=null;var D=2}else if(Xv(f.h,b))A=b.G,PA(f.h,b),D=1;else return;if(f.I!=0){if(b.o)if(D==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var U=f.D;D=Vm(),nn(D,new wA(D,A)),qm(f)}else XA(f);else if(U=b.m,U==3||U==0&&b.X>0||!(D==1&&f8(f,b)||D==2&&sx(f)))switch(A&&A.length>0&&(b=f.h,b.i=b.i.concat(A)),U){case 1:po(f,5);break;case 4:po(f,10);break;case 3:po(f,6);break;default:po(f,2)}}}function eN(f,b){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*b}function po(f,b){if(f.j.info("Error code "+b),b==2){var A=u(f.bb,f),D=f.Ua;const U=!D;D=new qi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yd(D,"https"),Fm(D),U?o8(D.toString(),A):l8(D.toString(),A)}else Un(2);f.I=0,f.l&&f.l.pa(b),tN(f),WA(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))};function tN(f){if(f.I=0,f.ja=[],f.l){const b=kA(f.h);(b.length!=0||f.i.length!=0)&&(x(f.ja,b),x(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function nN(f,b,A){var D=A instanceof qi?br(A):new qi(A);if(D.g!="")b&&(D.g=b+"."+D.g),vd(D,D.u);else{var U=a.location;D=U.protocol,b=b?b+"."+U.hostname:U.hostname,U=+U.port;const z=new qi(null);D&&yd(z,D),b&&(z.g=b),U&&vd(z,U),A&&(z.h=A),D=z}return A=f.G,b=f.wa,A&&b&&pt(D,A,b),pt(D,"VER",f.ka),Sd(f,D),D}function sN(f,b,A){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new Pt(new ex({ab:A})):new Pt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rN(){}t=rN.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gm(){}Gm.prototype.g=function(f,b){return new hs(f,b)};function hs(f,b){mt.call(this),this.g=new KA(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!P(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new $l(this)}h(hs,mt),hs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hs.prototype.close=function(){nx(this.g)},hs.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=$v(f),f=A);b.i.push(new ZF(b.Ya++,f)),b.I==3&&qm(b)},hs.prototype.N=function(){this.g.l=null,delete this.j,nx(this.g),delete this.g,hs.Z.N.call(this)};function iN(f){qv.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const A in b){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}h(iN,qv);function aN(){Hv.call(this),this.status=1}h(aN,Hv);function $l(f){this.g=f}h($l,rN),$l.prototype.ra=function(){nn(this.g,"a")},$l.prototype.qa=function(f){nn(this.g,new iN(f))},$l.prototype.pa=function(f){nn(this.g,new aN)},$l.prototype.oa=function(){nn(this.g,"b")},Gm.prototype.createWebChannel=Gm.prototype.g,hs.prototype.send=hs.prototype.o,hs.prototype.open=hs.prototype.m,hs.prototype.close=hs.prototype.close,C5=function(){return new Gm},I5=function(){return Vm()},N5=ho,E1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lm.NO_ERROR=0,Lm.TIMEOUT=8,Lm.HTTP_ERROR=6,sg=Lm,_A.COMPLETE="complete",A5=_A,yA.EventType=dd,dd.OPEN="a",dd.CLOSE="b",dd.ERROR="c",dd.MESSAGE="d",mt.prototype.listen=mt.prototype.J,eh=yA,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,S5=Pt}).apply(typeof yp<"u"?yp:typeof self<"u"?self:typeof window<"u"?window:{});const tR="@firebase/firestore",nR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new dm("@firebase/firestore");function ac(){return ol.logLevel}function X(t,...e){if(ol.logLevel<=Pe.DEBUG){const n=e.map(RE);ol.debug(`Firestore (${td}): ${t}`,...n)}}function $n(t,...e){if(ol.logLevel<=Pe.ERROR){const n=e.map(RE);ol.error(`Firestore (${td}): ${t}`,...n)}}function xu(t,...e){if(ol.logLevel<=Pe.WARN){const n=e.map(RE);ol.warn(`Firestore (${td}): ${t}`,...n)}}function RE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,R5(t,s,n)}function R5(t,e,n){let s=`FIRESTORE (${td}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $n(s),new Error(s)}function fe(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||R5(e,r,s)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let J=class extends Ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ite=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ate=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}};class ote{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(fe(typeof s.accessToken=="string",31837,{l:s}),new ite(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}let lte=class{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},cte=class{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lte(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sR=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class ute{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,is(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const s=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=dte(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Te(t,e){return t<e?-1:t>e?1:0}function S1(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return gb(r)===gb(i)?Te(r,i):gb(r)?1:-1}return Te(t.length,e.length)}const hte=55296,fte=57343;function gb(t){const e=t.charCodeAt(0);return e>=hte&&e<=fte}function bu(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}function j5(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="__name__";let P5=class sa{constructor(e,n,s){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=sa.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Te(e.length,n.length)}static compareSegments(e,n){const s=sa.isNumericId(e),r=sa.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?sa.extractNumericId(e).compare(sa.extractNumericId(n)):S1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}},lt=class rg extends P5{construct(e,n,s){return new rg(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new J(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new rg(n)}static emptyPath(){return new rg([])}};const mte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let An=class oc extends P5{construct(e,n,s){return new oc(e,n,s)}static isValidIdentifier(e){return mte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rR}static keyField(){return new oc([rR])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new J(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new J(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new J(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oc(n)}static emptyPath(){return new oc([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ae=class th{constructor(e){this.path=e}static fromPath(e){return new th(lt.fromString(e))}static fromName(e){return new th(lt.fromString(e).popFirst(5))}static empty(){return new th(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new th(new lt(e.slice()))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e,n){if(!n)throw new J(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pte(t,e,n,s){if(e===!0&&s===!0)throw new J(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iR(t){if(!ae.isDocumentKey(t))throw new J(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aR(t){if(ae.isDocumentKey(t))throw new J(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function D5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ky(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ky(t);throw new J(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gm(t,e){if(!D5(t))throw new J(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new J(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=-62135596800,lR=1e6;let Rt=class No{static now(){return No.fromMillis(Date.now())}static fromDate(e){return No.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*lR);return new No(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oR)throw new J(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lR}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:No._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gm(e,No._jsonSchema))return new No(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:tn("string",Rt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ve=class ig{static fromTimestamp(e){return new ig(e)}static min(){return new ig(new Rt(0,0))}static max(){return new ig(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=-1;class T0{constructor(e,n,s,r){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=r}}function A1(t){return t.fields.find(e=>e.kind===2)}function Io(t){return t.fields.filter(e=>e.kind!==2)}T0.UNKNOWN_ID=-1;class ag{constructor(e,n){this.fieldPath=e,this.kind=n}}class Tf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Tf(0,Ds.min())}}function gte(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Ds(r,ae.empty(),e)}function M5(t){return new Ds(t.readTime,t.key,_f)}class Ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ds(ve.min(),ae.empty(),_f)}static max(){return new Ds(ve.max(),ae.empty(),_f)}}function PE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==O5)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,s)=>{n(e)})}static reject(e){return new F((n,s)=>{s(e)})}static waitFor(e){return new F((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=F.resolve(!1);for(const s of e)n=n.next(r=>r?F.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new F((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(e,n){return new F((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="SimpleDb";class Wy{static open(e,n,s,r){try{return new Wy(n,e.transaction(r,s))}catch(i){throw new Rh(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Vr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Rh(e,n.error)):this.S.resolve()},this.transaction.onerror=s=>{const r=kE(s.target.error);this.S.reject(new Rh(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(X(ms,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new vte(n)}}class Oa{static delete(e){return X(ms,"Removing database:",e),jo(N4().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!By())return!1;if(Oa.F())return!0;const e=ln(),n=Oa.M(e),s=0<n&&n<10,r=L5(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,n,s){this.name=e,this.version=n,this.N=s,this.B=null,Oa.M(ln())===12.2&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(X(ms,"Opening database:",this.name),this.db=await new Promise((n,s)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=i=>{const a=i.target.result;n(a)},r.onblocked=()=>{s(new Rh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=i=>{const a=i.target.error;a.name==="VersionError"?s(new J(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?s(new J(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):s(new Rh(e,a))},r.onupgradeneeded=i=>{X(ms,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,r.transaction,i.oldVersion,this.version).next(()=>{X(ms,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,s,r){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=Wy.open(this.db,e,i?"readonly":"readwrite",s),c=r(l).next(u=>(l.C(),u)).catch(u=>(l.abort(u),F.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(X(ms,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function L5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class yte{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return jo(this.U.delete())}}class Rh extends J{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function co(t){return t.name==="IndexedDbTransactionError"}class vte{constructor(e){this.store=e}put(e,n){let s;return n!==void 0?(X(ms,"PUT",this.store.name,e,n),s=this.store.put(n,e)):(X(ms,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),jo(s)}add(e){return X(ms,"ADD",this.store.name,e,e),jo(this.store.add(e))}get(e){return jo(this.store.get(e)).next(n=>(n===void 0&&(n=null),X(ms,"GET",this.store.name,e,n),n))}delete(e){return X(ms,"DELETE",this.store.name,e),jo(this.store.delete(e))}count(){return X(ms,"COUNT",this.store.name),jo(this.store.count())}J(e,n){const s=this.options(e,n),r=s.index?this.store.index(s.index):this.store;if(typeof r.getAll=="function"){const i=r.getAll(s.range);return new F((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(s),a=[];return this.H(i,(l,c)=>{a.push(c)}).next(()=>a)}}Y(e,n){const s=this.store.getAll(e,n===null?void 0:n);return new F((r,i)=>{s.onerror=a=>{i(a.target.error)},s.onsuccess=a=>{r(a.target.result)}})}Z(e,n){X(ms,"DELETE ALL",this.store.name);const s=this.options(e,n);s.X=!1;const r=this.cursor(s);return this.H(r,(i,a,l)=>l.delete())}ee(e,n){let s;n?s=e:(s={},n=e);const r=this.cursor(s);return this.H(r,n)}te(e){const n=this.cursor({});return new F((s,r)=>{n.onerror=i=>{const a=kE(i.target.error);r(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():s()}):s()}})}H(e,n){const s=[];return new F((r,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void r();const c=new yte(l),u=n(l.primaryKey,l.value,c);if(u instanceof F){const d=u.catch(h=>(c.done(),F.reject(h)));s.push(d)}c.isDone?r():c.G===null?l.continue():l.continue(c.G)}}).next(()=>F.waitFor(s))}options(e,n){let s;return e!==void 0&&(typeof e=="string"?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function jo(t){return new F((e,n)=>{t.onsuccess=s=>{const r=s.target.result;e(r)},t.onerror=s=>{const r=kE(s.target.error);n(r)}})}let cR=!1;function kE(t){const e=Oa.M(ln());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const s=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cR||(cR=!0,setTimeout(()=>{throw s},0)),s}}return t}const jh="IndexBackfiller";class xte{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){X(jh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();X(jh,`Documents written: ${n}`)}catch(n){co(n)?X(jh,"Ignoring IndexedDB error during index backfill: ",n):await kl(n)}await this.re(6e4)})}}class bte{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const s=new Set;let r=n,i=!0;return F.doWhile(()=>i===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!s.has(a))return X(jh,`Processing collection: ${a}`),this.oe(e,a,r).next(l=>{r-=l,s.add(a)});i=!1})).next(()=>n-r)}oe(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,s).next(i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this._e(r,i)).next(l=>(X(jh,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>a.size)}))}_e(e,n){let s=e;return n.changes.forEach((r,i)=>{const a=M5(i);PE(a,s)>0&&(s=a)}),new Ds(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ys.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=-1;function Yy(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function wte(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="";function Ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uR(e)),e=_te(t.get(n),e);return uR(e)}function _te(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case E0:n+="";break;default:n+=i}}return n}function uR(t){return t+E0+""}function Nr(t){const e=t.length;if(fe(e>=2,64408,{path:t}),e===2)return fe(t.charAt(0)===E0&&t.charAt(1)==="",56145,{path:t}),lt.emptyPath();const n=e-2,s=[];let r="";for(let i=0;i<e;){const a=t.indexOf(E0,i);switch((a<0||a>n)&&oe(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(i,a);let c;r.length===0?c=l:(r+=l,c=r,r=""),s.push(c);break;case"":r+=t.substring(i,a),r+="\0";break;case"":r+=t.substring(i,a+1);break;default:oe(61167,{path:t})}i=a+2}return new lt(s)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="remoteDocuments",ym="owner",Kl="owner",Sf="mutationQueues",Tte="userId",lr="mutations",dR="batchId",Oo="userMutationsIndex",hR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){return[t,Ln(e)]}function U5(t,e,n){return[t,Ln(e),n]}const Ete={},wu="documentMutations",S0="remoteDocumentsV14",Ste=["prefixPath","collectionGroup","readTime","documentId"],lg="documentKeyIndex",Ate=["prefixPath","collectionGroup","documentId"],F5="collectionGroupIndex",Nte=["collectionGroup","readTime","prefixPath","documentId"],Af="remoteDocumentGlobal",N1="remoteDocumentGlobalKey",_u="targets",z5="queryTargetsIndex",Ite=["canonicalId","targetId"],Tu="targetDocuments",Cte=["targetId","path"],DE="documentTargetsIndex",Rte=["path","targetId"],A0="targetGlobalKey",Wo="targetGlobal",Nf="collectionParents",jte=["collectionId","parent"],Eu="clientMetadata",Pte="clientId",Qy="bundles",kte="bundleId",Xy="namedQueries",Dte="name",ME="indexConfiguration",Mte="indexId",I1="collectionGroupIndex",Ote="collectionGroup",Ph="indexState",Vte=["indexId","uid"],B5="sequenceNumberIndex",Lte=["uid","sequenceNumber"],kh="indexEntries",Ute=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$5="documentKeyIndex",Fte=["indexId","uid","orderedDocumentKey"],Jy="documentOverlays",zte=["userId","collectionPath","documentId"],C1="collectionPathOverlayIndex",Bte=["userId","collectionPath","largestBatchId"],q5="collectionGroupOverlayIndex",$te=["userId","collectionGroup","largestBatchId"],OE="globals",qte="name",H5=[Sf,lr,wu,Co,_u,ym,Wo,Tu,Eu,Af,Nf,Qy,Xy],Hte=[...H5,Jy],G5=[Sf,lr,wu,S0,_u,ym,Wo,Tu,Eu,Af,Nf,Qy,Xy,Jy],K5=G5,VE=[...K5,ME,Ph,kh],Gte=VE,W5=[...VE,OE],Kte=W5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends V5{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function cn(t,e){const n=Ee(t);return Oa.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class j1{constructor(e,n){this.comparator=e,this.root=n||Va.EMPTY}insert(e,n){return new j1(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Va.BLACK,null,null))}remove(e){return new j1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Va.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vp(this.root,e,this.comparator,!0)}},vp=class{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Va=class si{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??si.RED,this.left=r??si.EMPTY,this.right=i??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new si(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return si.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};Va.EMPTY=null,Va.RED=!0,Va.BLACK=!1;Va.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Va(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ft=class P1{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mR(this.data.getIterator())}getIteratorFrom(e){return new mR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof P1)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new P1(this.comparator);return n.data=e,n}},mR=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Wl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new as([])}unionWith(e){let n=new ft(An.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new as(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q5=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cn=class k1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Q5("Invalid base64 string: "+i):i}}(e);return new k1(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new k1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Cn.EMPTY_BYTE_STRING=new Cn("");const Wte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=Wte.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="server_timestamp",J5="__type__",Z5="__previous_value__",e6="__local_write_time__";function LE(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[J5])==null?void 0:s.stringValue)===X5}function Zy(t){const e=t.mapValue.fields[Z5];return LE(e)?Zy(e):e}function If(t){const e=Ri(t.mapValue.fields[e6].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yte=class{constructor(e,n,s,r,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}};const N0="(default)";let ev=class D1{constructor(e,n){this.projectId=e,this.database=n||N0}static empty(){return new D1("","")}get isDefaultDatabase(){return this.database===N0}isEqual(e){return e instanceof D1&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__type__",t6="__max__",Ta={mapValue:{fields:{__type__:{stringValue:t6}}}},FE="__vector__",Su="value",cg={nullValue:"NULL_VALUE"};function Wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LE(t)?4:n6(t)?9007199254740991:tv(t)?10:11:oe(28295,{value:t})}function zr(t,e){if(t===e)return!0;const n=Wa(t);if(n!==Wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return If(t).isEqual(If(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ri(r.timestampValue),l=Ri(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ji(r.bytesValue).isEqual(ji(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return At(r.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return At(r.integerValue)===At(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=At(r.doubleValue),l=At(i.doubleValue);return a===l?Ef(a)===Ef(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return bu(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(fR(a)!==fR(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!zr(a[c],l[c])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Cf(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=Wa(t),s=Wa(e);if(n!==s)return Te(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=At(i.integerValue||i.doubleValue),c=At(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return pR(t.timestampValue,e.timestampValue);case 4:return pR(If(t),If(e));case 5:return S1(t.stringValue,e.stringValue);case 6:return function(i,a){const l=ji(i),c=ji(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Te(l[u],c[u]);if(d!==0)return d}return Te(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Te(At(i.latitude),At(a.latitude));return l!==0?l:Te(At(i.longitude),At(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gR(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,g,x,y;const l=i.fields||{},c=a.fields||{},u=(m=l[Su])==null?void 0:m.arrayValue,d=(g=c[Su])==null?void 0:g.arrayValue,h=Te(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:gR(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ta.mapValue&&a===Ta.mapValue)return 0;if(i===Ta.mapValue)return 1;if(a===Ta.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=S1(c[h],d[h]);if(m!==0)return m;const g=Ya(l[c[h]],u[d[h]]);if(g!==0)return g}return Te(c.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function pR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Ri(t),s=Ri(e),r=Te(n.seconds,s.seconds);return r!==0?r:Te(n.nanos,s.nanos)}function gR(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Ya(n[r],s[r]);if(i)return i}return Te(n.length,s.length)}function Au(t){return M1(t)}function M1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ri(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=M1(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${M1(n.fields[a])}`;return r+"}"}(t.mapValue):oe(61005,{value:t})}function ug(t){switch(Wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zy(t);return e?16+ug(e):16;case 5:return 2*t.stringValue.length;case 6:return ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+ug(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return uo(s.fields,(i,a)=>{r+=i.length+ug(a)}),r}(t.mapValue);default:throw oe(13486,{value:t})}}function Rf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O1(t){return!!t&&"integerValue"in t}function jf(t){return!!t&&"arrayValue"in t}function yR(t){return!!t&&"nullValue"in t}function vR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dg(t){return!!t&&"mapValue"in t}function tv(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UE])==null?void 0:s.stringValue)===FE}function Dh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Dh(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dh(t.arrayValue.values[n]);return e}return{...t}}function n6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t6}const s6={mapValue:{fields:{[UE]:{stringValue:FE},[Su]:{arrayValue:{}}}}};function Qte(t){return"nullValue"in t?cg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Rf(ev.empty(),ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?tv(t)?s6:{mapValue:{}}:oe(35942,{value:t})}function Xte(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Rf(ev.empty(),ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?s6:"mapValue"in t?tv(t)?{mapValue:{}}:Ta:oe(61959,{value:t})}function xR(t,e){const n=Ya(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bR(t,e){const n=Ya(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs=class V1{constructor(e){this.value=e}static empty(){return new V1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(n)}setAll(e){let n=An.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Dh(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];dg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){uo(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new V1(Dh(this.value))}};function r6(t){const e=[];return uo(t.fields,(n,s)=>{const r=new An([n]);if(dg(s)){const i=r6(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new as(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kn=class Ro{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ro(e,0,ve.min(),ve.min(),ve.min(),vs.empty(),0)}static newFoundDocument(e,n,s,r){return new Ro(e,1,n,ve.min(),s,r,0)}static newNoDocument(e,n){return new Ro(e,2,n,ve.min(),ve.min(),vs.empty(),0)}static newUnknownDocument(e,n){return new Ro(e,3,n,ve.min(),ve.min(),vs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=class{constructor(e,n){this.position=e,this.inclusive=n}};function wR(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=ae.comparator(ae.fromName(a.referenceValue),n.key):s=Ya(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function _R(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I0=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Jte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i6=class{},He=class a6 extends i6{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Zte(e,n,s):n==="array-contains"?new nne(e,s):n==="in"?new f6(e,s):n==="not-in"?new sne(e,s):n==="array-contains-any"?new rne(e,s):new a6(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ene(e,s):new tne(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ct=class o6 extends i6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new o6(e,n)}matches(e){return Iu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Iu(t){return t.op==="and"}function L1(t){return t.op==="or"}function zE(t){return l6(t)&&Iu(t)}function l6(t){for(const e of t.filters)if(e instanceof ct)return!1;return!0}function U1(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Au(t.value);if(zE(t))return t.filters.map(e=>U1(e)).join(",");{const e=t.filters.map(n=>U1(n)).join(",");return`${t.op}(${e})`}}function c6(t,e){return t instanceof He?function(s,r){return r instanceof He&&s.op===r.op&&s.field.isEqual(r.field)&&zr(s.value,r.value)}(t,e):t instanceof ct?function(s,r){return r instanceof ct&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&c6(a,r.filters[l]),!0):!1}(t,e):void oe(19439)}function u6(t,e){const n=t.filters.concat(e);return ct.create(n,t.op)}function d6(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Au(n.value)}`}(t):t instanceof ct?function(n){return n.op.toString()+" {"+n.getFilters().map(d6).join(" ,")+"}"}(t):"Filter"}let Zte=class extends He{constructor(e,n,s){super(e,n,s),this.key=ae.fromName(s.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}},ene=class extends He{constructor(e,n){super(e,"in",n),this.keys=h6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},tne=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=h6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function h6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ae.fromName(s.referenceValue))}let nne=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jf(n)&&Cf(n.arrayValue,this.value)}},f6=class extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cf(this.value.arrayValue,n)}},sne=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cf(this.value.arrayValue,n)}},rne=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Cf(this.value.arrayValue,s))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ine=class{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}};function F1(t,e=null,n=[],s=[],r=null,i=null,a=null){return new ine(t,e,n,s,r,i,a)}function ll(t){const e=Ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>U1(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Au(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Au(s)).join(",")),e.Te=n}return e.Te}function vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_R(t.startAt,e.startAt)&&_R(t.endAt,e.endAt)}function C0(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function R0(t,e){return t.filters.filter(n=>n instanceof He&&n.field.isEqual(e))}function TR(t,e,n){let s=cg,r=!0;for(const i of R0(t,e)){let a=cg,l=!0;switch(i.op){case"<":case"<=":a=Qte(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,l=!1;break;case"!=":case"not-in":a=cg}xR({value:s,inclusive:r},{value:a,inclusive:l})<0&&(s=a,r=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];xR({value:s,inclusive:r},{value:a,inclusive:n.inclusive})<0&&(s=a,r=n.inclusive);break}}return{value:s,inclusive:r}}function ER(t,e,n){let s=Ta,r=!0;for(const i of R0(t,e)){let a=Ta,l=!0;switch(i.op){case">=":case">":a=Xte(i.value),l=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,l=!1;break;case"!=":case"not-in":a=Ta}bR({value:s,inclusive:r},{value:a,inclusive:l})>0&&(s=a,r=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];bR({value:s,inclusive:r},{value:a,inclusive:n.inclusive})>0&&(s=a,r=n.inclusive);break}}return{value:s,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm=class{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function ane(t,e,n,s,r,i,a,l){return new xm(t,e,n,s,r,i,a,l)}function bm(t){return new xm(t)}function SR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m6(t){return t.collectionGroup!==null}function Mh(t){const e=Ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ft(An.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new I0(i,s))}),n.has(An.keyField().canonicalString())||e.Ie.push(new I0(An.keyField(),s))}return e.Ie}function Js(t){const e=Ee(t);return e.Ee||(e.Ee=one(e,Mh(t))),e.Ee}function one(t,e){if(t.limitType==="F")return F1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new I0(r.field,i)});const n=t.endAt?new Nu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nu(t.startAt.position,t.startAt.inclusive):null;return F1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function z1(t,e){const n=t.filters.concat([e]);return new xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function B1(t,e,n){return new xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nv(t,e){return vm(Js(t),Js(e))&&t.limitType===e.limitType}function p6(t){return`${ll(Js(t))}|lt:${t.limitType}`}function lc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>d6(r)).join(", ")}]`),Yy(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Au(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Au(r)).join(",")),`Target(${s})`}(Js(t))}; limitType=${t.limitType})`}function wm(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ae.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Mh(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const u=wR(a,l,c);return a.inclusive?u<=0:u<0}(s.startAt,Mh(s),r)||s.endAt&&!function(a,l,c){const u=wR(a,l,c);return a.inclusive?u>=0:u>0}(s.endAt,Mh(s),r))}(t,e)}function lne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g6(t){return(e,n)=>{let s=!1;for(const r of Mh(t)){const i=cne(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function cne(t,e,n){const s=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Ya(c,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Y5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une=new $t(ae.comparator);function ws(){return une}const y6=new $t(ae.comparator);function nh(...t){let e=y6;for(const n of t)e=e.insert(n.key,n);return e}function v6(t){let e=y6;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ir(){return Oh()}function x6(){return Oh()}function Oh(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const dne=new $t(ae.comparator),hne=new ft(ae.comparator);function De(...t){let e=hne;for(const n of t)e=e.add(n);return e}const fne=new ft(Te);function mne(){return fne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function b6(t){return{integerValue:""+t}}function w6(t,e){return wte(e)?b6(e):BE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this._=void 0}}function pne(t,e,n){return t instanceof Cu?function(r,i){const a={fields:{[J5]:{stringValue:X5},[e6]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&LE(i)&&(i=Zy(i)),i&&(a.fields[Z5]=i),{mapValue:a}}(n,e):t instanceof Ru?T6(t,e):t instanceof ju?E6(t,e):function(r,i){const a=_6(r,i),l=AR(a)+AR(r.Ae);return O1(a)&&O1(r.Ae)?b6(l):BE(r.serializer,l)}(t,e)}function gne(t,e,n){return t instanceof Ru?T6(t,e):t instanceof ju?E6(t,e):n}function _6(t,e){return t instanceof Pu?function(s){return O1(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Cu extends sv{}class Ru extends sv{constructor(e){super(),this.elements=e}}function T6(t,e){const n=S6(e);for(const s of t.elements)n.some(r=>zr(r,s))||n.push(s);return{arrayValue:{values:n}}}class ju extends sv{constructor(e){super(),this.elements=e}}function E6(t,e){let n=S6(e);for(const s of t.elements)n=n.filter(r=>!zr(r,s));return{arrayValue:{values:n}}}class Pu extends sv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AR(t){return At(t.integerValue||t.doubleValue)}function S6(t){return jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.field=e,this.transform=n}}function yne(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Ru&&r instanceof Ru||s instanceof ju&&r instanceof ju?bu(s.elements,r.elements,zr):s instanceof Pu&&r instanceof Pu?zr(s.Ae,r.Ae):s instanceof Cu&&r instanceof Cu}(t.transform,e.transform)}class vne{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rv{}function A6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iv(t.key,On.none()):new nd(t.key,t.data,On.none());{const n=t.data,s=vs.empty();let r=new ft(An.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new Bi(t.key,s,new as(r.toArray()),On.none())}}function xne(t,e,n){t instanceof nd?function(r,i,a){const l=r.value.clone(),c=IR(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(r,i,a){if(!hg(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=IR(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(N6(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n,s){return t instanceof nd?function(i,a,l,c){if(!hg(i.precondition,a))return l;const u=i.value.clone(),d=CR(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof Bi?function(i,a,l,c){if(!hg(i.precondition,a))return l;const u=CR(i.fieldTransforms,c,a),d=a.data;return d.setAll(N6(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,a,l){return hg(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function bne(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=_6(s.transform,r||null);i!=null&&(n===null&&(n=vs.empty()),n.set(s.field,i))}return n||null}function NR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&bu(s,r,(i,a)=>yne(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nd extends rv{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bi extends rv{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function N6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function IR(t,e,n){const s=new Map;fe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,gne(a,l,n[r]))}return s}function CR(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,pne(i,a,e))}return s}class iv extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I6 extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&xne(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=x6();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=A6(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(n,s)=>NR(n,s))&&bu(this.baseMutations,e.baseMutations,(n,s)=>NR(n,s))}}class HE{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return dne}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new HE(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,$e;function _ne(t){switch(t){case G.OK:return oe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function C6(t){if(t===void 0)return $n("GRPC error has no .code"),G.UNKNOWN;switch(t){case Gt.OK:return G.OK;case Gt.CANCELLED:return G.CANCELLED;case Gt.UNKNOWN:return G.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return G.INTERNAL;case Gt.UNAVAILABLE:return G.UNAVAILABLE;case Gt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Gt.NOT_FOUND:return G.NOT_FOUND;case Gt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Gt.ABORTED:return G.ABORTED;case Gt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Gt.DATA_LOSS:return G.DATA_LOSS;default:return oe(39323,{code:t})}}($e=Gt||(Gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=new xi([4294967295,4294967295],0);function RR(t){const e=Tne().encode(t),n=new E5;return n.update(e),new Uint8Array(n.digest())}function jR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xi([n,s],0),new xi([r,i],0)]}class KE{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new sh(`Invalid padding: ${n}`);if(s<0)throw new sh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new sh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new sh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xi.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(xi.fromNumber(s)));return r.compare(Ene)===1&&(r=new xi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RR(e),[s,r]=jR(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new KE(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=RR(e),[s,r]=jR(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,_m.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new av(ve.min(),r,new $t(Te),ws(),De())}}class _m{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _m(s,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class R6{constructor(e,n){this.targetId=e,this.Ce=n}}class j6{constructor(e,n,s=Cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class PR{constructor(){this.ve=0,this.Fe=kR(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),s=De();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:oe(38017,{changeType:i})}}),new _m(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=kR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sne{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=xp(),this.He=xp(),this.Ye=new $t(Te)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(C0(i))if(s===0){const a=new ae(i.path);this.et(n,a,Kn.newNoDocument(a,ve.min()))}else fe(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=ji(s).toUint8Array()}catch(c){if(c instanceof Q5)return xu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new KE(a,r,i)}catch(c){return xu(c instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&C0(l.target)){const c=new ae(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Kn.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=De();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new av(e,n,this.Ye,this.je,s);return this.je=ws(),this.Je=xp(),this.He=xp(),this.Ye=new $t(Te),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(Te),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(Te),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PR),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xp(){return new $t(ae.comparator)}function kR(){return new $t(ae.comparator)}const Ane=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Nne=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Ine=(()=>({and:"AND",or:"OR"}))();let Cne=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function $1(t,e){return t.useProto3Json||Yy(e)?e:{value:e}}function ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rne(t,e){return ku(t,e.toTimestamp())}function Wn(t){return fe(!!t,49232),ve.fromTimestamp(function(n){const s=Ri(n);return new Rt(s.seconds,s.nanos)}(t))}function WE(t,e){return q1(t,e).canonicalString()}function q1(t,e){const n=function(r){return new lt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k6(t){const e=lt.fromString(t);return fe(B6(e),10190,{key:e.toString()}),e}function j0(t,e){return WE(t.databaseId,e.path)}function Yo(t,e){const n=k6(e);if(n.get(1)!==t.databaseId.projectId)throw new J(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(O6(n))}function D6(t,e){return WE(t.databaseId,e)}function M6(t){const e=k6(t);return e.length===4?lt.emptyPath():O6(e)}function H1(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O6(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DR(t,e,n){return{name:j0(t,e),fields:n.value.mapValue.fields}}function jne(t,e,n){const s=Yo(t,e.name),r=Wn(e.updateTime),i=e.createTime?Wn(e.createTime):ve.min(),a=new vs({mapValue:{fields:e.fields}}),l=Kn.newFoundDocument(s,r,i,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Pne(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(fe(d===void 0||typeof d=="string",58123),Cn.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Cn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?G.UNKNOWN:C6(u.code);return new J(d,u.message||"")}(a);n=new j6(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Yo(t,s.document.name),i=Wn(s.document.updateTime),a=s.document.createTime?Wn(s.document.createTime):ve.min(),l=new vs({mapValue:{fields:s.document.fields}}),c=Kn.newFoundDocument(r,i,a,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new fg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Yo(t,s.document),i=s.readTime?Wn(s.readTime):ve.min(),a=Kn.newNoDocument(r,i),l=s.removedTargetIds||[];n=new fg([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Yo(t,s.document),i=s.removedTargetIds||[];n=new fg([],i,r,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new wne(r,i),l=s.targetId;n=new R6(l,a)}}return n}function P0(t,e){let n;if(e instanceof nd)n={update:DR(t,e.key,e.value)};else if(e instanceof iv)n={delete:j0(t,e.key)};else if(e instanceof Bi)n={update:DR(t,e.key,e.data),updateMask:Lne(e.fieldMask)};else{if(!(e instanceof I6))return oe(16599,{Vt:e.type});n={verify:j0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof Cu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ru)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ju)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pu)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw oe(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Rne(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function G1(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?On.updateTime(Wn(i.updateTime)):i.exists!==void 0?On.exists(i.exists):On.none()}(e.currentDocument):On.none(),s=e.updateTransforms?e.updateTransforms.map(r=>function(a,l){let c=null;if("setToServerValue"in l)fe(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Cu;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new Ru(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new ju(d)}else"increment"in l?c=new Pu(a,l.increment):oe(16584,{proto:l});const u=An.fromServerFormat(l.fieldPath);return new $E(u,c)}(t,r)):[];if(e.update){e.update.name;const r=Yo(t,e.update.name),i=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const u=c.fieldPaths||[];return new as(u.map(d=>An.fromServerFormat(d)))}(e.updateMask);return new Bi(r,i,a,n,s)}return new nd(r,i,n,s)}if(e.delete){const r=Yo(t,e.delete);return new iv(r,n)}if(e.verify){const r=Yo(t,e.verify);return new I6(r,n)}return oe(1463,{proto:e})}function kne(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?Wn(r.updateTime):Wn(i);return a.isEqual(ve.min())&&(a=Wn(i)),new vne(a,r.transformResults||[])}(n,e))):[]}function V6(t,e){return{documents:[D6(t,e.path)]}}function L6(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=D6(t,r);const i=function(u){if(u.length!==0)return z6(ct.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:cc(m.field),direction:Mne(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=$1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:r}}function U6(t){let e=M6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){fe(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=F6(h);return m instanceof ct&&zE(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(m=>function(x){return new I0(uc(x.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,Yy(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,g=h.values||[];return new Nu(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,g=h.values||[];return new Nu(g,m)}(n.endAt)),ane(e,r,a,i,l,"F",c,u)}function Dne(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uc(n.unaryFilter.field);return He.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=uc(n.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uc(n.unaryFilter.field);return He.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=uc(n.unaryFilter.field);return He.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return He.create(uc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ct.create(n.compositeFilter.filters.map(s=>F6(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function Mne(t){return Ane[t]}function One(t){return Nne[t]}function Vne(t){return Ine[t]}function cc(t){return{fieldPath:t.canonicalString()}}function uc(t){return An.fromServerFormat(t.fieldPath)}function z6(t){return t instanceof He?function(n){if(n.op==="=="){if(vR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(yR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(yR(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:One(n.op),value:n.value}}}(t):t instanceof ct?function(n){const s=n.getFilters().map(r=>z6(r));return s.length===1?s[0]:{compositeFilter:{op:Vne(n.op),filters:s}}}(t):oe(54877,{filter:t})}function Lne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,s,r,i=ve.min(),a=ve.min(),l=Cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.yt=e}}function Une(t,e){let n;if(e.document)n=jne(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=ae.fromSegments(e.noDocument.path),r=ul(e.noDocument.readTime);n=Kn.newNoDocument(s,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return oe(56709);{const s=ae.fromSegments(e.unknownDocument.path),r=ul(e.unknownDocument.version);n=Kn.newUnknownDocument(s,r)}}return e.readTime&&n.setReadTime(function(r){const i=new Rt(r[0],r[1]);return ve.fromTimestamp(i)}(e.readTime)),n}function MR(t,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:k0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=function(i,a){return{name:j0(i,a.key),fields:a.data.value.mapValue.fields,updateTime:ku(i,a.version.toTimestamp()),createTime:ku(i,a.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:cl(e.version)};else{if(!e.isUnknownDocument())return oe(57904,{document:e});s.unknownDocument={path:n.path.toArray(),version:cl(e.version)}}return s}function k0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function cl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ul(t){const e=new Rt(t.seconds,t.nanoseconds);return ve.fromTimestamp(e)}function Po(t,e){const n=(e.baseMutations||[]).map(i=>G1(t.yt,i));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const s=e.mutations.map(i=>G1(t.yt,i)),r=Rt.fromMillis(e.localWriteTimeMs);return new qE(e.batchId,r,n,s)}function rh(t){const e=ul(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ul(t.lastLimboFreeSnapshotVersion):ve.min();let s;return s=function(i){return i.documents!==void 0}(t.query)?function(i){const a=i.documents.length;return fe(a===1,1966,{count:a}),Js(bm(M6(i.documents[0])))}(t.query):function(i){return Js(U6(i))}(t.query),new hi(s,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Cn.fromBase64String(t.resumeToken))}function q6(t,e){const n=cl(e.snapshotVersion),s=cl(e.lastLimboFreeSnapshotVersion);let r;r=C0(e.target)?V6(t.yt,e.target):L6(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ll(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:r}}function H6(t){const e=U6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B1(e,e.limit,"L"):e}function yb(t,e){return new GE(e.largestBatchId,G1(t.yt,e.overlayMutation))}function OR(t,e){const n=e.path.lastSegment();return[t,Ln(e.path.popLast()),n]}function VR(t,e,n,s){return{indexId:t,uid:e,sequenceNumber:n,readTime:cl(s.readTime),documentKey:Ln(s.documentKey.path),largestBatchId:s.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{getBundleMetadata(e,n){return LR(e).get(n).next(s=>{if(s)return function(i){return{id:i.bundleId,createTime:ul(i.createTime),version:i.version}}(s)})}saveBundleMetadata(e,n){return LR(e).put(function(r){return{bundleId:r.id,createTime:cl(Wn(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return UR(e).get(n).next(s=>{if(s)return function(i){return{name:i.name,query:H6(i.bundledQuery),readTime:ul(i.readTime)}}(s)})}saveNamedQuery(e,n){return UR(e).put(function(r){return{name:r.name,readTime:cl(Wn(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function LR(t){return cn(t,Qy)}function UR(t){return cn(t,Xy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const s=n.uid||"";return new ov(e,s)}getOverlay(e,n){return Ud(e).get(OR(this.userId,n)).next(s=>s?yb(this.serializer,s):null)}getOverlays(e,n){const s=Ir();return F.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){const r=[];return s.forEach((i,a)=>{const l=new GE(n,a);r.push(this.St(e,l))}),F.waitFor(r)}removeOverlaysForBatchId(e,n,s){const r=new Set;n.forEach(a=>r.add(Ln(a.getCollectionPath())));const i=[];return r.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,s],[this.userId,a,s+1],!1,!0);i.push(Ud(e).Z(C1,l))}),F.waitFor(i)}getOverlaysForCollection(e,n,s){const r=Ir(),i=Ln(n),a=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ud(e).J(C1,a).next(l=>{for(const c of l){const u=yb(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,n,s,r){const i=Ir();let a;const l=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ud(e).ee({index:q5,range:l},(c,u,d)=>{const h=yb(this.serializer,u);i.size()<r||h.largestBatchId===a?(i.set(h.getKey(),h),a=h.largestBatchId):d.done()}).next(()=>i)}St(e,n){return Ud(e).put(function(r,i,a){const[l,c,u]=OR(i,a.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:P0(r.yt,a.mutation)}}(this.serializer,this.userId,n))}}function Ud(t){return cn(t,Jy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{bt(e){return cn(e,OE)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const s=n==null?void 0:n.value;return s?Cn.fromUint8Array(s):Cn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(At(e.integerValue));else if("doubleValue"in e){const s=At(e.doubleValue);isNaN(s)?this.Ft(n,13):(this.Ft(n,15),Ef(s)?n.Mt(0):n.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(n,20),typeof s=="string"&&(s=Ri(s)),n.xt(`${s.seconds||""}`),n.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ji(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(n,45),n.Mt(s.latitude||0),n.Mt(s.longitude||0)}else"mapValue"in e?n6(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):tv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):oe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const s=e.fields||{};this.Ft(n,55);for(const r of Object.keys(s))this.Ot(r,n),this.Ct(s[r],n)}kt(e,n){var a,l;const s=e.fields||{};this.Ft(n,53);const r=Su,i=((l=(a=s[r].arrayValue)==null?void 0:a.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(At(i)),this.Ot(r,n),this.Ct(s[r],n)}Qt(e,n){const s=e.values||[];this.Ft(n,50);for(const r of s)this.Ct(r,n)}Lt(e,n){this.Ft(n,37),ae.fromName(e).path.forEach(s=>{this.Ft(n,60),this.Ut(s,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ko.Kt=new ko;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=255;function Bne(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function FR(t){const e=64-function(s){let r=0;for(let i=0;i<8;++i){const a=Bne(255&s[i]);if(r+=a,a!==8)break}return r}(t);return Math.ceil(e/8)}class $ne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Gt(s.value),s=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Jt(s.value),s=n.next();this.Ht()}Yt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const r=n.codePointAt(0);this.Gt(240|r>>>18),this.Gt(128|63&r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r)}}this.zt()}Zt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Jt(s);else if(s<2048)this.Jt(960|s>>>6),this.Jt(128|63&s);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s);else{const r=n.codePointAt(0);this.Jt(240|r>>>18),this.Jt(128|63&r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r)}}this.Ht()}Xt(e){const n=this.en(e),s=FR(n);this.tn(1+s),this.buffer[this.position++]=255&s;for(let r=n.length-s;r<n.length;++r)this.buffer[this.position++]=255&n[r]}nn(e){const n=this.en(e),s=FR(n);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let r=n.length-s;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}rn(){this.sn(Yl),this.sn(255)}_n(){this.an(Yl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),s=!!(128&n[0]);n[0]^=s?255:128;for(let r=1;r<n.length;++r)n[r]^=s?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Yl?(this.sn(Yl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Yl?(this.an(Yl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const r=new Uint8Array(s);r.set(this.buffer),this.buffer=r}}class qne{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Hne{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Fd{constructor(){this.cn=new $ne,this.ln=new qne(this.cn),this.hn=new Hne(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,s,r){this.Tn=e,this.In=n,this.En=s,this.dn=r}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,s=new Uint8Array(n);return s.set(this.dn,0),n!==e?s.set([0],this.dn.length):++s[s.length-1],new Do(this.Tn,this.In,this.En,s)}Rn(e,n,s){return{indexId:this.Tn,uid:e,arrayValue:mg(this.En),directionalValue:mg(this.dn),orderedDocumentKey:mg(n),documentKey:s.path.toArray()}}Vn(e,n,s){const r=this.Rn(e,n,s);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function Zi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=zR(t.En,e.En),n!==0?n:(n=zR(t.dn,e.dn),n!==0?n:ae.comparator(t.In,e.In)))}function zR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const s=t[n]-e[n];if(s!==0)return s}return t.length-e.length}function mg(t){return M4()?function(n){let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n[r]);return s}(t):t}function BR(t){return typeof t!="string"?t:function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(t)}class $R{constructor(e){this.mn=new ft((n,s)=>An.comparator(n.field,s.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const s=n;s.isInequality()?this.mn=this.mn.add(s):this.gn.push(s)}}get pn(){return this.mn.size>1}yn(e){if(fe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=A1(e);if(n!==void 0&&!this.wn(n))return!1;const s=Io(e);let r=new Set,i=0,a=0;for(;i<s.length&&this.wn(s[i]);++i)r=r.add(s[i].fieldPath.canonicalString());if(i===s.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!r.has(l.field.canonicalString())){const c=s[i];if(!this.Sn(l,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<s.length;++i){const l=s[i];if(a>=this.fn.length||!this.bn(this.fn[a++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new ft(An.comparator);const n=[];for(const s of this.gn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")n.push(new ag(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new ag(s.field,0))}for(const s of this.fn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new ag(s.field,s.dir==="asc"?0:1)));return new T0(T0.UNKNOWN_ID,this.collectionId,n,Tf.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===s}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){var n,s;if(fe(t instanceof He||t instanceof ct,20012),t instanceof He){if(t instanceof f6){const r=((s=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:s.map(i=>He.create(t.field,"==",i)))||[];return ct.create(r,"or")}return t}const e=t.filters.map(r=>G6(r));return ct.create(e,t.op)}function Gne(t){if(t.getFilters().length===0)return[];const e=Y1(G6(t));return fe(K6(e),7391),K1(e)||W1(e)?[e]:e.getFilters()}function K1(t){return t instanceof He}function W1(t){return t instanceof ct&&zE(t)}function K6(t){return K1(t)||W1(t)||function(n){if(n instanceof ct&&L1(n)){for(const s of n.getFilters())if(!K1(s)&&!W1(s))return!1;return!0}return!1}(t)}function Y1(t){if(fe(t instanceof He||t instanceof ct,34018),t instanceof He)return t;if(t.filters.length===1)return Y1(t.filters[0]);const e=t.filters.map(s=>Y1(s));let n=ct.create(e,t.op);return n=D0(n),K6(n)?n:(fe(n instanceof ct,64498),fe(Iu(n),40251),fe(n.filters.length>1,57927),n.filters.reduce((s,r)=>YE(s,r)))}function YE(t,e){let n;return fe(t instanceof He||t instanceof ct,38388),fe(e instanceof He||e instanceof ct,25473),n=t instanceof He?e instanceof He?function(r,i){return ct.create([r,i],"and")}(t,e):qR(t,e):e instanceof He?qR(e,t):function(r,i){if(fe(r.filters.length>0&&i.filters.length>0,48005),Iu(r)&&Iu(i))return u6(r,i.getFilters());const a=L1(r)?r:i,l=L1(r)?i:r,c=a.filters.map(u=>YE(u,l));return ct.create(c,"or")}(t,e),D0(n)}function qR(t,e){if(Iu(e))return u6(e,t.getFilters());{const n=e.filters.map(s=>YE(t,s));return ct.create(n,"or")}}function D0(t){if(fe(t instanceof He||t instanceof ct,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return D0(e[0]);if(l6(t))return t;const n=e.map(r=>D0(r)),s=[];return n.forEach(r=>{r instanceof He?s.push(r):r instanceof ct&&(r.op===t.op?s.push(...r.filters):s.push(r))}),s.length===1?s[0]:ct.create(s,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(){this.Cn=new QE}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ds.min())}updateCollectionGroup(e,n,s){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class QE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ft(lt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ft(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="IndexedDbIndexManager",bp=new Uint8Array(0);class Wne{constructor(e,n){this.databaseId=n,this.vn=new QE,this.Fn=new zi(s=>ll(s),(s,r)=>vm(s,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const s=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:s,parent:Ln(r)};return GR(e).put(i)}return F.resolve()}getCollectionParents(e,n){const s=[],r=IDBKeyRange.bound([n,""],[j5(n),""],!1,!0);return GR(e).J(r).next(i=>{for(const a of i){if(a.collectionId!==n)break;s.push(Nr(a.parent))}return s})}addFieldIndex(e,n){const s=zd(e),r=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;const i=s.add(r);if(n.indexState){const a=Xl(e);return i.next(l=>{a.put(VR(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const s=zd(e),r=Xl(e),i=Ql(e);return s.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=zd(e),s=Ql(e),r=Xl(e);return n.Z().next(()=>s.Z()).next(()=>r.Z())}createTargetIndexes(e,n){return F.forEach(this.Mn(n),s=>this.getIndexType(e,s).next(r=>{if(r===0||r===1){const i=new $R(s).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const s=Ql(e);let r=!0;const i=new Map;return F.forEach(this.Mn(n),a=>this.xn(e,a).next(l=>{r&&(r=!!l),i.set(a,l)})).next(()=>{if(r){let a=De();const l=[];return F.forEach(i,(c,u)=>{X(HR,`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(N=>`${N.fieldPath}:${N.kind}`).join(",")}`}(c)} to execute ${ll(n)}`);const d=function(T,N){const C=A1(N);if(C===void 0)return null;for(const j of R0(T,C.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(u,c),h=function(T,N){const C=new Map;for(const j of Io(N))for(const S of R0(T,j.fieldPath))switch(S.op){case"==":case"in":C.set(j.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return C.set(j.fieldPath.canonicalString(),S.value),Array.from(C.values())}return null}(u,c),m=function(T,N){const C=[];let j=!0;for(const S of Io(N)){const E=S.kind===0?TR(T,S.fieldPath,T.startAt):ER(T,S.fieldPath,T.startAt);C.push(E.value),j&&(j=E.inclusive)}return new Nu(C,j)}(u,c),g=function(T,N){const C=[];let j=!0;for(const S of Io(N)){const E=S.kind===0?ER(T,S.fieldPath,T.endAt):TR(T,S.fieldPath,T.endAt);C.push(E.value),j&&(j=E.inclusive)}return new Nu(C,j)}(u,c),x=this.On(c,u,m),y=this.On(c,u,g),w=this.Nn(c,u,h),v=this.Bn(c.indexId,d,x,m.inclusive,y,g.inclusive,w);return F.forEach(v,_=>s.Y(_,n.limit).next(T=>{T.forEach(N=>{const C=ae.fromSegments(N.documentKey);a.has(C)||(a=a.add(C),l.push(C))})}))}).next(()=>l)}return F.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Gne(ct.create(e.filters,"and")).map(s=>F1(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,s,r,i,a,l){const c=(n!=null?n.length:1)*Math.max(s.length,i.length),u=c/(n!=null?n.length:1),d=[];for(let h=0;h<c;++h){const m=n?this.Ln(n[h/u]):bp,g=this.kn(e,m,s[h%u],r),x=this.qn(e,m,i[h%u],a),y=l.map(w=>this.kn(e,m,w,!0));d.push(...this.createRange(g,x,y))}return d}kn(e,n,s,r){const i=new Do(e,ae.empty(),n,s);return r?i:i.An()}qn(e,n,s,r){const i=new Do(e,ae.empty(),n,s);return r?i.An():i}xn(e,n){const s=new $R(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(i=>{let a=null;for(const l of i)s.yn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(e,n){let s=2;const r=this.Mn(n);return F.forEach(r,i=>this.xn(e,i).next(a=>{a?s!==0&&a.fields.length<function(c){let u=new ft(An.comparator),d=!1;for(const h of c.filters)for(const m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const h of c.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(i)&&(s=1):s=0})).next(()=>function(a){return a.limit!==null}(n)&&r.length>1&&s===2?1:s)}Qn(e,n){const s=new Fd;for(const r of Io(e)){const i=n.data.field(r.fieldPath);if(i==null)return null;const a=s.Pn(r.kind);ko.Kt.Dt(i,a)}return s.un()}Ln(e){const n=new Fd;return ko.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const s=new Fd;return ko.Kt.Dt(Rf(this.databaseId,n),s.Pn(function(i){const a=Io(i);return a.length===0?0:a[a.length-1].kind}(e))),s.un()}Nn(e,n,s){if(s===null)return[];let r=[];r.push(new Fd);let i=0;for(const a of Io(e)){const l=s[i++];for(const c of r)if(this.Un(n,a.fieldPath)&&jf(l))r=this.Kn(r,a,l);else{const u=c.Pn(a.kind);ko.Kt.Dt(l,u)}}return this.Wn(r)}On(e,n,s){return this.Nn(e,n,s.position)}Wn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].un();return n}Kn(e,n,s){const r=[...e],i=[];for(const a of s.arrayValue.values||[])for(const l of r){const c=new Fd;c.seed(l.un()),ko.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find(s=>s instanceof He&&s.field.isEqual(n)&&(s.op==="in"||s.op==="not-in"))}getFieldIndexes(e,n){const s=zd(e),r=Xl(e);return(n?s.J(I1,IDBKeyRange.bound(n,n)):s.J()).next(i=>{const a=[];return F.forEach(i,l=>r.get([l.indexId,this.uid]).next(c=>{a.push(function(d,h){const m=h?new Tf(h.sequenceNumber,new Ds(ul(h.readTime),new ae(Nr(h.documentKey)),h.largestBatchId)):Tf.empty(),g=d.fields.map(([x,y])=>new ag(An.fromServerFormat(x),y));return new T0(d.indexId,d.collectionGroup,g,m)}(l,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((s,r)=>{const i=s.indexState.sequenceNumber-r.indexState.sequenceNumber;return i!==0?i:Te(s.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const r=zd(e),i=Xl(e);return this.Gn(e).next(a=>r.J(I1,IDBKeyRange.bound(n,n)).next(l=>F.forEach(l,c=>i.put(VR(c.indexId,this.uid,a,s)))))}updateIndexEntries(e,n){const s=new Map;return F.forEach(n,(r,i)=>{const a=s.get(r.collectionGroup);return(a?F.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(l=>(s.set(r.collectionGroup,l),F.forEach(l,c=>this.zn(e,r,c).next(u=>{const d=this.jn(i,c);return u.isEqual(d)?F.resolve():this.Jn(e,i,c,u,d)}))))})}Hn(e,n,s,r){return Ql(e).put(r.Rn(this.uid,this.$n(s,n.key),n.key))}Yn(e,n,s,r){return Ql(e).delete(r.Vn(this.uid,this.$n(s,n.key),n.key))}zn(e,n,s){const r=Ql(e);let i=new ft(Zi);return r.ee({index:$5,range:IDBKeyRange.only([s.indexId,this.uid,mg(this.$n(s,n))])},(a,l)=>{i=i.add(new Do(s.indexId,n,BR(l.arrayValue),BR(l.directionalValue)))}).next(()=>i)}jn(e,n){let s=new ft(Zi);const r=this.Qn(n,e);if(r==null)return s;const i=A1(n);if(i!=null){const a=e.data.field(i.fieldPath);if(jf(a))for(const l of a.arrayValue.values||[])s=s.add(new Do(n.indexId,e.key,this.Ln(l),r))}else s=s.add(new Do(n.indexId,e.key,bp,r));return s}Jn(e,n,s,r,i){X(HR,"Updating index entries for document '%s'",n.key);const a=[];return function(c,u,d,h,m){const g=c.getIterator(),x=u.getIterator();let y=Wl(g),w=Wl(x);for(;y||w;){let v=!1,_=!1;if(y&&w){const T=d(y,w);T<0?_=!0:T>0&&(v=!0)}else y!=null?_=!0:v=!0;v?(h(w),w=Wl(x)):_?(m(y),y=Wl(g)):(y=Wl(g),w=Wl(x))}}(r,i,Zi,l=>{a.push(this.Hn(e,n,s,l))},l=>{a.push(this.Yn(e,n,s,l))}),F.waitFor(a)}Gn(e){let n=1;return Xl(e).ee({index:B5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,r,i)=>{i.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((a,l)=>Zi(a,l)).filter((a,l,c)=>!l||Zi(a,c[l-1])!==0);const r=[];r.push(e);for(const a of s){const l=Zi(a,e),c=Zi(a,n);if(l===0)r[0]=e.An();else if(l>0&&c<0)r.push(a),r.push(a.An());else if(c>0)break}r.push(n);const i=[];for(let a=0;a<r.length;a+=2){if(this.Zn(r[a],r[a+1]))return[];const l=r[a].Vn(this.uid,bp,ae.empty()),c=r[a+1].Vn(this.uid,bp,ae.empty());i.push(IDBKeyRange.bound(l,c))}return i}Zn(e,n){return Zi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(KR)}getMinOffset(e,n){return F.mapArray(this.Mn(n),s=>this.xn(e,s).next(r=>r||oe(44426))).next(KR)}}function GR(t){return cn(t,Nf)}function Ql(t){return cn(t,kh)}function zd(t){return cn(t,ME)}function Xl(t){return cn(t,Ph)}function KR(t){fe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<t.length;s++){const r=t[s].indexState.offset;PE(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ds(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W6=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e,n){const s=t.store(lr),r=t.store(wu),i=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=s.ee({range:a},(d,h,m)=>(l++,m.delete()));i.push(c.next(()=>{fe(l===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const h=U5(e,d.key.path,n.batchId);i.push(r.delete(h)),u.push(d.key)}return F.waitFor(i).next(()=>u)}function M0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oe(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(W6,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class lv{constructor(e,n,s,r){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=r,this.Xn={}}static wt(e,n,s,r){fe(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new lv(i,n,s,r)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ea(e).ee({index:Oo,range:s},(r,i,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,s,r){const i=dc(e),a=ea(e);return a.add({}).next(l=>{fe(typeof l=="number",49019);const c=new qE(l,n,s,r),u=function(g,x,y){const w=y.baseMutations.map(_=>P0(g.yt,_)),v=y.mutations.map(_=>P0(g.yt,_));return{userId:x,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:w,mutations:v}}(this.serializer,this.userId,c),d=[];let h=new ft((m,g)=>Te(m.canonicalString(),g.canonicalString()));for(const m of r){const g=U5(this.userId,m.key.path,l);h=h.add(m.key.path.popLast()),d.push(a.put(u)),d.push(i.put(g,Ete))}return h.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Xn[l]=c.keys()}),F.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return ea(e).get(n).next(s=>s?(fe(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:n}),Po(this.serializer,s)):null)}er(e,n){return this.Xn[n]?F.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const r=s.keys();return this.Xn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=IDBKeyRange.lowerBound([this.userId,s]);let i=null;return ea(e).ee({index:Oo,range:r},(a,l,c)=>{l.userId===this.userId&&(fe(l.batchId>=s,47524,{tr:s}),i=Po(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Ko;return ea(e).ee({index:Oo,range:n,reverse:!0},(r,i,a)=>{s=i.batchId,a.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ko],[this.userId,Number.POSITIVE_INFINITY]);return ea(e).J(Oo,n).next(s=>s.map(r=>Po(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=og(this.userId,n.path),r=IDBKeyRange.lowerBound(s),i=[];return dc(e).ee({range:r},(a,l,c)=>{const[u,d,h]=a,m=Nr(d);if(u===this.userId&&n.path.isEqual(m))return ea(e).get(h).next(g=>{if(!g)throw oe(61480,{nr:a,batchId:h});fe(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:h}),i.push(Po(this.serializer,g))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ft(Te);const r=[];return n.forEach(i=>{const a=og(this.userId,i.path),l=IDBKeyRange.lowerBound(a),c=dc(e).ee({range:l},(u,d,h)=>{const[m,g,x]=u,y=Nr(g);m===this.userId&&i.path.isEqual(y)?s=s.add(x):h.done()});r.push(c)}),F.waitFor(r).next(()=>this.rr(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1,i=og(this.userId,s),a=IDBKeyRange.lowerBound(i);let l=new ft(Te);return dc(e).ee({range:a},(c,u,d)=>{const[h,m,g]=c,x=Nr(m);h===this.userId&&s.isPrefixOf(x)?x.length===r&&(l=l.add(g)):d.done()}).next(()=>this.rr(e,l))}rr(e,n){const s=[],r=[];return n.forEach(i=>{r.push(ea(e).get(i).next(a=>{if(a===null)throw oe(35274,{batchId:i});fe(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),s.push(Po(this.serializer,a))}))}),F.waitFor(r).next(()=>s)}removeMutationBatch(e,n){return Y6(e.le,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),F.forEach(s,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return F.resolve();const s=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),r=[];return dc(e).ee({range:s},(i,a,l)=>{if(i[0]===this.userId){const c=Nr(i[1]);r.push(c)}else l.done()}).next(()=>{fe(r.length===0,56720,{sr:r.map(i=>i.canonicalString())})})})}containsKey(e,n){return Q6(e,this.userId,n)}_r(e){return X6(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ko,lastStreamToken:""})}}function Q6(t,e,n){const s=og(e,n.path),r=s[1],i=IDBKeyRange.lowerBound(s);let a=!1;return dc(t).ee({range:i,X:!0},(l,c,u)=>{const[d,h,m]=l;d===e&&h===r&&(a=!0),u.done()}).next(()=>a)}function ea(t){return cn(t,lr)}function dc(t){return cn(t,wu)}function X6(t){return cn(t,Sf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const s=new dl(n.highestTargetId);return n.highestTargetId=s.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>ve.fromTimestamp(new Rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.lr(e).next(r=>(r.highestListenSequenceNumber=n,s&&(r.lastRemoteSnapshotVersion=s.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.hr(e,r)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(s=>(s.targetCount+=1,this.Tr(n,s),this.hr(e,s))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Jl(e).delete(n.targetId)).next(()=>this.lr(e)).next(s=>(fe(s.targetCount>0,8065),s.targetCount-=1,this.hr(e,s)))}removeTargets(e,n,s){let r=0;const i=[];return Jl(e).ee((a,l)=>{const c=rh(l);c.sequenceNumber<=n&&s.get(c.targetId)===null&&(r++,i.push(this.removeTargetData(e,c)))}).next(()=>F.waitFor(i)).next(()=>r)}forEachTarget(e,n){return Jl(e).ee((s,r)=>{const i=rh(r);n(i)})}lr(e){return YR(e).get(A0).next(n=>(fe(n!==null,2888),n))}hr(e,n){return YR(e).put(A0,n)}Pr(e,n){return Jl(e).put(q6(this.serializer,n))}Tr(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const s=ll(n),r=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let i=null;return Jl(e).ee({range:r,index:z5},(a,l,c)=>{const u=rh(l);vm(n,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,n,s){const r=[],i=ga(e);return n.forEach(a=>{const l=Ln(a.path);r.push(i.put({targetId:s,path:l})),r.push(this.referenceDelegate.addReference(e,s,a))}),F.waitFor(r)}removeMatchingKeys(e,n,s){const r=ga(e);return F.forEach(n,i=>{const a=Ln(i.path);return F.waitFor([r.delete([s,a]),this.referenceDelegate.removeReference(e,s,i)])})}removeMatchingKeysForTargetId(e,n){const s=ga(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(r)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),r=ga(e);let i=De();return r.ee({range:s,X:!0},(a,l,c)=>{const u=Nr(a[1]),d=new ae(u);i=i.add(d)}).next(()=>i)}containsKey(e,n){const s=Ln(n.path),r=IDBKeyRange.bound([s],[j5(s)],!1,!0);let i=0;return ga(e).ee({index:DE,X:!0,range:r},([a,l],c,u)=>{a!==0&&(i++,u.done())}).next(()=>i>0)}At(e,n){return Jl(e).get(n).next(s=>s?rh(s):null)}}function Jl(t){return cn(t,_u)}function YR(t){return cn(t,Wo)}function ga(t){return cn(t,Tu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="LruGarbageCollector",J6=1048576;function XR([t,e],[n,s]){const r=Te(t,n);return r===0?Te(e,s):r}class Qne{constructor(e){this.Ir=e,this.buffer=new ft(XR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();XR(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(QR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?X(QR,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Vr(3e5)})}}class Xne{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Ys.ce);const s=new Qne(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(WR)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WR):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(u=Date.now(),ac()<=Pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function eL(t,e){return new Xne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,n){this.db=e,this.garbageCollector=eL(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(s,r)=>n(r))}addReference(e,n,s){return wp(e,s)}removeReference(e,n,s){return wp(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return wp(e,n)}br(e,n){return function(r,i){let a=!1;return X6(r).te(l=>Q6(r,l,i).next(c=>(c&&(a=!0),F.resolve(!c)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(a,l)=>{if(l<=n){const c=this.br(e,a).next(u=>{if(!u)return i++,s.getEntry(e,a).next(()=>(s.removeEntry(a,ve.min()),ga(e).delete(function(h){return[0,Ln(h.path)]}(a))))});r.push(c)}}).next(()=>F.waitFor(r)).next(()=>s.apply(e)).next(()=>i)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return wp(e,n)}Sr(e,n){const s=ga(e);let r,i=Ys.ce;return s.ee({index:DE},([a,l],{path:c,sequenceNumber:u})=>{a===0?(i!==Ys.ce&&n(new ae(Nr(r)),i),i=u,r=c):i=Ys.ce}).next(()=>{i!==Ys.ce&&n(new ae(Nr(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wp(t,e){return ga(t).put(function(s,r){return{targetId:0,path:Ln(s.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?F.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return xo(e).put(s)}removeEntry(e,n,s){return xo(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],k0(a),l[l.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.Dr(e,s)))}getEntry(e,n){let s=Kn.newInvalidDocument(n);return xo(e).ee({index:lg,range:IDBKeyRange.only(Bd(n))},(r,i)=>{s=this.Cr(n,i)}).next(()=>s)}vr(e,n){let s={size:0,document:Kn.newInvalidDocument(n)};return xo(e).ee({index:lg,range:IDBKeyRange.only(Bd(n))},(r,i)=>{s={document:this.Cr(n,i),size:M0(i)}}).next(()=>s)}getEntries(e,n){let s=ws();return this.Fr(e,n,(r,i)=>{const a=this.Cr(r,i);s=s.insert(r,a)}).next(()=>s)}Mr(e,n){let s=ws(),r=new $t(ae.comparator);return this.Fr(e,n,(i,a)=>{const l=this.Cr(i,a);s=s.insert(i,l),r=r.insert(i,M0(a))}).next(()=>({documents:s,Or:r}))}Fr(e,n,s){if(n.isEmpty())return F.resolve();let r=new ft(ej);n.forEach(c=>r=r.add(c));const i=IDBKeyRange.bound(Bd(r.first()),Bd(r.last())),a=r.getIterator();let l=a.getNext();return xo(e).ee({index:lg,range:i},(c,u,d)=>{const h=ae.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&ej(l,h)<0;)s(l,null),l=a.getNext();l&&l.isEqual(h)&&(s(l,u),l=a.hasNext()?a.getNext():null),l?d.j(Bd(l)):d.done()}).next(()=>{for(;l;)s(l,null),l=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,s,r,i){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),k0(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xo(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let d=ws();for(const h of u){const m=this.Cr(ae.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(wm(n,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,s,r){let i=ws();const a=ZR(n,s),l=ZR(n,Ds.max());return xo(e).ee({index:F5,range:IDBKeyRange.bound(a,l,!0)},(c,u,d)=>{const h=this.Cr(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(h.key,h),i.size===r&&d.done()}).next(()=>i)}newChangeBuffer(e){return new ese(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return JR(e).get(N1).next(n=>(fe(!!n,20021),n))}Dr(e,n){return JR(e).put(N1,n)}Cr(e,n){if(n){const s=Une(this.serializer,n);if(!(s.isNoDocument()&&s.version.isEqual(ve.min())))return s}return Kn.newInvalidDocument(e)}}function nL(t){return new Zne(t)}class ese extends tL{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new zi(s=>s.toString(),(s,r)=>s.isEqual(r))}applyChanges(e){const n=[];let s=0,r=new ft((i,a)=>Te(i.canonicalString(),a.canonicalString()));return this.changes.forEach((i,a)=>{const l=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,l.readTime)),a.isValidDocument()){const c=MR(this.Nr.serializer,a);r=r.add(i.path.popLast());const u=M0(c);s+=u-l.size,n.push(this.Nr.addEntry(e,i,c))}else if(s-=l.size,this.trackRemovals){const c=MR(this.Nr.serializer,a.convertToNoDocument(ve.min()));n.push(this.Nr.addEntry(e,i,c))}}),r.forEach(i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Nr.updateMetadata(e,s)),F.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(s=>(this.Br.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:s,Or:r})=>(r.forEach((i,a)=>{this.Br.set(i,{size:a,readTime:s.get(i).readTime})}),s))}}function JR(t){return cn(t,Af)}function xo(t){return cn(t,S0)}function Bd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZR(t,e){const n=e.documentKey.path.toArray();return[t,k0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ej(t,e){const n=t.path.toArray(),s=e.path.toArray();let r=0;for(let i=0;i<n.length-2&&i<s.length-2;++i)if(r=Te(n[i],s[i]),r)return r;return r=Te(n.length,s.length),r||(r=Te(n[n.length-2],s[s.length-2]),r||Te(n[n.length-1],s[s.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Vh(s.mutation,r,as.empty(),Rt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,n,s=De()){const r=Ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=nh();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Ir();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,De()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=ws();const a=Oh(),l=function(){return Oh()}();return n.forEach((c,u)=>{const d=s.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Bi)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Vh(d.mutation,u,d.mutation.getFieldMask(),Rt.now())):a.set(u.key,as.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new tse(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Oh();let r=new $t((a,l)=>a-l),i=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||as.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(r.get(l.batchId)||De()).add(c);r=r.insert(l.batchId,h)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=x6();d.forEach(m=>{if(!i.has(m)){const g=A6(n.get(m),s.get(m));g!==null&&h.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return F.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):F.resolve(Ir());let l=_f,c=i;return a.next(u=>F.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,De())).next(d=>({batchId:l,changes:v6(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(s=>{let r=nh();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=nh();return this.indexManager.getCollectionParents(e,i).next(l=>F.forEach(l,c=>{const u=function(h,m){return new xm(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(d=>{d.forEach((h,m)=>{a=a.insert(h,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Kn.newInvalidDocument(d)))});let l=nh();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Vh(d.mutation,u,as.empty(),Rt.now()),wm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Wn(r.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:H6(r.bundledQuery),readTime:Wn(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(){this.overlays=new $t(ae.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ir();return F.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),F.resolve()}getOverlaysForCollection(e,n,s){const r=Ir(),i=n.length+1,a=new ae(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return F.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new $t((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=i.get(u.largestBatchId);d===null&&(d=Ir(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ir(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=r)););return F.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new GE(n,s));let i=this.qr.get(n);i===void 0&&(i=De(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Qr=new ft(hn.$r),this.Ur=new ft(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new hn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ae(new lt([])),s=new hn(n,e),r=new hn(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new lt([])),s=new hn(n,e),r=new hn(n,e+1);let i=De();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new hn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Te(e.Yr,n.Yr)}static Kr(e,n){return Te(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(hn.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qE(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new hn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ko:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new hn(n,0),r=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ft(Te);return n.forEach(r=>{const i=new hn(r,0),a=new hn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),F.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ae.isDocumentKey(i)||(i=i.child(""));const a=new hn(new ae(i),0);let l=new ft(Te);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Yr)),!0)},a),F.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return F.forEach(n.mutations,r=>{const i=new hn(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new hn(n,0),r=this.Zr.firstAfterOrEqual(s);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e){this.ri=e,this.docs=function(){return new $t(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return F.resolve(s?s.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let s=ws();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Kn.newInvalidDocument(r))}),F.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=ws();const a=n.path,l=new ae(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||PE(M5(d),s)<=0||(r.has(d.key)||wm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,s,r){oe(9500)}ii(e,n){return F.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ose(this)}getSize(e){return F.resolve(this.size)}}class ose extends tL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.persistence=e,this.si=new zi(n=>ll(n),vm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new XE,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),F.waitFor(i).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return F.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),F.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return F.resolve(s)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ys(0),this.li=!1,this.li=!0,this.hi=new rse,this.referenceDelegate=e(this),this.Pi=new lse(this),this.indexManager=new Kne,this.remoteDocumentCache=function(r){return new ase(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new $6(n),this.Ii=new nse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ise(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){X("MemoryPersistence","Starting transaction:",e);const r=new cse(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class cse extends V5{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Ri=new XE,this.Vi=null}static mi(e){return new cv(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),F.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,s=>{const r=ae.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,ve.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class O0{constructor(e,n){this.persistence=e,this.pi=new zi(s=>Ln(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=eL(this,n)}static mi(e,n){return new O0(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?F.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,ve.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ug(e.data.value)),n}br(e,n,s){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return F.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e){this.serializer=e}k(e,n,s,r){const i=new Wy("createOrUpgrade",n);s<1&&r>=1&&(function(c){c.createObjectStore(ym)}(e),function(c){c.createObjectStore(Sf,{keyPath:Tte}),c.createObjectStore(lr,{keyPath:dR,autoIncrement:!0}).createIndex(Oo,hR,{unique:!0}),c.createObjectStore(wu)}(e),tj(e),function(c){c.createObjectStore(Co)}(e));let a=F.resolve();return s<3&&r>=3&&(s!==0&&(function(c){c.deleteObjectStore(Tu),c.deleteObjectStore(_u),c.deleteObjectStore(Wo)}(e),tj(e)),a=a.next(()=>function(c){const u=c.store(Wo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return u.put(A0,d)}(i))),s<4&&r>=4&&(s!==0&&(a=a.next(()=>function(c,u){return u.store(lr).J().next(h=>{c.deleteObjectStore(lr),c.createObjectStore(lr,{keyPath:dR,autoIncrement:!0}).createIndex(Oo,hR,{unique:!0});const m=u.store(lr),g=h.map(x=>m.put(x));return F.waitFor(g)})}(e,i))),a=a.next(()=>{(function(c){c.createObjectStore(Eu,{keyPath:Pte})})(e)})),s<5&&r>=5&&(a=a.next(()=>this.yi(i))),s<6&&r>=6&&(a=a.next(()=>(function(c){c.createObjectStore(Af)}(e),this.wi(i)))),s<7&&r>=7&&(a=a.next(()=>this.Si(i))),s<8&&r>=8&&(a=a.next(()=>this.bi(e,i))),s<9&&r>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),s<10&&r>=10&&(a=a.next(()=>this.Di(i))),s<11&&r>=11&&(a=a.next(()=>{(function(c){c.createObjectStore(Qy,{keyPath:kte})})(e),function(c){c.createObjectStore(Xy,{keyPath:Dte})}(e)})),s<12&&r>=12&&(a=a.next(()=>{(function(c){const u=c.createObjectStore(Jy,{keyPath:zte});u.createIndex(C1,Bte,{unique:!1}),u.createIndex(q5,$te,{unique:!1})})(e)})),s<13&&r>=13&&(a=a.next(()=>function(c){const u=c.createObjectStore(S0,{keyPath:Ste});u.createIndex(lg,Ate),u.createIndex(F5,Nte)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(Co))),s<14&&r>=14&&(a=a.next(()=>this.Fi(e,i))),s<15&&r>=15&&(a=a.next(()=>function(c){c.createObjectStore(ME,{keyPath:Mte,autoIncrement:!0}).createIndex(I1,Ote,{unique:!1}),c.createObjectStore(Ph,{keyPath:Vte}).createIndex(B5,Lte,{unique:!1}),c.createObjectStore(kh,{keyPath:Ute}).createIndex($5,Fte,{unique:!1})}(e))),s<16&&r>=16&&(a=a.next(()=>{n.objectStore(Ph).clear()}).next(()=>{n.objectStore(kh).clear()})),s<17&&r>=17&&(a=a.next(()=>{(function(c){c.createObjectStore(OE,{keyPath:qte})})(e)})),s<18&&r>=18&&M4()&&(a=a.next(()=>{n.objectStore(Ph).clear()}).next(()=>{n.objectStore(kh).clear()})),a}wi(e){let n=0;return e.store(Co).ee((s,r)=>{n+=M0(r)}).next(()=>{const s={byteSize:n};return e.store(Af).put(N1,s)})}yi(e){const n=e.store(Sf),s=e.store(lr);return n.J().next(r=>F.forEach(r,i=>{const a=IDBKeyRange.bound([i.userId,Ko],[i.userId,i.lastAcknowledgedBatchId]);return s.J(Oo,a).next(l=>F.forEach(l,c=>{fe(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=Po(this.serializer,c);return Y6(e,i.userId,u).next(()=>{})}))}))}Si(e){const n=e.store(Tu),s=e.store(Co);return e.store(Wo).get(A0).next(r=>{const i=[];return s.ee((a,l)=>{const c=new lt(a),u=function(h){return[0,Ln(h)]}(c);i.push(n.get(u).next(d=>d?F.resolve():(h=>n.put({targetId:0,path:Ln(h),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>F.waitFor(i))})}bi(e,n){e.createObjectStore(Nf,{keyPath:jte});const s=n.store(Nf),r=new QE,i=a=>{if(r.add(a)){const l=a.lastSegment(),c=a.popLast();return s.put({collectionId:l,parent:Ln(c)})}};return n.store(Co).ee({X:!0},(a,l)=>{const c=new lt(a);return i(c.popLast())}).next(()=>n.store(wu).ee({X:!0},([a,l,c],u)=>{const d=Nr(l);return i(d.popLast())}))}Di(e){const n=e.store(_u);return n.ee((s,r)=>{const i=rh(r),a=q6(this.serializer,i);return n.put(a)})}Ci(e,n){const s=n.store(Co),r=[];return s.ee((i,a)=>{const l=n.store(S0),c=function(h){return h.document?new ae(lt.fromString(h.document.name).popFirst(5)):h.noDocument?ae.fromSegments(h.noDocument.path):h.unknownDocument?ae.fromSegments(h.unknownDocument.path):oe(36783)}(a).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(l.put(u))}).next(()=>F.waitFor(r))}Fi(e,n){const s=n.store(lr),r=nL(this.serializer),i=new JE(cv.mi,this.serializer.yt);return s.J().next(a=>{const l=new Map;return a.forEach(c=>{let u=l.get(c.userId)??De();Po(this.serializer,c).keys().forEach(d=>u=u.add(d)),l.set(c.userId,u)}),F.forEach(l,(c,u)=>{const d=new Bn(u),h=ov.wt(this.serializer,d),m=i.getIndexManager(d),g=lv.wt(d,this.serializer,m,i.referenceDelegate);return new sL(r,g,h,m).recalculateAndSaveOverlaysForDocumentKeys(new R1(n,Ys.ce),c).next()})})}}function tj(t){t.createObjectStore(Tu,{keyPath:Cte}).createIndex(DE,Rte,{unique:!0}),t.createObjectStore(_u,{keyPath:"targetId"}).createIndex(z5,Ite,{unique:!0}),t.createObjectStore(Wo)}const ta="IndexedDbPersistence",vb=18e5,xb=5e3,bb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dse="main";class ZE{constructor(e,n,s,r,i,a,l,c,u,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.Mi=i,this.window=a,this.document=l,this.xi=u,this.Oi=d,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=m=>Promise.resolve(),!ZE.v())throw new J(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jne(this,r),this.$i=n+dse,this.serializer=new $6(c),this.Ui=new Oa(this.$i,this.Ni,new use(this.serializer)),this.hi=new zne,this.Pi=new Yne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nL(this.serializer),this.Ii=new Fne,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&$n(ta,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(G.FAILED_PRECONDITION,bb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Ys(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_p(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(co(e))return X(ta,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X(ta,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return $d(e).get(Kl).next(n=>F.resolve(this.es(n)))}ts(e){return _p(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,vb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const s=cn(n,Eu);return s.J().next(r=>{const i=this.ss(r,vb),a=r.filter(l=>i.indexOf(l)===-1);return F.forEach(a,l=>s.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?F.resolve(!0):$d(e).get(Kl).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new J(G.FAILED_PRECONDITION,bb);return!1}}return!(!this.networkEnabled||!this.inForeground)||_p(e).J().next(s=>this.ss(s,xb).find(r=>{if(this.clientId!==r.clientId){const i=!this.networkEnabled&&r.networkEnabled,a=!this.inForeground&&r.inForeground,l=this.networkEnabled===r.networkEnabled;if(i||a&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X(ta,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ym,Eu],e=>{const n=new R1(e,Ys.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(s=>this.rs(s.updateTimeMs,n)&&!this.us(s.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>_p(e).J().next(n=>this.ss(n,vb).map(s=>s.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return lv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Wne(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ov.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,s){X(ta,"Starting transaction:",e);const r=n==="readonly"?"readonly":"readwrite",i=function(c){return c===18?Kte:c===17?W5:c===16?Gte:c===15?VE:c===14?K5:c===13?G5:c===12?Hte:c===11?H5:void oe(60245)}(this.Ni);let a;return this.Ui.runTransaction(e,r,i,l=>(a=new R1(l,this.ci?this.ci.next():Ys.ce),n==="readwrite-primary"?this.Hi(a).next(c=>!!c||this.Yi(a)).next(c=>{if(!c)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new J(G.FAILED_PRECONDITION,O5);return s(a)}).next(c=>this.Xi(a).next(()=>c)):this.Is(a).next(()=>s(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Is(e){return $d(e).get(Kl).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(G.FAILED_PRECONDITION,bb)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $d(e).put(Kl,n)}static v(){return Oa.v()}Zi(e){const n=$d(e);return n.get(Kl).next(s=>this.es(s)?(X(ta,"Releasing primary lease."),n.delete(Kl)):F.resolve())}rs(e,n){const s=Date.now();return!(e<s-n)&&(!(e>s)||($n(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;D4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const s=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return X(ta,`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return $n(ta,"Failed to get zombied client id.",s),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $d(t){return cn(t,ym)}function _p(t){return cn(t,Eu)}function hse(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=De(),r=De();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new eS(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return D4()?8:L5(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new fse;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(ac()<=Pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(ac()<=Pe.DEBUG&&X("QueryEngine","Query:",lc(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(ac()<=Pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):F.resolve())}ys(e,n){if(SR(n))return F.resolve(null);let s=Js(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=B1(n,null,"F"),s=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=De(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,B1(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,r){return SR(n)||r.isEqual(ve.min())?F.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?F.resolve(null):(ac()<=Pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lc(n)),this.vs(e,a,n,gte(r,_f)).next(l=>l))})}Ds(e,n){let s=new ft(g6(e));return n.forEach((r,i)=>{wm(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return ac()<=Pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",lc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ds.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="LocalStore",mse=3e8;class pse{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new $t(Te),this.xs=new zi(i=>ll(i),vm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function iL(t,e,n,s){return new pse(t,e,n,s)}async function aL(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=De();for(const u of r){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function gse(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,m=h.keys();let g=F.resolve();return m.forEach(x=>{g=g.next(()=>d.getEntry(c,x)).next(y=>{const w=u.docVersions.get(x);fe(w!==null,48541),y.version.compareTo(w)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=De();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function oL(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yse(t,e){const n=Ee(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const m=r.get(h);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Cn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(h,g),function(y,w,v){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=mse?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,g,d)&&l.push(n.Pi.updateTargetData(i,g))});let c=ws(),u=De();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(vse(i,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!s.isEqual(ve.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return F.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=r,i))}function vse(t,e,n){let s=De(),r=De();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=ws();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):X(tS,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:r}})}function xse(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ko),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bse(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,F.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new hi(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Q1(t,e,n){const s=Ee(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!co(a))throw a;X(tS,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function nj(t,e,n){const s=Ee(t);let r=ve.min(),i=De();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=Ee(c),m=h.xs.get(d);return m!==void 0?F.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(s,a,Js(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:ve.min(),n?i:De())).next(l=>(wse(s,lne(e),l),{documents:l,Qs:i})))}function wse(t,e,n){let s=t.Os.get(e)||ve.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class sj{constructor(){this.activeTargetIds=mne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lL{constructor(){this.Mo=new sj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sj,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="ConnectivityMonitor";class ij{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(rj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(rj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp=null;function X1(){return Tp===null?Tp=function(){return 268435456+Math.round(2147483648*Math.random())}():Tp++,"0x"+Tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="RestConnection",Tse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};let Ese=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===N0?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=X1(),l=this.zo(e,n.toUriEncodedString());X(wb,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:u}=new URL(l),d=Vi(u);return this.Jo(e,l,c,s,d).then(h=>(X(wb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw xu(wb,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+td}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=Tse[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class Ase extends Ese{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=X1();return new Promise((l,c)=>{const u=new S5;u.setWithCredentials(!0),u.listenOnce(A5.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sg.NO_ERROR:const h=u.getResponseJson();X(jn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case sg.TIMEOUT:X(jn,`RPC '${e}' ${a} timed out`),c(new J(G.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const m=u.getStatus();if(X(jn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const y=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(_)>=0?_:G.UNKNOWN}(x.status);c(new J(y,x.message))}else c(new J(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(G.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(jn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);X(jn,`RPC '${e}' ${a} sending request:`,r),u.send(n,"POST",d,s,15)})}T_(e,n,s){const r=X1(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=C5(),l=I5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");X(jn,`Creating RPC '${e}' stream ${r}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let m=!1,g=!1;const x=new Sse({Yo:w=>{g?X(jn,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(m||(X(jn,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),X(jn,`RPC '${e}' stream ${r} sending:`,w),h.send(w))},Zo:()=>h.close()}),y=(w,v,_)=>{w.listen(v,T=>{try{_(T)}catch(N){setTimeout(()=>{throw N},0)}})};return y(h,eh.EventType.OPEN,()=>{g||(X(jn,`RPC '${e}' stream ${r} transport opened.`),x.o_())}),y(h,eh.EventType.CLOSE,()=>{g||(g=!0,X(jn,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(h))}),y(h,eh.EventType.ERROR,w=>{g||(g=!0,xu(jn,`RPC '${e}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),x.a_(new J(G.UNAVAILABLE,"The operation could not be completed")))}),y(h,eh.EventType.MESSAGE,w=>{var v;if(!g){const _=w.data[0];fe(!!_,16349);const T=_,N=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(N){X(jn,`RPC '${e}' stream ${r} received error:`,N);const C=N.status;let j=function(I){const R=Gt[I];if(R!==void 0)return C6(R)}(C),S=N.message;j===void 0&&(j=G.INTERNAL,S="Unknown error status: "+C+" with message "+N.message),g=!0,x.a_(new J(j,S)),h.close()}else X(jn,`RPC '${e}' stream ${r} received:`,_),x.u_(_)}}),y(l,N5.STAT_EVENT,w=>{w.stat===E1.PROXY?X(jn,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===E1.NOPROXY&&X(jn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(){return typeof window<"u"?window:null}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return new Cne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="PersistentStream";class uL{constructor(e,n,s,r,i,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new J(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(aj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(aj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ise extends uL{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Pne(this.serializer,e),s=function(i){if(!("targetChange"in i))return ve.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Wn(a.readTime):ve.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=H1(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=C0(c)?{documents:V6(i,c)}:{query:L6(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=P6(i,a.resumeToken);const u=$1(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(ve.min())>0){l.readTime=ku(i,a.snapshotVersion.toTimestamp());const u=$1(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=Dne(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=H1(this.serializer),n.removeTarget=e,this.q_(n)}}class Cse extends uL{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kne(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=H1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>P0(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rse=class{},jse=class extends Rse{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new J(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,q1(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(G.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,q1(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(G.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};class Pse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($n(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="RemoteStore";class kse{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Dl(this)&&(X(hl,"Restarting streams for network reachability change."),await async function(c){const u=Ee(c);u.Ea.add(4),await Tm(u),u.Ra.set("Unknown"),u.Ea.delete(4),await dv(u)}(this))})}),this.Ra=new Pse(s,r)}}async function dv(t){if(Dl(t))for(const e of t.da)await e(!0)}async function Tm(t){for(const e of t.da)await e(!1)}function dL(t,e){const n=Ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iS(n)?rS(n):sd(n).O_()&&sS(n,e))}function nS(t,e){const n=Ee(t),s=sd(n);n.Ia.delete(e),s.O_()&&hL(n,e),n.Ia.size===0&&(s.O_()?s.L_():Dl(n)&&n.Ra.set("Unknown"))}function sS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sd(t).Y_(e)}function hL(t,e){t.Va.Ue(e),sd(t).Z_(e)}function rS(t){t.Va=new Sne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sd(t).start(),t.Ra.ua()}function iS(t){return Dl(t)&&!sd(t).x_()&&t.Ia.size>0}function Dl(t){return Ee(t).Ea.size===0}function fL(t){t.Va=void 0}async function Dse(t){t.Ra.set("Online")}async function Mse(t){t.Ia.forEach((e,n)=>{sS(t,e)})}async function Ose(t,e){fL(t),iS(t)?(t.Ra.ha(e),rS(t)):t.Ra.set("Unknown")}async function Vse(t,e,n){if(t.Ra.set("Online"),e instanceof j6&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){X(hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await V0(t,s)}else if(e instanceof fg?t.Va.Ze(e):e instanceof R6?t.Va.st(e):t.Va.tt(e),!n.isEqual(ve.min()))try{const s=await oL(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Cn.EMPTY_BYTE_STRING,d.snapshotVersion)),hL(i,c);const h=new hi(d.target,c,u,d.sequenceNumber);sS(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){X(hl,"Failed to raise snapshot:",s),await V0(t,s)}}async function V0(t,e,n){if(!co(e))throw e;t.Ea.add(1),await Tm(t),t.Ra.set("Offline"),n||(n=()=>oL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(hl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dv(t)})}function mL(t,e){return e().catch(n=>V0(t,n,e))}async function Em(t){const e=Ee(t),n=Qa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ko;for(;Lse(e);)try{const r=await xse(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,Use(e,r)}catch(r){await V0(e,r)}pL(e)&&gL(e)}function Lse(t){return Dl(t)&&t.Ta.length<10}function Use(t,e){t.Ta.push(e);const n=Qa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pL(t){return Dl(t)&&!Qa(t).x_()&&t.Ta.length>0}function gL(t){Qa(t).start()}async function Fse(t){Qa(t).ra()}async function zse(t){const e=Qa(t);for(const n of t.Ta)e.ea(n.mutations)}async function Bse(t,e,n){const s=t.Ta.shift(),r=HE.from(s,e,n);await mL(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Em(t)}async function $se(t,e){e&&Qa(t).X_&&await async function(s,r){if(function(a){return _ne(a)&&a!==G.ABORTED}(r.code)){const i=s.Ta.shift();Qa(s).B_(),await mL(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Em(s)}}(t,e),pL(t)&&gL(t)}async function oj(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),X(hl,"RemoteStore received new credentials");const s=Dl(n);n.Ea.add(3),await Tm(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dv(n)}async function qse(t,e){const n=Ee(t);e?(n.Ea.delete(2),await dv(n)):e||(n.Ea.add(2),await Tm(n),n.Ra.set("Unknown"))}function sd(t){return t.ma||(t.ma=function(n,s,r){const i=Ee(n);return i.sa(),new Ise(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:Dse.bind(null,t),t_:Mse.bind(null,t),r_:Ose.bind(null,t),H_:Vse.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),iS(t)?rS(t):t.Ra.set("Unknown")):(await t.ma.stop(),fL(t))})),t.ma}function Qa(t){return t.fa||(t.fa=function(n,s,r){const i=Ee(n);return i.sa(),new Cse(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fse.bind(null,t),r_:$se.bind(null,t),ta:zse.bind(null,t),na:Bse.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Em(t)):(await t.fa.stop(),t.Ta.length>0&&(X(hl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new aS(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oS(t,e){if($n("AsyncQueue",`${e}: ${t}`),co(t))return new J(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ae.comparator(n.key,s.key):(n,s)=>ae.comparator(n.key,s.key),this.keyedMap=nh(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Gc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.ga=new $t(ae.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Du{constructor(e,n,s,r,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Du(e,n,Gc.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Gse{constructor(){this.queries=cj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Ee(n),i=r.queries;r.queries=cj(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new J(G.ABORTED,"Firestore shutting down"))}}function cj(){return new zi(t=>p6(t),nv)}async function lS(t,e){const n=Ee(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new Hse,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=oS(a,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&uS(n)}async function cS(t,e){const n=Ee(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Kse(t,e){const n=Ee(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&uS(n)}function Wse(t,e,n){const s=Ee(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function uS(t){t.Ca.forEach(e=>{e.next()})}var J1,uj;(uj=J1||(J1={})).Ma="default",uj.Cache="cache";class dS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Du(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==J1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.key=e}}class vL{constructor(e){this.key=e}}class Yse{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=g6(e),this.tu=new Gc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new lj,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const m=r.get(d),g=wm(this.query,h)?h:null,x=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;m&&g?m.data.isEqual(g.data)?x!==y&&(s.track({type:3,doc:g}),w=!0):this.su(m,g)||(s.track({type:2,doc:g}),w=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!m&&g?(s.track({type:0,doc:g}),w=!0):m&&!g&&(s.track({type:1,doc:m}),w=!0,(c||u)&&(l=!0)),w&&(g?(a=a.add(g),i=y?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(g,x){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:w})}};return y(g)-y(x)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Du(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new vL(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new yL(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hS="SyncEngine";class Qse{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Xse{constructor(e){this.key=e,this.hu=!1}}class Jse{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zi(l=>p6(l),nv),this.Iu=new Map,this.Eu=new Set,this.du=new $t(ae.comparator),this.Au=new Map,this.Ru=new XE,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zse(t,e,n=!0){const s=EL(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await xL(s,e,n,!0),r}async function ere(t,e){const n=EL(t);await xL(n,e,!0,!1)}async function xL(t,e,n,s){const r=await bse(t.localStore,Js(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await tre(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&dL(t.remoteStore,r),l}async function tre(t,e,n,s,r){t.pu=(h,m,g)=>async function(y,w,v,_){let T=w.view.ru(v);T.Cs&&(T=await nj(y.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,T)));const N=_&&_.targetChanges.get(w.targetId),C=_&&_.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(T,y.isPrimaryClient,N,C);return hj(y,w.targetId,j.au),j.snapshot}(t,h,m,g);const i=await nj(t.localStore,e,!0),a=new Yse(e,i.Qs),l=a.ru(i.documents),c=_m.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=a.applyChanges(l,t.isPrimaryClient,c);hj(t,n,u.au);const d=new Qse(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function nre(t,e,n){const s=Ee(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!nv(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Q1(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&nS(s.remoteStore,r.targetId),Z1(s,r.targetId)}).catch(kl)):(Z1(s,r.targetId),await Q1(s.localStore,r.targetId,!0))}async function sre(t,e){const n=Ee(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),nS(n.remoteStore,s.targetId))}async function rre(t,e,n){const s=SL(t);try{const r=await function(a,l){const c=Ee(a),u=Rt.now(),d=l.reduce((g,x)=>g.add(x.key),De());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=ws(),y=De();return c.Ns.getEntries(g,d).next(w=>{x=w,x.forEach((v,_)=>{_.isValidDocument()||(y=y.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,x)).next(w=>{h=w;const v=[];for(const _ of l){const T=bne(_,h.get(_.key).overlayedDocument);T!=null&&v.push(new Bi(_.key,T,r6(T.value.mapValue),On.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,v,l)}).next(w=>{m=w;const v=w.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(g,w.batchId,v)})}).then(()=>({batchId:m.batchId,changes:v6(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new $t(Te)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(s,r.batchId,n),await Sm(s,r.changes),await Em(s.remoteStore)}catch(r){const i=oS(r,"Failed to persist write");n.reject(i)}}async function bL(t,e){const n=Ee(t);try{const s=await yse(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?fe(a.hu,14607):r.removedDocuments.size>0&&(fe(a.hu,42227),a.hu=!1))}),await Sm(n,s,e)}catch(s){await kl(s)}}function dj(t,e,n){const s=Ee(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=Ee(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(l)&&(u=!0)}),u&&uS(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ire(t,e,n){const s=Ee(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new $t(ae.comparator);a=a.insert(i,Kn.newNoDocument(i,ve.min()));const l=De().add(i),c=new av(ve.min(),new Map,new $t(Te),a,l);await bL(s,c),s.du=s.du.remove(i),s.Au.delete(e),fS(s)}else await Q1(s.localStore,e,!1).then(()=>Z1(s,e,n)).catch(kl)}async function are(t,e){const n=Ee(t),s=e.batch.batchId;try{const r=await gse(n.localStore,e);_L(n,s,null),wL(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Sm(n,r)}catch(r){await kl(r)}}async function ore(t,e,n){const s=Ee(t);try{const r=await function(a,l){const c=Ee(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(fe(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);_L(s,e,n),wL(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Sm(s,r)}catch(r){await kl(r)}}function wL(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _L(t,e,n){const s=Ee(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function Z1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||TL(t,s)})}function TL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(nS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fS(t))}function hj(t,e,n){for(const s of n)s instanceof yL?(t.Ru.addReference(s.key,e),lre(t,s)):s instanceof vL?(X(hS,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||TL(t,s.key)):oe(19791,{wu:s})}function lre(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(X(hS,"New document in limbo: "+n),t.Eu.add(s),fS(t))}function fS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(lt.fromString(e)),s=t.fu.next();t.Au.set(s,new Xse(n)),t.du=t.du.insert(n,s),dL(t.remoteStore,new hi(Js(bm(n.path)),s,"TargetPurposeLimboResolution",Ys.ce))}}async function Sm(t,e,n){const s=Ee(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){r.push(u);const h=eS.As(c.targetId,u);i.push(h)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,u){const d=Ee(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(u,m=>F.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>F.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!co(h))throw h;X(tS,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const g=d.Ms.get(m),x=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(m,y)}}}(s.localStore,i))}async function cre(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){X(hS,"User change. New user:",e.toKey());const s=await aL(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new J(G.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sm(n,s.Ls)}}function ure(t,e){const n=Ee(t),s=n.Au.get(e);if(s&&s.hu)return De().add(s.key);{let r=De();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function EL(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ure.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ire.bind(null,e),e.Pu.H_=Kse.bind(null,e.eventManager),e.Pu.yu=Wse.bind(null,e.eventManager),e}function SL(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=are.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ore.bind(null,e),e}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iL(this.persistence,new rL,e.initialUser,this.serializer)}Cu(e){return new JE(cv.mi,this.serializer)}Du(e){return new lL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class dre extends Pf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof O0,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new JE(s=>O0.mi(s,n),this.serializer)}}class hre extends Pf{constructor(e,n,s){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await SL(this.xu.syncEngine),await Em(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return iL(this.persistence,new rL,e.initialUser,this.serializer)}Fu(e,n){const s=this.persistence.referenceDelegate.garbageCollector;return new Z6(s,e.asyncQueue,n)}Mu(e,n){const s=new bte(n,this.persistence);return new xte(e.asyncQueue,s)}Cu(e){const n=hse(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new ZE(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Nse(),pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new lL}}class L0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dj(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cre.bind(null,this.syncEngine),await qse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gse}()}createDatastore(e){const n=uv(e.databaseInfo.databaseId),s=function(i){return new Ase(i)}(e.databaseInfo);return function(i,a,l,c){return new jse(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new kse(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>dj(this.syncEngine,n,0),function(){return ij.v()?new ij:new _se}())}createSyncEngine(e,n){return function(r,i,a,l,c,u,d){const h=new Jse(r,i,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=Ee(r);X(hl,"RemoteStore shutting down."),i.Ea.add(5),await Tm(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}L0.provider={build:()=>new L0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="FirestoreClient";class fre{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Bn.UNAUTHENTICATED,this.clientId=jE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{X(Xa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(X(Xa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=oS(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _b(t,e){t.asyncQueue.verifyOperationInProgress(),X(Xa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await aL(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mre(t);X(Xa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>oj(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>oj(e.remoteStore,r)),t._onlineComponents=e}async function mre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Xa,"Using user provided OfflineComponentProvider");try{await _b(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;xu("Error using user provided cache. Falling back to memory cache: "+n),await _b(t,new Pf)}}else X(Xa,"Using default OfflineComponentProvider"),await _b(t,new dre(void 0));return t._offlineComponents}async function AL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Xa,"Using user provided OnlineComponentProvider"),await fj(t,t._uninitializedComponentsProvider._online)):(X(Xa,"Using default OnlineComponentProvider"),await fj(t,new L0))),t._onlineComponents}function pre(t){return AL(t).then(e=>e.syncEngine)}async function U0(t){const e=await AL(t),n=e.eventManager;return n.onListen=Zse.bind(null,e.syncEngine),n.onUnlisten=nre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ere.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sre.bind(null,e.syncEngine),n}function gre(t,e,n={}){const s=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new mS({next:m=>{d.Nu(),a.enqueueAndForget(()=>cS(i,h));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new J(G.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new J(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new dS(bm(l.path),d,{includeMetadataChanges:!0,qa:!0});return lS(i,h)}(await U0(t),t.asyncQueue,e,n,s)),s.promise}function yre(t,e,n={}){const s=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new mS({next:m=>{d.Nu(),a.enqueueAndForget(()=>cS(i,h)),m.fromCache&&c.source==="server"?u.reject(new J(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new dS(l,d,{includeMetadataChanges:!0,qa:!0});return lS(i,h)}(await U0(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre="firestore.googleapis.com",pj=!0;let gj=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vre,this.ssl=pj}else this.host=e.host,this.ssl=e.ssl??pj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J6)throw new J(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NL(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class pS{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ate;switch(s.type){case"firstParty":return new cte(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new J(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mj.get(n);s&&(X("ComponentProvider","Removing Datastore"),mj.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=class IL{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new IL(this.firestore,e,this._query)}},Nn=class ih{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ih(this.firestore,e,this._key)}toJSON(){return{type:ih._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gm(n,ih._jsonSchema))return new ih(e,s||null,new ae(lt.fromString(n.referencePath)))}};Nn._jsonSchemaVersion="firestore/documentReference/1.0",Nn._jsonSchema={type:tn("string",Nn._jsonSchemaVersion),referencePath:tn("string")};let Kc=class CL extends Am{constructor(e,n,s){super(e,n,bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ae(e))}withConverter(e){return new CL(this.firestore,e,this._path)}};function rt(t,e,...n){if(t=it(t),k5("collection","path",e),t instanceof pS){const s=lt.fromString(e,...n);return aR(s),new Kc(t,null,s)}{if(!(t instanceof Nn||t instanceof Kc))throw new J(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return aR(s),new Kc(t.firestore,null,s)}}function Ke(t,e,...n){if(t=it(t),arguments.length===1&&(e=jE.newId()),k5("doc","path",e),t instanceof pS){const s=lt.fromString(e,...n);return iR(s),new Nn(t,null,new ae(s))}{if(!(t instanceof Nn||t instanceof Kc))throw new J(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return iR(s),new Nn(t.firestore,t instanceof Kc?t.converter:null,new ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="AsyncQueue";class vj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cL(this,"async_queue_retry"),this._c=()=>{const s=pg();s&&X(yj,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;X(yj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,$n("INTERNAL UNHANDLED ERROR: ",xj(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=aS.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&oe(47125,{Pc:xj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}let Br=class extends pS{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new vj,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vj(e),this._firestoreClient=void 0,await e}}};function xre(t,e,n){n||(n=N0);const s=Li(t,"firestore");if(s.isInitialized(n)){const r=s.getImmediate({identifier:n}),i=s.getOptions(n);if(Ni(i,e))return r;throw new J(G.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new J(G.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J6)throw new J(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Vi(e.host)&&zy(e.host),s.initialize({options:e,instanceIdentifier:n})}function hv(t){if(t._terminated)throw new J(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RL(t),t._firestoreClient}function RL(t){var s,r,i;const e=t._freezeSettings(),n=function(l,c,u,d){return new Yte(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NL(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fre(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function bre(t,e){xu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return wre(t,L0.provider,{build:s=>new hre(s,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function wre(t,e,n){if((t=ls(t,Br))._firestoreClient||t._terminated)throw new J(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new J(G.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},RL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Cn.fromBase64String(e))}catch(n){throw new J(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hc(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gm(e,hc._jsonSchema))return hc.fromBase64String(e.bytes)}};Wc._jsonSchemaVersion="firestore/bytes/1.0",Wc._jsonSchema={type:tn("string",Wc._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=class gg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gg._jsonSchemaVersion}}static fromJSON(e){if(gm(e,gg._jsonSchema))return new gg(e.latitude,e.longitude)}};Yc._jsonSchemaVersion="firestore/geoPoint/1.0",Yc._jsonSchema={type:tn("string",Yc._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=class yg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gm(e,yg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yg(e.vectorValues);throw new J(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Qc._jsonSchemaVersion="firestore/vectorValue/1.0",Qc._jsonSchema={type:tn("string",Qc._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=/^__.*__$/;class Tre{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nd(e,this.data,n,this.fieldTransforms)}}class jL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}let Ere=class kL{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kL({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return F0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PL(this.Ac)&&_re.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},Sre=class{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uv(e)}Cc(e,n,s,r=!1){return new Ere({Ac:e,methodName:n,Dc:s,path:An.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mv(t){const e=t._freezeSettings(),n=uv(t._databaseId);return new Sre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DL(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);vS("Data must be an object, but it was:",a,s);const l=ML(s,a);let c,u;if(i.merge)c=new as(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=e_(e,h,n);if(!a.contains(m))throw new J(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VL(d,m)||d.push(m)}c=new as(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new Tre(new vs(l),c,u)}class pv extends Nm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pv}}class gS extends Nm{_toFieldTransform(e){return new $E(e.path,new Cu)}isEqual(e){return e instanceof gS}}class yS extends Nm{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Pu(e.serializer,w6(e.serializer,this.Fc));return new $E(e.path,n)}isEqual(e){return e instanceof yS&&this.Fc===e.Fc}}function Are(t,e,n,s){const r=t.Cc(1,e,n);vS("Data must be an object, but it was:",r,s);const i=[],a=vs.empty();uo(s,(c,u)=>{const d=xS(e,c,n);u=it(u);const h=r.yc(d);if(u instanceof pv)i.push(d);else{const m=Im(u,h);m!=null&&(i.push(d),a.set(d,m))}});const l=new as(i);return new jL(a,l,r.fieldTransforms)}function Nre(t,e,n,s,r,i){const a=t.Cc(1,e,n),l=[e_(e,s,n)],c=[r];if(i.length%2!=0)throw new J(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(e_(e,i[m])),c.push(i[m+1]);const u=[],d=vs.empty();for(let m=l.length-1;m>=0;--m)if(!VL(u,l[m])){const g=l[m];let x=c[m];x=it(x);const y=a.yc(g);if(x instanceof pv)u.push(g);else{const w=Im(x,y);w!=null&&(u.push(g),d.set(g,w))}}const h=new as(u);return new jL(d,h,a.fieldTransforms)}function Ire(t,e,n,s=!1){return Im(n,t.Cc(s?4:3,e))}function Im(t,e){if(OL(t=it(t)))return vS("Unsupported field value:",e,t),ML(t,e);if(t instanceof Nm)return function(s,r){if(!PL(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=Im(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=it(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w6(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Rt.fromDate(s);return{timestampValue:ku(r.serializer,i)}}if(s instanceof Rt){const i=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ku(r.serializer,i)}}if(s instanceof Yc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wc)return{bytesValue:P6(r.serializer,s._byteString)};if(s instanceof Nn){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WE(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Qc)return function(a,l){return{mapValue:{fields:{[UE]:{stringValue:FE},[Su]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return BE(l.serializer,u)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Ky(s)}`)}(t,e)}function ML(t,e){const n={};return Y5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(s,r)=>{const i=Im(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function OL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Yc||t instanceof Wc||t instanceof Nn||t instanceof Nm||t instanceof Qc)}function vS(t,e,n){if(!OL(n)||!D5(n)){const s=Ky(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function e_(t,e,n){if((e=it(e))instanceof fv)return e._internalPath;if(typeof e=="string")return xS(t,e);throw F0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cre=new RegExp("[~\\*/\\[\\]]");function xS(t,e,n){if(e.search(Cre)>=0)throw F0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fv(...e.split("."))._internalPath}catch{throw F0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function F0(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new J(G.INVALID_ARGUMENT,l+t+c)}function VL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Rre extends LL{data(){return super.data()}}function bS(t,e){return typeof e=="string"?xS(t,e):e instanceof fv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let wS=class{},jre=class extends wS{};function xs(t,e,...n){let s=[];e instanceof wS&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof Pre).length,l=i.filter(c=>c instanceof FL).length;if(a>1||a>0&&l>0)throw new J(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}let FL=class zL extends jre{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zL(e,n,s)}_apply(e){const n=this._parse(e);return $L(e._query,n),new Am(e.firestore,e.converter,z1(e._query,n))}_parse(e){const n=mv(e.firestore);return function(i,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_j(h,d);const x=[];for(const y of h)x.push(wj(c,i,y));m={arrayValue:{values:x}}}else m=wj(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_j(h,d),m=Ire(l,a,h,d==="in"||d==="not-in");return He.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Gs(t,e,n){const s=e,r=bS("where",t);return FL._create(r,s,n)}let Pre=class BL extends wS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new BL(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ct.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)$L(a,c),a=z1(a,c)}(e._query,n),new Am(e.firestore,e.converter,z1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function wj(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new J(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m6(e)&&n.indexOf("/")!==-1)throw new J(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!ae.isDocumentKey(s))throw new J(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rf(t,new ae(s))}if(n instanceof Nn)return Rf(t,n._key);throw new J(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ky(n)}.`)}function _j(t,e){if(!Array.isArray(t)||t.length===0)throw new J(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $L(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}let kre=class{convertValue(e,n="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return uo(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Su].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>At(a.doubleValue));return new Qc(n)}convertGeoPoint(e){return new Yc(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zy(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(If(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);fe(B6(s),9688,{name:e});const r=new ev(s.get(1),s.get(3)),i=new ae(s.popFirst(5));return r.isEqual(n)||$n(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Lh=class HL extends LL{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=HL._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Lh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lh._jsonSchema={type:tn("string",Lh._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};let vg=class extends Lh{data(e={}){return super.data(e)}},Uh=class GL{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ah(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new vg(this._firestore,this._userDataWriter,s.key,s,new ah(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new vg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ah(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new vg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ah(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:Dre(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=GL._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Dre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){t=ls(t,Nn);const e=ls(t.firestore,Br);return gre(hv(e),t._key).then(n=>KL(e,t,n))}Uh._jsonSchemaVersion="firestore/querySnapshot/1.0",Uh._jsonSchema={type:tn("string",Uh._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class _S extends kre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function gv(t){t=ls(t,Am);const e=ls(t.firestore,Br),n=hv(e),s=new _S(e);return UL(t._query),yre(n,t._query).then(r=>new Uh(e,s,t,r))}function Ml(t,e,n){t=ls(t,Nn);const s=ls(t.firestore,Br),r=qL(t.converter,e,n);return yv(s,[DL(mv(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,On.none())])}function Ja(t,e,n,...s){t=ls(t,Nn);const r=ls(t.firestore,Br),i=mv(r);let a;return a=typeof(e=it(e))=="string"||e instanceof fv?Nre(i,"updateDoc",t._key,e,n,s):Are(i,"updateDoc",t._key,e),yv(r,[a.toMutation(t._key,On.exists(!0))])}function TS(t){return yv(ls(t.firestore,Br),[new iv(t._key,On.none())])}function Mu(t,e){const n=ls(t.firestore,Br),s=Ke(t),r=qL(t.converter,e);return yv(n,[DL(mv(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then(()=>s)}function Ft(t,...e){var c,u,d;t=it(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||bj(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bj(e[s])){const h=e[s];e[s]=(c=h.next)==null?void 0:c.bind(h),e[s+1]=(u=h.error)==null?void 0:u.bind(h),e[s+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,a,l;if(t instanceof Nn)a=ls(t.firestore,Br),l=bm(t._key.path),i={next:h=>{e[s]&&e[s](KL(a,t,h))},error:e[s+1],complete:e[s+2]};else{const h=ls(t,Am);a=ls(h.firestore,Br),l=h._query;const m=new _S(a);i={next:g=>{e[s]&&e[s](new Uh(a,m,h,g))},error:e[s+1],complete:e[s+2]},UL(t._query)}return function(m,g,x,y){const w=new mS(y),v=new dS(g,w,x);return m.asyncQueue.enqueueAndForget(async()=>lS(await U0(m),v)),()=>{w.Nu(),m.asyncQueue.enqueueAndForget(async()=>cS(await U0(m),v))}}(hv(a),l,r,i)}function yv(t,e){return function(s,r){const i=new Vr;return s.asyncQueue.enqueueAndForget(async()=>rre(await pre(s),r,i)),i.promise}(hv(t),e)}function KL(t,e,n){const s=n.docs.get(e._key),r=new _S(t);return new Lh(t,r,e._key,s,new ah(n.hasPendingWrites,n.fromCache),e.converter)}function kf(){return new gS("serverTimestamp")}function Tj(t){return new yS("increment",t)}(function(e,n=!0){(function(r){td=r})(oo),nr(new ks("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new Br(new ote(s.getProvider("auth-internal")),new ute(a,s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ev(u.options.projectId,d)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Vn(tR,nR,e),Vn(tR,nR,"esm2020")})();const Ej="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new dm("@firebase/firestore");function z0(t,...e){if(Ou.logLevel<=Pe.DEBUG){const n=e.map(SS);Ou.debug(`Firestore (${rd}): ${t}`,...n)}}function ES(t,...e){if(Ou.logLevel<=Pe.ERROR){const n=e.map(SS);Ou.error(`Firestore (${rd}): ${t}`,...n)}}function WL(t,...e){if(Ou.logLevel<=Pe.WARN){const n=e.map(SS);Ou.warn(`Firestore (${rd}): ${t}`,...n)}}function SS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YL(t,s,n)}function YL(t,e,n){let s=`FIRESTORE (${rd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ES(s),new Error(s)}function Za(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||YL(e,r,s)}function AS(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="ok",Mre="cancelled",Fh="unknown",Ie="invalid-argument",Ore="deadline-exceeded",Vre="not-found",Lre="permission-denied",t_="unauthenticated",Ure="resource-exhausted",Vu="failed-precondition",Fre="aborted",zre="out-of-range",QL="unimplemented",Bre="internal",$re="unavailable";class pe extends Ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rs.UNAUTHENTICATED))}shutdown(){}}class Hre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gre{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Za(typeof e.accessToken=="string",42297,{t:e}),new XL(e.accessToken,new rs(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class Kre{constructor(e,n,s){this.i=e,this.o=n,this.u=s,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.l=new Map}h(){return this.u?this.u():null}get headers(){this.l.set("X-Goog-AuthUser",this.i);const e=this.h();return e&&this.l.set("Authorization",e),this.o&&this.l.set("X-Goog-Iam-Authorization-Token",this.o),this.l}}class Wre{constructor(e,n,s){this.i=e,this.o=n,this.u=s}getToken(){return Promise.resolve(new Kre(this.i,this.o,this.u))}start(e,n){e.enqueueRetryable(()=>n(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yre{constructor(e,n){this.m=n,this.appCheck=null,this.T=null,is(e)&&e.settings.appCheckToken&&(this.T=e.settings.appCheckToken),n.onInit(s=>{this.appCheck=s})}getToken(){return this.T?Promise.resolve(new Aj(this.T)):this.appCheck?this.appCheck.getToken().then(e=>e?(Za(typeof e.token=="string",3470,{tokenResult:e}),new Aj(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e,n,s,r,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const n_="(default)";class Df{constructor(e,n){this.projectId=e,this.database=n||n_}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===n_}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}function Qt(t,e){return t<e?-1:t>e?1:0}function s_(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Tb(r)===Tb(i)?Qt(r,i):Tb(r)?1:-1}return Qt(t.length,e.length)}const Xre=55296,Jre=57343;function Tb(t){const e=t.charCodeAt(0);return e>=Xre&&e<=Jre}function Zre(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="__name__";class _r{constructor(e,n,s){n===void 0?n=0:n>e.length&&pn(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&pn(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=_r.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Qt(e.length,n.length)}static compareSegments(e,n){const s=_r.isNumericId(e),r=_r.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?_r.extractNumericId(e).compare(_r.extractNumericId(n)):s_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class wn extends _r{construct(e,n,s){return new wn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(Ie,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new wn(n)}static emptyPath(){return new wn([])}}const eie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ks extends _r{construct(e,n,s){return new Ks(e,n,s)}static isValidIdentifier(e){return eie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ks.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nj}static keyField(){return new Ks([Nj])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new pe(Ie,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new pe(Ie,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(Ie,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new pe(Ie,"Unterminated ` in path: "+e);return new Ks(n)}static emptyPath(){return new Ks([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.path=e}static fromPath(e){return new Hn(wn.fromString(e))}static fromName(e){return new Hn(wn.fromString(e).popFirst(5))}static empty(){return new Hn(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hn(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tie(t,e,n){if(!n)throw new pe(Ie,`Function ${t}() cannot be called with an empty ${e}.`)}function Ij(t){if(Hn.isDocumentKey(t))throw new pe(Ie,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pn(12329,{type:typeof t})}function ZL(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Ie,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vv(t);throw new pe(Ie,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep=null;function nie(){return Ep===null?Ep=function(){return 268435456+Math.round(2147483648*Math.random())}():Ep++,"0x"+Ep.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(t){return t==null}function B0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="RestConnection",rie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iie{get P(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.A=n+"://"+e.host,this.R=`projects/${s}/databases/${r}`,this.V=this.databaseId.database===n_?`project_id=${s}`:`project_id=${s}&database_id=${r}`}I(e,n,s,r,i){const a=nie(),l=this.p(e,n.toUriEncodedString());z0(Eb,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.R,"x-goog-request-params":this.V};this.F(c,r,i);const{host:u}=new URL(l),d=Vi(u);return this.v(e,l,c,s,d).then(h=>(z0(Eb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw WL(Eb,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}D(e,n,s,r,i,a){return this.I(e,n,s,r,i)}F(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}p(e,n){const s=rie[e];return`${this.A}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cj,qe;function Rj(t){if(t===void 0)return ES("RPC_ERROR","HTTP error has no status"),Fh;switch(t){case 200:return Sj;case 400:return Vu;case 401:return t_;case 403:return Lre;case 404:return Vre;case 409:return Fre;case 416:return zre;case 429:return Ure;case 499:return Mre;case 500:return Fh;case 501:return QL;case 503:return $re;case 504:return Ore;default:return t>=200&&t<300?Sj:t>=400&&t<500?Vu:t>=500&&t<600?Bre:Fh}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(qe=Cj||(Cj={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";class aie extends iie{S(e,n){throw new Error("Not supported by FetchConnection")}async v(e,n,s,r,i){var c;const a=JSON.stringify(r);let l;try{const u={method:"POST",headers:s,body:a};i&&(u.credentials="include"),l=await fetch(n,u)}catch(u){const d=u;throw new pe(Rj(d.status),"Request failed with error: "+d.statusText)}if(!l.ok){let u=await l.json();Array.isArray(u)&&(u=u[0]);const d=(c=u==null?void 0:u.error)==null?void 0:c.message;throw new pe(Rj(l.status),`Request failed with error: ${d??l.statusText}`)}return l.json()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xv(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oie("Invalid base64 string: "+i):i}}(e);return new Pi(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const lie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(Za(!!t,39018),typeof t=="string"){let e=0;const n=lie.exec(t);if(Za(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mf(t){return typeof t=="string"?Pi.fromBase64String(t):Pi.fromUint8Array(t)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cm(t,e){if(!JL(t))throw new pe(Ie,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new pe(Ie,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=-62135596800,kj=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kj);return new rn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Ie,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Ie,"Timestamp nanoseconds out of range: "+n);if(e<Pj)throw new pe(Ie,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Ie,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kj}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cm(e,rn._jsonSchema))return new rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rn._jsonSchemaVersion="firestore/timestamp/1.0",rn._jsonSchema={type:Zs("string",rn._jsonSchemaVersion),seconds:Zs("number"),nanoseconds:Zs("number")};function t3(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{}).__type__)==null?void 0:s.stringValue)==="server_timestamp"}function n3(t){const e=t.mapValue.fields.__previous_value__;return t3(e)?n3(e):e}function Of(t){const e=fl(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="__type__",r3="__max__",Sp={fields:{__type__:{stringValue:r3}}},i3="__vector__",$0="value";function ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t3(t)?4:function(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===r3}(t)?9007199254740991:function(n){var r,i;return((i=(((r=n==null?void 0:n.mapValue)==null?void 0:r.fields)||{})[s3])==null?void 0:i.stringValue)===i3}(t)?10:11:pn(28295,{value:t})}function q0(t,e){if(t===e)return!0;const n=ml(t);if(n!==ml(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Of(t).isEqual(Of(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=fl(r.timestampValue),l=fl(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Mf(r.bytesValue).isEqual(Mf(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xt(r.geoPointValue.latitude)===Xt(i.geoPointValue.latitude)&&Xt(r.geoPointValue.longitude)===Xt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xt(r.integerValue)===Xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Xt(r.doubleValue),l=Xt(i.doubleValue);return a===l?B0(a)===B0(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Zre(t.arrayValue.values||[],e.arrayValue.values||[],q0);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(jj(a)!==jj(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!q0(a[c],l[c])))return!1;return!0}(t,e);default:return pn(52216,{left:t})}}function Vf(t,e){return(t.values||[]).find(n=>q0(n,e))!==void 0}function H0(t,e){if(t===e)return 0;const n=ml(t),s=ml(e);if(n!==s)return Qt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Xt(i.integerValue||i.doubleValue),c=Xt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Dj(t.timestampValue,e.timestampValue);case 4:return Dj(Of(t),Of(e));case 5:return s_(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Mf(i),c=Mf(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Qt(l[u],c[u]);if(d!==0)return d}return Qt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Qt(Xt(i.latitude),Xt(a.latitude));return l!==0?l:Qt(Xt(i.longitude),Xt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mj(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,g,x,y;const l=i.fields||{},c=a.fields||{},u=(m=l[$0])==null?void 0:m.arrayValue,d=(g=c[$0])==null?void 0:g.arrayValue,h=Qt(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:Mj(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Sp&&a===Sp)return 0;if(i===Sp)return 1;if(a===Sp)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=s_(c[h],d[h]);if(m!==0)return m;const g=H0(l[c[h]],u[d[h]]);if(g!==0)return g}return Qt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw pn(23264,{C:n})}}function Dj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=fl(t),s=fl(e),r=Qt(n.seconds,s.seconds);return r!==0?r:Qt(n.nanos,s.nanos)}function Mj(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=H0(n[r],s[r]);if(i)return i}return Qt(n.length,s.length)}function Oj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function a3(t){return!!t&&"arrayValue"in t}function Vj(t){return!!t&&"nullValue"in t}function Lj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sb(t){return!!t&&"mapValue"in t}function zh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xv(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=zh(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zh(t.arrayValue.values[n]);return e}return{...t}}class Uj{constructor(e,n){this.position=e,this.inclusive=n}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{}class yr extends o3{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cie(e,n,s):n==="array-contains"?new hie(e,s):n==="in"?new fie(e,s):n==="not-in"?new mie(e,s):n==="array-contains-any"?new pie(e,s):new yr(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uie(e,s):new die(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(H0(n,this.value)):n!==null&&ml(this.value)===ml(n)&&this.matchesComparison(H0(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rm extends o3{constructor(e,n){super(),this.filters=e,this.op=n,this.N=null}static create(e,n){return new Rm(e,n)}matches(e){return function(s){return s.op==="and"}(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.N!==null||(this.N=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.N}getFilters(){return Object.assign([],this.filters)}}class cie extends yr{constructor(e,n,s){super(e,n,s),this.key=Hn.fromName(s.referenceValue)}matches(e){const n=Hn.comparator(e.key,this.key);return this.matchesComparison(n)}}class uie extends yr{constructor(e,n){super(e,"in",n),this.keys=l3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class die extends yr{constructor(e,n){super(e,"not-in",n),this.keys=l3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function l3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Hn.fromName(s.referenceValue))}class hie extends yr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a3(n)&&Vf(n.arrayValue,this.value)}}class fie extends yr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vf(this.value.arrayValue,n)}}class mie extends yr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vf(this.value.arrayValue,n)}}class pie extends yr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a3(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Vf(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n="asc"){this.field=e,this.dir=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{static fromTimestamp(e){return new kn(e)}static min(){return new kn(new rn(0,0))}static max(){return new kn(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new G0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new G0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??bn.RED,this.left=r??bn.EMPTY,this.right=i??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new bn(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return bn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pn(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw pn(57766)}get value(){throw pn(16141)}get color(){throw pn(16727)}get left(){throw pn(29726)}get right(){throw pn(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.comparator=e,this.data=new G0(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fj(this.data.getIterator())}getIteratorFrom(e){return new Fj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof K0)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new K0(this.comparator);return n.data=e,n}}class Fj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(n)}setAll(e){let n=Ks.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=zh(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Sb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return q0(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Sb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){xv(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new ai(zh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new oa(e,0,kn.min(),kn.min(),kn.min(),ai.empty(),0)}static newFoundDocument(e,n,s,r){return new oa(e,1,n,kn.min(),s,r,0)}static newNoDocument(e,n){return new oa(e,2,n,kn.min(),kn.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new oa(e,3,n,kn.min(),kn.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(kn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.O=null}}function zj(t,e=null,n=[],s=[],r=null,i=null,a=null){return new gie(t,e,n,s,r,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.q=null,this.B=null,this.$=null,this.startAt,this.endAt}}function yie(t){return t.collectionGroup!==null}function vie(t){const e=AS(t);if(e.q===null){e.q=[];const n=new Set;for(const i of e.explicitOrderBy)e.q.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new K0(Ks.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.q.push(new r_(i,s))}),n.has(Ks.keyField().canonicalString())||e.q.push(new r_(Ks.keyField(),s))}return e.q}function xie(t){const e=AS(t);return e.B||(e.B=bie(e,vie(t))),e.B}function bie(t,e){if(t.limitType==="F")return zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new r_(r.field,i)});const n=t.endAt?new Uj(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Uj(t.startAt.position,t.startAt.inclusive):null;return zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function i_(t,e){const n=t.filters.concat([e]);return new c3(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(e)?"-0":e}}function wie(t,e){return function(s){return typeof s=="number"&&Number.isInteger(s)&&!B0(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?function(s){return{integerValue:""+s}}(e):u3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Tie=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Eie=(()=>({and:"AND",or:"OR"}))();class Sie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bj(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aie(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $j(t){return Za(!!t,49232),kn.fromTimestamp(function(n){const s=fl(n);return new rn(s.seconds,s.nanos)}(t))}function d3(t,e){return a_(t,e).canonicalString()}function a_(t,e){const n=function(r){return new wn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Nie(t,e){const n=function(r){const i=wn.fromString(r);return Za(f3(i),10190,{key:i.toString()}),i}(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Ie,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Ie,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Hn(function(r){return Za(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}(n))}function Iie(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=function(u,d){return d3(u.databaseId,d)}(t,r);const i=function(u){if(u.length!==0)return h3(Rm.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:fc(m.field),direction:Cie(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(u,d){return u.useProto3Json||sie(d)?d:{value:d}}(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{M:n,parent:r}}function Cie(t){return _ie[t]}function Rie(t){return Tie[t]}function jie(t){return Eie[t]}function fc(t){return{fieldPath:t.canonicalString()}}function h3(t){return t instanceof yr?function(n){if(n.op==="=="){if(Lj(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(Vj(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lj(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(Vj(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:Rie(n.op),value:n.value}}}(t):t instanceof Rm?function(n){const s=n.getFilters().map(r=>h3(r));return s.length===1?s[0]:{compositeFilter:{op:jie(n.op),filters:s}}}(t):pn(54877,{filter:t})}function f3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){return new Sie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{}class kie extends Pie{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.et=!1}rt(){if(this.et)throw new pe(Vu,"The client has already been terminated.")}I(e,n,s,r){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.I(e,a_(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===t_&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(Fh,i.toString())})}D(e,n,s,r,i){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.D(e,a_(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===t_&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Fh,a.toString())})}terminate(){this.et=!0,this.connection.terminate()}}async function Die(t,e){const n=AS(t),{M:s,parent:r}=Iie(n.serializer,xie(e));return(await n.D("RunQuery",n.serializer.databaseId,r,{structuredQuery:s.structuredQuery})).filter(i=>!!i.document).map(i=>function(l,c,u){const d=Nie(l,c.name),h=$j(c.updateTime),m=c.createTime?$j(c.createTime):kn.min(),g=new ai({mapValue:{fields:c.fields}}),x=oa.newFoundDocument(d,h,m,g);return u&&x.setHasCommittedMutations(),u?x.setHasCommittedMutations():x}(n.serializer,i.document,void 0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="ComponentProvider",Bh=new Map;function Mie(t){if(t._terminated)throw new pe(Vu,"The client has already been terminated.");if(!Bh.has(t)){z0(m3,"Initializing Datastore");const e=function(i){return new aie(i)}(function(i,a,l,c){return new Qre(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,e3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t.app.options.appId||"",t._persistenceKey,t._freezeSettings())),n=NS(t._databaseId),s=function(i,a,l,c){return new kie(i,a,l,c)}(t._authCredentials,t._appCheckCredentials,e,n);Bh.set(t,s)}return Bh.get(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=1048576,p3="firestore.googleapis.com",qj=!0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Ie,"Can't provide ssl option if host option is not set");this.host=p3,this.ssl=qj}else this.host=e.host,this.ssl=e.ssl??qj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Oie)throw new pe(Ie,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,r,i,a){if(r===!0&&a===!0)throw new pe(Ie,`${s} and ${i} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e3(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(Ie,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(Ie,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(Ie,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class IS{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Vu,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Vu,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qre;switch(s.type){case"firstParty":return new Wre(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(Ie,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Bh.get(n);s&&(z0(m3,"Removing Datastore"),Bh.delete(n),s.terminate())}(this),Promise.resolve()}}function Vie(t,e){const n=typeof t=="object"?t:$y(),s=typeof t=="string"?t:e||"(default)",r=Li(n,"firestore/lite").getImmediate({identifier:s});if(!r._initialized){const i=C4("firestore");i&&Lie(r,...i)}return r}function Lie(t,e,n,s={}){var u;t=ZL(t,IS);const r=Vi(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(zy(`https://${l}`),yE("Firestore",!0)),i.host!==p3&&i.host!==l&&WL("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!Ni(c,a)&&(t._setSettings(c),s.mockUserToken)){let d,h;if(typeof s.mockUserToken=="string")d=s.mockUserToken,h=rs.MOCK_USER;else{d=P4(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new pe(Ie,"mockUserToken must contain 'sub' or 'user_id' field!");h=new rs(m)}t._authCredentials=new Hre(new XL(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new id(this.firestore,e,this._query)}}class Gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}toJSON(){return{type:Gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cm(n,Gn._jsonSchema))return new Gn(e,s||null,new Hn(wn.fromString(n.referencePath)))}}Gn._jsonSchemaVersion="firestore/documentReference/1.0",Gn._jsonSchema={type:Zs("string",Gn._jsonSchemaVersion),referencePath:Zs("string")};class Xc extends id{constructor(e,n,s){super(e,n,function(i){return new c3(i)}(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Hn(e))}withConverter(e){return new Xc(this.firestore,e,this._path)}}function g3(t,e,...n){if(t=it(t),tie("collection","path",e),t instanceof IS){const s=wn.fromString(e,...n);return Ij(s),new Xc(t,null,s)}{if(!(t instanceof Gn||t instanceof Xc))throw new pe(Ie,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(wn.fromString(e,...n));return Ij(s),new Xc(t.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Pi.fromBase64String(e))}catch(n){throw new pe(Ie,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cm(e,Ws._jsonSchema))return Ws.fromBase64String(e.bytes)}}Ws._jsonSchemaVersion="firestore/bytes/1.0",Ws._jsonSchema={type:Zs("string",Ws._jsonSchemaVersion),bytes:Zs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Ie,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ks(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Ie,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Ie,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(Cm(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Zs("string",Lr._jsonSchemaVersion),latitude:Zs("number"),longitude:Zs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cm(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ur(e.vectorValues);throw new pe(Ie,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Zs("string",Ur._jsonSchemaVersion),vectorValues:Zs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uie=/^__.*__$/;function x3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pn(40011,{it:t})}}class CS{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.st(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get it(){return this.settings.it}ot(e){return new CS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ut(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.ot({path:n,_t:!1});return s.ct(e),s}lt(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.ot({path:n,_t:!1});return s.st(),s}ht(e){return this.ot({path:void 0,_t:!0})}ft(e){return o_(e,this.settings.methodName,this.settings.dt||!1,this.path,this.settings.Et)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}st(){if(this.path)for(let e=0;e<this.path.length;e++)this.ct(this.path.get(e))}ct(e){if(e.length===0)throw this.ft("Document fields must not be empty");if(x3(this.it)&&Uie.test(e))throw this.ft('Document fields cannot begin and end with "__"')}}class Fie{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||NS(e)}Tt(e,n,s,r=!1){return new CS({it:e,methodName:n,Et:s,path:Ks.emptyPath(),_t:!1,dt:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zie(t){const e=t._freezeSettings(),n=NS(t._databaseId);return new Fie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bie(t,e,n,s=!1){return RS(n,t.Tt(s?4:3,e))}function RS(t,e){if(b3(t=it(t)))return qie("Unsupported field value:",e,t),$ie(t,e);if(t instanceof v3)return function(s,r){if(!x3(r.it))throw r.ft(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ft(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings._t&&e.it!==4)throw e.ft("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=RS(l,r.ht(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=it(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wie(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=rn.fromDate(s);return{timestampValue:Bj(r.serializer,i)}}if(s instanceof rn){const i=new rn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bj(r.serializer,i)}}if(s instanceof Lr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:Aie(r.serializer,s._byteString)};if(s instanceof Gn){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.ft(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:d3(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Ur)return function(a,l){return{mapValue:{fields:{[s3]:{stringValue:i3},[$0]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.ft("VectorValues must only contain numeric values.");return u3(l.serializer,u)})}}}}}}(s,r);throw r.ft(`Unsupported field value: ${vv(s)}`)}(t,e)}function $ie(t,e){const n={};return function(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xv(t,(s,r)=>{const i=RS(r,e.ut(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function b3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Lr||t instanceof Ws||t instanceof Gn||t instanceof v3||t instanceof Ur)}function qie(t,e,n){if(!b3(n)||!JL(n)){const s=vv(n);throw s==="an object"?e.ft(t+" a custom object"):e.ft(t+" "+s)}}const Hie=new RegExp("[~\\*/\\[\\]]");function Gie(t,e,n){if(e.search(Hie)>=0)throw o_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new y3(...e.split("."))._internalPath}catch{throw o_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function o_(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new pe(Ie,l+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w3 extends Kie{data(){return super.data()}}class Wie{constructor(e,n){this._docs=n,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return this.docs.length===0}forEach(e,n){this._docs.forEach(e,n)}}function _3(t,e){return typeof e=="string"?Gie(t,e):e instanceof y3?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class Yie extends jS{}function T3(t,e,...n){let s=[];e instanceof jS&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof PS).length,l=i.filter(c=>c instanceof bv).length;if(a>1||a>0&&l>0)throw new pe(Ie,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class bv extends Yie{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new bv(e,n,s)}_apply(e){const n=this._parse(e);return S3(e._query,n),new id(e.firestore,e.converter,i_(e._query,n))}_parse(e){const n=zie(e.firestore);return function(i,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(Ie,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Kj(h,d);const x=[];for(const y of h)x.push(Gj(c,i,y));m={arrayValue:{values:x}}}else m=Gj(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Kj(h,d),m=Bie(l,a,h,d==="in"||d==="not-in");return yr.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function E3(t,e,n){const s=e,r=_3("where",t);return bv._create(r,s,n)}class PS extends jS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PS(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Rm.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)S3(a,c),a=i_(a,c)}(e._query,n),new id(e.firestore,e.converter,i_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gj(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new pe(Ie,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yie(e)&&n.indexOf("/")!==-1)throw new pe(Ie,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(wn.fromString(n));if(!Hn.isDocumentKey(s))throw new pe(Ie,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Oj(t,new Hn(s))}if(n instanceof Gn)return Oj(t,n._key);throw new pe(Ie,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vv(n)}.`)}function Kj(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Ie,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S3(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(Ie,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Ie,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qie{convertValue(e,n="none"){switch(ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xv(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[$0].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>Xt(a.doubleValue));return new Ur(n)}convertGeoPoint(e){return new Lr(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=n3(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Of(e));default:return null}}convertTimestamp(e){const n=fl(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=wn.fromString(e);Za(f3(s),9688,{name:e});const r=new Df(s.get(1),s.get(3)),i=new Hn(s.popFirst(5));return r.isEqual(n)||ES(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Xie extends Qie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function A3(t){(function(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(QL,"limitToLast() queries require specifying at least one orderBy() clause")})((t=ZL(t,id))._query);const e=Mie(t.firestore),n=new Xie(t.firestore);return Die(e,t._query).then(s=>{const r=s.map(i=>new w3(t.firestore,n,i.key,i,t.converter));return t._query.limitType==="L"&&r.reverse(),new Wie(t,r)})}(function(){(function(n){rd=n})(`${oo}_lite`),nr(new ks("firestore/lite",(e,{instanceIdentifier:n,options:s})=>{const r=e.getProvider("app").getImmediate(),i=new IS(new Gre(e.getProvider("auth-internal")),new Yre(r,e.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new pe(Ie,'"projectId" not provided in firebase.initializeApp.');return new Df(l.options.projectId,c)}(r,n),r);return s&&i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Vn("firestore-lite",Ej,""),Vn("firestore-lite",Ej,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="firebasestorage.googleapis.com",Jie="storageBucket",Zie=2*60*1e3,eae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ms{constructor(e,n,s=0){super(Ab(e),`Firebase Storage: ${n} (${Ab(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ab(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function Ab(t){return"storage/"+t}function tae(){const t="An unknown error occurred, please check the error payload for server response.";return new Wr($r.UNKNOWN,t)}function nae(){return new Wr($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sae(){return new Wr($r.CANCELED,"User canceled the upload/download.")}function rae(t){return new Wr($r.INVALID_URL,"Invalid URL '"+t+"'.")}function iae(t){return new Wr($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Wj(t){return new Wr($r.INVALID_ARGUMENT,t)}function I3(){return new Wr($r.APP_DELETED,"The Firebase app was deleted.")}function aae(t){return new Wr($r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=dr.makeFromUrl(e,n)}catch{return new dr(e,"")}if(s.path==="")return s;throw iae(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),x={bucket:1,path:3},y=n===N3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${y}/${r}/${w}`,"i"),T=[{regex:l,indices:c,postModify:i},{regex:g,indices:x,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<T.length;N++){const C=T[N],j=C.regex.exec(e);if(j){const S=j[C.indices.bucket];let E=j[C.indices.path];E||(E=""),s=new dr(S,E),C.postModify(s);break}}if(s==null)throw rae(e);return s}}class oae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(t,e,n){let s=1,r=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function h(w){r=setTimeout(()=>{r=null,t(g,c())},w)}function m(){i&&clearTimeout(i)}function g(w,...v){if(u){m();return}if(w){m(),d.call(null,w,...v);return}if(c()||a){m(),d.call(null,w,...v);return}s<64&&(s*=2);let T;l===1?(l=2,T=0):T=(s+Math.random())*1e3,h(T)}let x=!1;function y(w){x||(x=!0,m(),!u&&(r!==null?(w||(l=2),clearTimeout(r),h(0)):w||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,y(!0)},n),y}function cae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(t){return t!==void 0}function Yj(t,e,n,s){if(s<e)throw Wj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Wj(`Invalid value for '${t}'. Expected ${n} or less.`)}function dae(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var W0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(W0||(W0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hae(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(e,n,s,r,i,a,l,c,u,d,h,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,y)=>{this.resolve_=x,this.reject_=y,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Np(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===W0.NO_ERROR,c=i.getStatus();if(!l||hae(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===W0.ABORT;s(!1,new Np(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new Np(u,i))})},n=(s,r)=>{const i=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());uae(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=tae();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(r.canceled){const c=this.appDelete_?I3():sae();a(c)}else{const c=nae();a(c)}};this.canceled_?n(!1,new Np(!1,null,!0)):this.backoffId_=lae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Np{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function mae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vae(t,e,n,s,r,i,a=!0,l=!1){const c=dae(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return gae(d,e),mae(d,n),pae(d,i),yae(d,s),new fae(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bae(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this._service=e,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Y0(e,n)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bae(this._location.path)}get storage(){return this._service}get parent(){const e=xae(this._location.path);if(e===null)return null;const n=new dr(this._location.bucket,e);return new Y0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aae(e)}}function Qj(t,e){const n=e==null?void 0:e[Jie];return n==null?null:dr.makeFromBucketSpec(n,t)}function wae(t,e,n,s={}){t.host=`${e}:${n}`;const r=Vi(e);r&&(zy(`https://${t.host}/b`),yE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:P4(i,t.app.options.projectId))}class _ae{constructor(e,n,s,r,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=N3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zie,this._maxUploadRetryTime=eae,this._requests=new Set,r!=null?this._bucket=dr.makeFromBucketSpec(r,this._host):this._bucket=Qj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=Qj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Y0(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new oae(I3());{const a=vae(e,this._appId,s,r,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const Xj="@firebase/storage",Jj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="storage";function Tae(t=$y(),e){t=it(t);const s=Li(t,C3).getImmediate({identifier:e}),r=C4("storage");return r&&Eae(s,...r),s}function Eae(t,e,n,s={}){wae(t,e,n,s)}function Sae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new _ae(n,s,r,e,oo)}function Aae(){nr(new ks(C3,Sae,"PUBLIC").setMultipleInstances(!0)),Vn(Xj,Jj,""),Vn(Xj,Jj,"esm2020")}Aae();const R3="@firebase/installations",kS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=1e4,P3=`w:${kS}`,k3="FIS_v2",Nae="https://firebaseinstallations.googleapis.com/v1",Iae=60*60*1e3,Cae="installations",Rae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pl=new jl(Cae,Rae,jae);function D3(t){return t instanceof Ms&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3({projectId:t}){return`${Nae}/projects/${t}/installations`}function O3(t){return{token:t.token,requestStatus:2,expiresIn:kae(t.expiresIn),creationTime:Date.now()}}async function V3(t,e){const s=(await e.json()).error;return pl.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function L3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pae(t,{refreshToken:e}){const n=L3(t);return n.append("Authorization",Dae(e)),n}async function U3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function kae(t){return Number(t.replace("s","000"))}function Dae(t){return`${k3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mae({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=M3(t),r=L3(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const a={fid:n,authVersion:k3,appId:t.appId,sdkVersion:P3},l={method:"POST",headers:r,body:JSON.stringify(a)},c=await U3(()=>fetch(s,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:O3(u.authToken)}}else throw await V3("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vae=/^[cdef][\w-]{21}$/,l_="";function Lae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Uae(t);return Vae.test(n)?n:l_}catch{return l_}}function Uae(t){return Oae(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Map;function B3(t,e){const n=wv(t);$3(n,e),Fae(n,e)}function $3(t,e){const n=z3.get(t);if(n)for(const s of n)s(e)}function Fae(t,e){const n=zae();n&&n.postMessage({key:t,fid:e}),Bae()}let Vo=null;function zae(){return!Vo&&"BroadcastChannel"in self&&(Vo=new BroadcastChannel("[Firebase] FID Change"),Vo.onmessage=t=>{$3(t.data.key,t.data.fid)}),Vo}function Bae(){z3.size===0&&Vo&&(Vo.close(),Vo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae="firebase-installations-database",qae=1,gl="firebase-installations-store";let Nb=null;function DS(){return Nb||(Nb=U4($ae,qae,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gl)}}})),Nb}async function Q0(t,e){const n=wv(t),r=(await DS()).transaction(gl,"readwrite"),i=r.objectStore(gl),a=await i.get(n);return await i.put(e,n),await r.done,(!a||a.fid!==e.fid)&&B3(t,e.fid),e}async function q3(t){const e=wv(t),s=(await DS()).transaction(gl,"readwrite");await s.objectStore(gl).delete(e),await s.done}async function _v(t,e){const n=wv(t),r=(await DS()).transaction(gl,"readwrite"),i=r.objectStore(gl),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await r.done,l&&(!a||a.fid!==l.fid)&&B3(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(t){let e;const n=await _v(t.appConfig,s=>{const r=Hae(s),i=Gae(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===l_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Hae(t){const e=t||{fid:Lae(),registrationStatus:0};return H3(e)}function Gae(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(pl.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Kae(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Wae(t)}:{installationEntry:e}}async function Kae(t,e){try{const n=await Mae(t,e);return Q0(t.appConfig,n)}catch(n){throw D3(n)&&n.customData.serverCode===409?await q3(t.appConfig):await Q0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Wae(t){let e=await Zj(t.appConfig);for(;e.registrationStatus===1;)await F3(100),e=await Zj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await MS(t);return s||n}return e}function Zj(t){return _v(t,e=>{if(!e)throw pl.create("installation-not-found");return H3(e)})}function H3(t){return Yae(t)?{fid:t.fid,registrationStatus:0}:t}function Yae(t){return t.registrationStatus===1&&t.registrationTime+j3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qae({appConfig:t,heartbeatServiceProvider:e},n){const s=Xae(t,n),r=Pae(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const a={installation:{sdkVersion:P3,appId:t.appId}},l={method:"POST",headers:r,body:JSON.stringify(a)},c=await U3(()=>fetch(s,l));if(c.ok){const u=await c.json();return O3(u)}else throw await V3("Generate Auth Token",c)}function Xae(t,{fid:e}){return`${M3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(t,e=!1){let n;const s=await _v(t.appConfig,i=>{if(!G3(i))throw pl.create("not-registered");const a=i.authToken;if(!e&&eoe(a))return i;if(a.requestStatus===1)return n=Jae(t,e),i;{if(!navigator.onLine)throw pl.create("app-offline");const l=noe(i);return n=Zae(t,l),l}});return n?await n:s.authToken}async function Jae(t,e){let n=await eP(t.appConfig);for(;n.authToken.requestStatus===1;)await F3(100),n=await eP(t.appConfig);const s=n.authToken;return s.requestStatus===0?OS(t,e):s}function eP(t){return _v(t,e=>{if(!G3(e))throw pl.create("not-registered");const n=e.authToken;return soe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Zae(t,e){try{const n=await Qae(t,e),s={...e,authToken:n};return await Q0(t.appConfig,s),n}catch(n){if(D3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await q3(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Q0(t.appConfig,s)}throw n}}function G3(t){return t!==void 0&&t.registrationStatus===2}function eoe(t){return t.requestStatus===2&&!toe(t)}function toe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Iae}function noe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function soe(t){return t.requestStatus===1&&t.requestTime+j3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function roe(t){const e=t,{installationEntry:n,registrationPromise:s}=await MS(e);return s?s.catch(console.error):OS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ioe(t,e=!1){const n=t;return await aoe(n),(await OS(n,e)).token}async function aoe(t){const{registrationPromise:e}=await MS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t){if(!t||!t.options)throw Ib("App Configuration");if(!t.name)throw Ib("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ib(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ib(t){return pl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="installations",loe="installations-internal",coe=t=>{const e=t.getProvider("app").getImmediate(),n=ooe(e),s=Li(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},uoe=t=>{const e=t.getProvider("app").getImmediate(),n=Li(e,K3).getImmediate();return{getId:()=>roe(n),getToken:r=>ioe(n,r)}};function doe(){nr(new ks(K3,coe,"PUBLIC")),nr(new ks(loe,uoe,"PRIVATE"))}doe();Vn(R3,kS);Vn(R3,kS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="analytics",hoe="firebase_id",foe="origin",moe=60*1e3,poe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new dm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ns=new jl("analytics","Analytics",goe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(t){if(!t.startsWith(VS)){const e=Ns.create("invalid-gtag-resource",{gtagURL:t});return Yn.warn(e.message),""}return t}function W3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function voe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xoe(t,e){const n=voe("firebase-js-sdk-policy",{createScriptURL:yoe}),s=document.createElement("script"),r=`${VS}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function boe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function woe(t,e,n,s,r,i){const a=s[r];try{if(a)await e[a];else{const c=(await W3(n)).find(u=>u.measurementId===r);c&&await e[c.appId]}}catch(l){Yn.error(l)}t("config",r,i)}async function _oe(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const l=await W3(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){Yn.error(i)}}function Toe(t,e,n,s){async function r(i,...a){try{if(i==="event"){const[l,c]=a;await _oe(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await woe(t,e,n,s,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){Yn.error(l)}}return r}function Eoe(t,e,n,s,r){let i=function(...a){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=Toe(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function Soe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(VS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe=30,Noe=1e3;class Ioe{constructor(e={},n=Noe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Y3=new Ioe;function Coe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Roe(t){var a;const{appId:e,apiKey:n}=t,s={method:"GET",headers:Coe(n)},r=poe.replace("{app-id}",e),i=await fetch(r,s);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Ns.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function joe(t,e=Y3,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Ns.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Ns.create("no-api-key")}const a=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Doe;return setTimeout(async()=>{l.abort()},n!==void 0?n:moe),Q3({appId:s,apiKey:r,measurementId:i},a,l,e)}async function Q3(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Y3){var l;const{appId:i,measurementId:a}=t;try{await Poe(s,e)}catch(c){if(a)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await Roe(t);return r.deleteThrottleMetadata(i),c}catch(c){const u=c;if(!koe(u)){if(r.deleteThrottleMetadata(i),a)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw c}const d=Number((l=u==null?void 0:u.customData)==null?void 0:l.httpStatus)===503?N2(n,r.intervalMillis,Aoe):N2(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(i,h),Yn.debug(`Calling attemptFetch again in ${d} millis`),Q3(t,h,s,r)}}function Poe(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Ns.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function koe(t){if(!(t instanceof Ms)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Doe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Moe(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,a={...s,send_to:i};t("event",n,a)}}async function Ooe(t,e,n,s){if(s&&s.global){const r={};for(const i of Object.keys(n))r[`user_properties.${i}`]=n[i];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(){if(By())try{await xE()}catch(t){return Yn.warn(Ns.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yn.warn(Ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Loe(t,e,n,s,r,i,a){const l=joe(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Yn.error(m)),e.push(l);const c=Voe().then(m=>{if(m)return s.getId()}),[u,d]=await Promise.all([l,c]);Soe(i)||xoe(i,u.measurementId),r("js",new Date);const h=(a==null?void 0:a.config)??{};return h[foe]="firebase",h.update=!0,d!=null&&(h[hoe]=d),r("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.app=e}_delete(){return delete Jc[this.app.options.appId],Promise.resolve()}}let Jc={},tP=[];const nP={};let Cb="dataLayer",Foe="gtag",sP,LS,rP=!1;function zoe(){const t=[];if(vE()&&t.push("This is a browser extension environment."),O4()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Ns.create("invalid-analytics-context",{errorInfo:e});Yn.warn(n.message)}}function Boe(t,e,n){zoe();const s=t.options.appId;if(!s)throw Ns.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ns.create("no-api-key");if(Jc[s]!=null)throw Ns.create("already-exists",{id:s});if(!rP){boe(Cb);const{wrappedGtag:i,gtagCore:a}=Eoe(Jc,tP,nP,Cb,Foe);LS=i,sP=a,rP=!0}return Jc[s]=Loe(t,tP,nP,e,sP,Cb,n),new Uoe(t)}function $oe(t=$y()){t=it(t);const e=Li(t,X0);return e.isInitialized()?e.getImmediate():qoe(t)}function qoe(t,e={}){const n=Li(t,X0);if(n.isInitialized()){const r=n.getImmediate();if(Ni(e,n.getOptions()))return r;throw Ns.create("already-initialized")}return n.initialize({options:e})}async function Hoe(){if(vE()||!O4()||!By())return!1;try{return await xE()}catch{return!1}}function Goe(t,e,n){t=it(t),Ooe(LS,Jc[t.app.options.appId],e,n).catch(s=>Yn.error(s))}function Koe(t,e,n,s){t=it(t),Moe(LS,Jc[t.app.options.appId],e,n,s).catch(r=>Yn.error(r))}const iP="@firebase/analytics",aP="0.10.19";function Woe(){nr(new ks(X0,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Boe(s,r,n)},"PUBLIC")),nr(new ks("analytics-internal",t,"PRIVATE")),Vn(iP,aP),Vn(iP,aP,"esm2020");function t(e){try{const n=e.getProvider(X0).getImmediate();return{logEvent:(s,r,i)=>Koe(n,s,r,i),setUserProperties:(s,r)=>Goe(n,s,r)}}catch(n){throw Ns.create("interop-component-reg-failed",{reason:n})}}}Woe();const Yoe={apiKey:"AIzaSyB98wXNLNARzvn_fF6mTLPrXhObSCsbZwo",authDomain:"elmtgar.firebaseapp.com",projectId:"elmtgar",storageBucket:"elmtgar.appspot.com",messagingSenderId:"818064958346",appId:"1:818064958346:web:a4cb0fdd9d98a97ca39e73",measurementId:"G-YTPVVTPR3D"},ad=F4(Yoe);typeof window<"u"&&Hoe().then(t=>{t&&$oe(ad)}).catch(()=>{});const Nt=ste(ad),ue=xre(ad,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1,preferRestRoutes:!0});typeof window<"u"&&bre(ue).catch(t=>{t.code=="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):t.code=="unimplemented"&&console.warn("Persistence not supported by browser")});const US=Vie(ad),Qoe=Tae(ad,"gs://elmtgar.appspot.com"),Xoe=Object.freeze(Object.defineProperty({__proto__:null,auth:Nt,db:ue,dbLite:US,default:ad,storage:Qoe},Symbol.toStringTag,{value:"Module"})),ce=p.forwardRef(({className:t,type:e,...n},s)=>o.jsx("input",{type:e,className:me("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));ce.displayName="Input";var Joe=p.createContext(void 0);function Tv(t){const e=p.useContext(Joe);return t||e||"ltr"}var Rb=0;function X3(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oP()),document.body.insertAdjacentElement("beforeend",t[1]??oP()),Rb++,()=>{Rb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rb--}},[])}function oP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jb="focusScope.autoFocusOnMount",Pb="focusScope.autoFocusOnUnmount",lP={bubbles:!1,cancelable:!0},Zoe="FocusScope",FS=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=js(r),d=js(i),h=p.useRef(null),m=dt(e,y=>c(y)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let y=function(T){if(g.paused||!l)return;const N=T.target;l.contains(N)?h.current=N:ra(h.current,{select:!0})},w=function(T){if(g.paused||!l)return;const N=T.relatedTarget;N!==null&&(l.contains(N)||ra(h.current,{select:!0}))},v=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&ra(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const _=new MutationObserver(v);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),_.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){uP.add(g);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(jb,lP);l.addEventListener(jb,u),l.dispatchEvent(v),v.defaultPrevented||(ele(ile(J3(l)),{select:!0}),document.activeElement===y&&ra(l))}return()=>{l.removeEventListener(jb,u),setTimeout(()=>{const v=new CustomEvent(Pb,lP);l.addEventListener(Pb,d),l.dispatchEvent(v),v.defaultPrevented||ra(y??document.body,{select:!0}),l.removeEventListener(Pb,d),uP.remove(g)},0)}}},[l,u,d,g]);const x=p.useCallback(y=>{if(!n&&!s||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const _=y.currentTarget,[T,N]=tle(_);T&&N?!y.shiftKey&&v===N?(y.preventDefault(),n&&ra(T,{select:!0})):y.shiftKey&&v===T&&(y.preventDefault(),n&&ra(N,{select:!0})):v===_&&y.preventDefault()}},[n,s,g.paused]);return o.jsx(Me.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});FS.displayName=Zoe;function ele(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(ra(s,{select:e}),document.activeElement!==n)return}function tle(t){const e=J3(t),n=cP(e,t),s=cP(e.reverse(),t);return[n,s]}function J3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cP(t,e){for(const n of t)if(!nle(n,{upTo:e}))return n}function nle(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sle(t){return t instanceof HTMLInputElement&&"select"in t}function ra(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sle(t)&&e&&t.select()}}var uP=rle();function rle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=dP(t,e),t.unshift(e)},remove(e){var n;t=dP(t,e),(n=t[0])==null||n.resume()}}}function dP(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function ile(t){return t.filter(e=>e.tagName!=="A")}var ale=ay[" useId ".trim().toString()]||(()=>{}),ole=0;function Qo(t){const[e,n]=p.useState(ale());return Si(()=>{t||n(s=>s??String(ole++))},[t]),t||(e?`radix-${e}`:"")}const lle=["top","right","bottom","left"],eo=Math.min,gs=Math.max,J0=Math.round,Ip=Math.floor,Fr=t=>({x:t,y:t}),cle={left:"right",right:"left",bottom:"top",top:"bottom"},ule={start:"end",end:"start"};function c_(t,e,n){return gs(t,eo(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function Di(t){return t.split("-")[0]}function od(t){return t.split("-")[1]}function zS(t){return t==="x"?"y":"x"}function BS(t){return t==="y"?"height":"width"}const dle=new Set(["top","bottom"]);function Cr(t){return dle.has(Di(t))?"y":"x"}function $S(t){return zS(Cr(t))}function hle(t,e,n){n===void 0&&(n=!1);const s=od(t),r=$S(t),i=BS(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Z0(a)),[a,Z0(a)]}function fle(t){const e=Z0(t);return[u_(t),e,u_(e)]}function u_(t){return t.replace(/start|end/g,e=>ule[e])}const hP=["left","right"],fP=["right","left"],mle=["top","bottom"],ple=["bottom","top"];function gle(t,e,n){switch(t){case"top":case"bottom":return n?e?fP:hP:e?hP:fP;case"left":case"right":return e?mle:ple;default:return[]}}function yle(t,e,n,s){const r=od(t);let i=gle(Di(t),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(u_)))),i}function Z0(t){return t.replace(/left|right|bottom|top/g,e=>cle[e])}function vle(t){return{top:0,right:0,bottom:0,left:0,...t}}function Z3(t){return typeof t!="number"?vle(t):{top:t,right:t,bottom:t,left:t}}function ey(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function mP(t,e,n){let{reference:s,floating:r}=t;const i=Cr(e),a=$S(e),l=BS(a),c=Di(e),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-r.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-r.width,y:h};break;default:g={x:s.x,y:s.y}}switch(od(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const xle=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=mP(u,s,c),m=s,g={},x=0;for(let y=0;y<l.length;y++){const{name:w,fn:v}=l[y],{x:_,y:T,data:N,reset:C}=await v({x:d,y:h,initialPlacement:s,placement:m,strategy:r,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=_??d,h=T??h,g={...g,[w]:{...g[w],...N}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:d,y:h}=mP(u,m,c)),y=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:g}};async function Lf(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=ki(e,t),x=Z3(g),w=l[m?h==="floating"?"reference":"floating":h],v=ey(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),_=h==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},C=ey(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:T,strategy:c}):_);return{top:(v.top-C.top+x.top)/N.y,bottom:(C.bottom-v.bottom+x.bottom)/N.y,left:(v.left-C.left+x.left)/N.x,right:(C.right-v.right+x.right)/N.x}}const ble=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ki(t,e)||{};if(u==null)return{};const h=Z3(d),m={x:n,y:s},g=$S(r),x=BS(g),y=await a.getDimensions(u),w=g==="y",v=w?"top":"left",_=w?"bottom":"right",T=w?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[g]-m[g]-i.floating[x],C=m[g]-i.reference[g],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=j?j[T]:0;(!S||!await(a.isElement==null?void 0:a.isElement(j)))&&(S=l.floating[T]||i.floating[x]);const E=N/2-C/2,I=S/2-y[x]/2-1,R=eo(h[v],I),k=eo(h[_],I),M=R,P=S-y[x]-k,$=S/2-y[x]/2+E,H=c_(M,$,P),O=!c.arrow&&od(r)!=null&&$!==H&&i.reference[x]/2-($<M?R:k)-y[x]/2<0,q=O?$<M?$-M:$-P:0;return{[g]:m[g]+q,data:{[g]:H,centerOffset:$-H-q,...O&&{alignmentOffset:q}},reset:O}}}),wle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=ki(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Di(r),_=Cr(l),T=Di(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(T||!y?[Z0(l)]:fle(l)),j=x!=="none";!m&&j&&C.push(...yle(l,y,x,N));const S=[l,...C],E=await Lf(e,w),I=[];let R=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&I.push(E[v]),h){const $=hle(r,a,N);I.push(E[$[0]],E[$[1]])}if(R=[...R,{placement:r,overflows:I}],!I.every($=>$<=0)){var k,M;const $=(((k=i.flip)==null?void 0:k.index)||0)+1,H=S[$];if(H&&(!(h==="alignment"?_!==Cr(H):!1)||R.every(B=>Cr(B.placement)===_?B.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:H}};let O=(M=R.filter(q=>q.overflows[0]<=0).sort((q,B)=>q.overflows[1]-B.overflows[1])[0])==null?void 0:M.placement;if(!O)switch(g){case"bestFit":{var P;const q=(P=R.filter(B=>{if(j){const K=Cr(B.placement);return K===_||K==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(K=>K>0).reduce((K,ie)=>K+ie,0)]).sort((B,K)=>B[1]-K[1])[0])==null?void 0:P[0];q&&(O=q);break}case"initialPlacement":O=l;break}if(r!==O)return{reset:{placement:O}}}return{}}}};function pP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gP(t){return lle.some(e=>t[e]>=0)}const _le=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=ki(t,e);switch(s){case"referenceHidden":{const i=await Lf(e,{...r,elementContext:"reference"}),a=pP(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:gP(a)}}}case"escaped":{const i=await Lf(e,{...r,altBoundary:!0}),a=pP(i,n.floating);return{data:{escapedOffsets:a,escaped:gP(a)}}}default:return{}}}}},eU=new Set(["left","top"]);async function Tle(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=Di(n),l=od(n),c=Cr(n)==="y",u=eU.has(a)?-1:1,d=i&&c?-1:1,h=ki(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Ele=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:a,middlewareData:l}=e,c=await Tle(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},Sle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:v,y:_}=w;return{x:v,y:_}}},...c}=ki(t,e),u={x:n,y:s},d=await Lf(e,c),h=Cr(Di(r)),m=zS(h);let g=u[m],x=u[h];if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",_=g+d[w],T=g-d[v];g=c_(_,g,T)}if(a){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=x+d[w],T=x-d[v];x=c_(_,x,T)}const y=l.fn({...e,[m]:g,[h]:x});return{...y,data:{x:y.x-n,y:y.y-s,enabled:{[m]:i,[h]:a}}}}}},Ale=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ki(t,e),d={x:n,y:s},h=Cr(r),m=zS(h);let g=d[m],x=d[h];const y=ki(l,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+w.mainAxis,C=i.reference[m]+i.reference[T]-w.mainAxis;g<N?g=N:g>C&&(g=C)}if(u){var v,_;const T=m==="y"?"width":"height",N=eU.has(Di(r)),C=i.reference[h]-i.floating[T]+(N&&((v=a.offset)==null?void 0:v[h])||0)+(N?0:w.crossAxis),j=i.reference[h]+i.reference[T]+(N?0:((_=a.offset)==null?void 0:_[h])||0)-(N?w.crossAxis:0);x<C?x=C:x>j&&(x=j)}return{[m]:g,[h]:x}}}},Nle=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=ki(t,e),d=await Lf(e,u),h=Di(r),m=od(r),g=Cr(r)==="y",{width:x,height:y}=i.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,w=m==="end"?"top":"bottom");const _=y-d.top-d.bottom,T=x-d.left-d.right,N=eo(y-d[w],_),C=eo(x-d[v],T),j=!e.middlewareData.shift;let S=N,E=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=T),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(S=_),j&&!m){const R=gs(d.left,0),k=gs(d.right,0),M=gs(d.top,0),P=gs(d.bottom,0);g?E=x-2*(R!==0||k!==0?R+k:gs(d.left,d.right)):S=y-2*(M!==0||P!==0?M+P:gs(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:S});const I=await a.getDimensions(l.floating);return x!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Ev(){return typeof window<"u"}function ld(t){return tU(t)?(t.nodeName||"").toLowerCase():"#document"}function Is(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(t){var e;return(e=(tU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tU(t){return Ev()?t instanceof Node||t instanceof Is(t).Node:!1}function fr(t){return Ev()?t instanceof Element||t instanceof Is(t).Element:!1}function qr(t){return Ev()?t instanceof HTMLElement||t instanceof Is(t).HTMLElement:!1}function yP(t){return!Ev()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Is(t).ShadowRoot}const Ile=new Set(["inline","contents"]);function jm(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!Ile.has(r)}const Cle=new Set(["table","td","th"]);function Rle(t){return Cle.has(ld(t))}const jle=[":popover-open",":modal"];function Sv(t){return jle.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ple=["transform","translate","scale","rotate","perspective"],kle=["transform","translate","scale","rotate","perspective","filter"],Dle=["paint","layout","strict","content"];function qS(t){const e=HS(),n=fr(t)?mr(t):t;return Ple.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||kle.some(s=>(n.willChange||"").includes(s))||Dle.some(s=>(n.contain||"").includes(s))}function Mle(t){let e=to(t);for(;qr(e)&&!Lu(e);){if(qS(e))return e;if(Sv(e))return null;e=to(e)}return null}function HS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ole=new Set(["html","body","#document"]);function Lu(t){return Ole.has(ld(t))}function mr(t){return Is(t).getComputedStyle(t)}function Av(t){return fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function to(t){if(ld(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yP(t)&&t.host||Yr(t);return yP(e)?e.host:e}function nU(t){const e=to(t);return Lu(e)?t.ownerDocument?t.ownerDocument.body:t.body:qr(e)&&jm(e)?e:nU(e)}function Uf(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=nU(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),a=Is(r);if(i){const l=d_(a);return e.concat(a,a.visualViewport||[],jm(r)?r:[],l&&n?Uf(l):[])}return e.concat(r,Uf(r,[],n))}function d_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sU(t){const e=mr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=qr(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:s,l=J0(n)!==i||J0(s)!==a;return l&&(n=i,s=a),{width:n,height:s,$:l}}function GS(t){return fr(t)?t:t.contextElement}function Zc(t){const e=GS(t);if(!qr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=sU(e);let a=(i?J0(n.width):n.width)/s,l=(i?J0(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Vle=Fr(0);function rU(t){const e=Is(t);return!HS()||!e.visualViewport?Vle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Lle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Is(t)?!1:e}function yl(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=GS(t);let a=Fr(1);e&&(s?fr(s)&&(a=Zc(s)):a=Zc(t));const l=Lle(i,n,s)?rU(i):Fr(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(i){const m=Is(i),g=s&&fr(s)?Is(s):s;let x=m,y=d_(x);for(;y&&s&&g!==x;){const w=Zc(y),v=y.getBoundingClientRect(),_=mr(y),T=v.left+(y.clientLeft+parseFloat(_.paddingLeft))*w.x,N=v.top+(y.clientTop+parseFloat(_.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=T,u+=N,x=Is(y),y=d_(x)}}return ey({width:d,height:h,x:c,y:u})}function Nv(t,e){const n=Av(t).scrollLeft;return e?e.left+n:yl(Yr(t)).left+n}function iU(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Nv(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function Ule(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",a=Yr(s),l=e?Sv(e.floating):!1;if(s===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Fr(1);const d=Fr(0),h=qr(s);if((h||!h&&!i)&&((ld(s)!=="body"||jm(a))&&(c=Av(s)),qr(s))){const g=yl(s);u=Zc(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=a&&!h&&!i?iU(a,c):Fr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Fle(t){return Array.from(t.getClientRects())}function zle(t){const e=Yr(t),n=Av(t),s=t.ownerDocument.body,r=gs(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=gs(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Nv(t);const l=-n.scrollTop;return mr(s).direction==="rtl"&&(a+=gs(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:l}}const vP=25;function Ble(t,e){const n=Is(t),s=Yr(t),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){i=r.width,a=r.height;const d=HS();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const u=Nv(s);if(u<=0){const d=s.ownerDocument,h=d.body,m=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(s.clientWidth-h.clientWidth-g);x<=vP&&(i-=x)}else u<=vP&&(i+=u);return{width:i,height:a,x:l,y:c}}const $le=new Set(["absolute","fixed"]);function qle(t,e){const n=yl(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=qr(t)?Zc(t):Fr(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:a,height:l,x:c,y:u}}function xP(t,e,n){let s;if(e==="viewport")s=Ble(t,n);else if(e==="document")s=zle(Yr(t));else if(fr(e))s=qle(e,n);else{const r=rU(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return ey(s)}function aU(t,e){const n=to(t);return n===e||!fr(n)||Lu(n)?!1:mr(n).position==="fixed"||aU(n,e)}function Hle(t,e){const n=e.get(t);if(n)return n;let s=Uf(t,[],!1).filter(l=>fr(l)&&ld(l)!=="body"),r=null;const i=mr(t).position==="fixed";let a=i?to(t):t;for(;fr(a)&&!Lu(a);){const l=mr(a),c=qS(a);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&$le.has(r.position)||jm(a)&&!c&&aU(t,a))?s=s.filter(d=>d!==a):r=l,a=to(a)}return e.set(t,s),s}function Gle(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?Sv(e)?[]:Hle(e,this._c):[].concat(n),s],l=a[0],c=a.reduce((u,d)=>{const h=xP(e,d,r);return u.top=gs(h.top,u.top),u.right=eo(h.right,u.right),u.bottom=eo(h.bottom,u.bottom),u.left=gs(h.left,u.left),u},xP(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kle(t){const{width:e,height:n}=sU(t);return{width:e,height:n}}function Wle(t,e,n){const s=qr(e),r=Yr(e),i=n==="fixed",a=yl(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Fr(0);function u(){c.x=Nv(r)}if(s||!s&&!i)if((ld(e)!=="body"||jm(r))&&(l=Av(e)),s){const g=yl(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?iU(r,l):Fr(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function kb(t){return mr(t).position==="static"}function bP(t,e){if(!qr(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yr(t)===n&&(n=n.ownerDocument.body),n}function oU(t,e){const n=Is(t);if(Sv(t))return n;if(!qr(t)){let r=to(t);for(;r&&!Lu(r);){if(fr(r)&&!kb(r))return r;r=to(r)}return n}let s=bP(t,e);for(;s&&Rle(s)&&kb(s);)s=bP(s,e);return s&&Lu(s)&&kb(s)&&!qS(s)?n:s||Mle(t)||n}const Yle=async function(t){const e=this.getOffsetParent||oU,n=this.getDimensions,s=await n(t.floating);return{reference:Wle(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Qle(t){return mr(t).direction==="rtl"}const Xle={convertOffsetParentRelativeRectToViewportRelativeRect:Ule,getDocumentElement:Yr,getClippingRect:Gle,getOffsetParent:oU,getElementRects:Yle,getClientRects:Fle,getDimensions:Kle,getScale:Zc,isElement:fr,isRTL:Qle};function lU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Jle(t,e){let n=null,s;const r=Yr(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(l||e(),!m||!g)return;const x=Ip(h),y=Ip(r.clientWidth-(d+m)),w=Ip(r.clientHeight-(h+g)),v=Ip(d),T={rootMargin:-x+"px "+-y+"px "+-w+"px "+-v+"px",threshold:gs(0,eo(1,c))||1};let N=!0;function C(j){const S=j[0].intersectionRatio;if(S!==c){if(!N)return a();S?a(!1,S):s=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!lU(u,t.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(C,{...T,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,T)}n.observe(t)}return a(!0),i}function Zle(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=GS(t),d=r||i?[...u?Uf(u):[],...Uf(e)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&l?Jle(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let x,y=c?yl(t):null;c&&w();function w(){const v=yl(t);y&&!lU(y,v)&&n(),y=v,x=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(_=>{r&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const ece=Ele,tce=Sle,nce=wle,sce=Nle,rce=_le,wP=ble,ice=Ale,ace=(t,e,n)=>{const s=new Map,r={platform:Xle,...n},i={...r.platform,_c:s};return xle(t,e,{...r,platform:i})};var oce=typeof document<"u",lce=function(){},xg=oce?p.useLayoutEffect:lce;function ty(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!ty(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!ty(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function cU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _P(t,e){const n=cU(t);return Math.round(e*n)/n}function Db(t){const e=p.useRef(t);return xg(()=>{e.current=t}),e}function cce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(s);ty(m,s)||g(s);const[x,y]=p.useState(null),[w,v]=p.useState(null),_=p.useCallback(B=>{B!==j.current&&(j.current=B,y(B))},[]),T=p.useCallback(B=>{B!==S.current&&(S.current=B,v(B))},[]),N=i||x,C=a||w,j=p.useRef(null),S=p.useRef(null),E=p.useRef(d),I=c!=null,R=Db(c),k=Db(r),M=Db(u),P=p.useCallback(()=>{if(!j.current||!S.current)return;const B={placement:e,strategy:n,middleware:m};k.current&&(B.platform=k.current),ace(j.current,S.current,B).then(K=>{const ie={...K,isPositioned:M.current!==!1};$.current&&!ty(E.current,ie)&&(E.current=ie,$f.flushSync(()=>{h(ie)}))})},[m,e,n,k,M]);xg(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[u]);const $=p.useRef(!1);xg(()=>($.current=!0,()=>{$.current=!1}),[]),xg(()=>{if(N&&(j.current=N),C&&(S.current=C),N&&C){if(R.current)return R.current(N,C,P);P()}},[N,C,P,R,I]);const H=p.useMemo(()=>({reference:j,floating:S,setReference:_,setFloating:T}),[_,T]),O=p.useMemo(()=>({reference:N,floating:C}),[N,C]),q=p.useMemo(()=>{const B={position:n,left:0,top:0};if(!O.floating)return B;const K=_P(O.floating,d.x),ie=_P(O.floating,d.y);return l?{...B,transform:"translate("+K+"px, "+ie+"px)",...cU(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ie}},[n,l,O.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:P,refs:H,elements:O,floatingStyles:q}),[d,P,H,O,q])}const uce=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?wP({element:s.current,padding:r}).fn(n):{}:s?wP({element:s,padding:r}).fn(n):{}}}},dce=(t,e)=>({...ece(t),options:[t,e]}),hce=(t,e)=>({...tce(t),options:[t,e]}),fce=(t,e)=>({...ice(t),options:[t,e]}),mce=(t,e)=>({...nce(t),options:[t,e]}),pce=(t,e)=>({...sce(t),options:[t,e]}),gce=(t,e)=>({...rce(t),options:[t,e]}),yce=(t,e)=>({...uce(t),options:[t,e]});var vce="Arrow",uU=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return o.jsx(Me.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});uU.displayName=vce;var xce=uU;function KS(t){const[e,n]=p.useState(void 0);return Si(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var WS="Popper",[dU,hU]=Kr(WS),[bce,fU]=dU(WS),mU=t=>{const{__scopePopper:e,children:n}=t,[s,r]=p.useState(null);return o.jsx(bce,{scope:e,anchor:s,onAnchorChange:r,children:n})};mU.displayName=WS;var pU="PopperAnchor",gU=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=fU(pU,n),a=p.useRef(null),l=dt(e,a),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:o.jsx(Me.div,{...r,ref:l})});gU.displayName=pU;var YS="PopperContent",[wce,_ce]=dU(YS),yU=p.forwardRef((t,e)=>{var L,ee,te,le,Re,Oe;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=t,w=fU(YS,n),[v,_]=p.useState(null),T=dt(e,se=>_(se)),[N,C]=p.useState(null),j=KS(N),S=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,I=s+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],M=k.length>0,P={padding:R,boundary:k.filter(Ece),altBoundary:M},{refs:$,floatingStyles:H,placement:O,isPositioned:q,middlewareData:B}=cce({strategy:"fixed",placement:I,whileElementsMounted:(...se)=>Zle(...se,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[dce({mainAxis:r+E,alignmentAxis:a}),c&&hce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fce():void 0,...P}),c&&mce({...P}),pce({...P,apply:({elements:se,rects:we,availableWidth:tt,availableHeight:Ht})=>{const{width:at,height:un}=we.reference,Lt=se.floating.style;Lt.setProperty("--radix-popper-available-width",`${tt}px`),Lt.setProperty("--radix-popper-available-height",`${Ht}px`),Lt.setProperty("--radix-popper-anchor-width",`${at}px`),Lt.setProperty("--radix-popper-anchor-height",`${un}px`)}}),N&&yce({element:N,padding:l}),Sce({arrowWidth:S,arrowHeight:E}),m&&gce({strategy:"referenceHidden",...P})]}),[K,ie]=bU(O),ge=js(x);Si(()=>{q&&(ge==null||ge())},[q,ge]);const Be=(L=B.arrow)==null?void 0:L.x,Ye=(ee=B.arrow)==null?void 0:ee.y,V=((te=B.arrow)==null?void 0:te.centerOffset)!==0,[Q,_e]=p.useState();return Si(()=>{v&&_e(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:q?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(le=B.transformOrigin)==null?void 0:le.x,(Re=B.transformOrigin)==null?void 0:Re.y].join(" "),...((Oe=B.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(wce,{scope:n,placedSide:K,onArrowChange:C,arrowX:Be,arrowY:Ye,shouldHideArrow:V,children:o.jsx(Me.div,{"data-side":K,"data-align":ie,...y,ref:T,style:{...y.style,animation:q?void 0:"none"}})})})});yU.displayName=YS;var vU="PopperArrow",Tce={top:"bottom",right:"left",bottom:"top",left:"right"},xU=p.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=_ce(vU,s),a=Tce[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(xce,{...r,ref:n,style:{...r.style,display:"block"}})})});xU.displayName=vU;function Ece(t){return t!==null}var Sce=t=>({name:"transformOrigin",options:t,fn(e){var w,v,_;const{placement:n,rects:s,middlewareData:r}=e,a=((w=r.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=bU(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,g=(((_=r.arrow)==null?void 0:_.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=a?h:`${m}px`,y=`${-c}px`):u==="top"?(x=a?h:`${m}px`,y=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=a?h:`${g}px`):u==="left"&&(x=`${s.floating.width+c}px`,y=a?h:`${g}px`),{data:{x,y}}}});function bU(t){const[e,n="center"]=t.split("-");return[e,n]}var Ace=mU,Nce=gU,Ice=yU,Cce=xU,Mb="rovingFocusGroup.onEntryFocus",Rce={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[h_,wU,jce]=Iy(Pm),[Pce,Iv]=Kr(Pm,[jce]),[kce,Dce]=Pce(Pm),_U=p.forwardRef((t,e)=>o.jsx(h_.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(h_.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Mce,{...t,ref:e})})}));_U.displayName=Pm;var Mce=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,m=p.useRef(null),g=dt(e,m),x=Tv(i),[y,w]=Cl({prop:a,defaultProp:l??null,onChange:c,caller:Pm}),[v,_]=p.useState(!1),T=js(u),N=wU(n),C=p.useRef(!1),[j,S]=p.useState(0);return p.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Mb,T),()=>E.removeEventListener(Mb,T)},[T]),o.jsx(kce,{scope:n,orientation:s,dir:x,loop:r,currentTabStopId:y,onItemFocus:p.useCallback(E=>w(E),[w]),onItemShiftTab:p.useCallback(()=>_(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>S(E=>E-1),[]),children:o.jsx(Me.div,{tabIndex:v||j===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{C.current=!0}),onFocus:he(t.onFocus,E=>{const I=!C.current;if(E.target===E.currentTarget&&I&&!v){const R=new CustomEvent(Mb,Rce);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=N().filter(O=>O.focusable),M=k.find(O=>O.active),P=k.find(O=>O.id===y),H=[M,P,...k].filter(Boolean).map(O=>O.ref.current);SU(H,d)}}C.current=!1}),onBlur:he(t.onBlur,()=>_(!1))})})}),TU="RovingFocusGroupItem",EU=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:a,...l}=t,c=Qo(),u=i||c,d=Dce(TU,n),h=d.currentTabStopId===u,m=wU(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:y}=d;return p.useEffect(()=>{if(s)return g(),()=>x()},[s,g,x]),o.jsx(h_.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:o.jsx(Me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:he(t.onMouseDown,w=>{s?d.onItemFocus(u):w.preventDefault()}),onFocus:he(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:he(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=Lce(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=m().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")T.reverse();else if(v==="prev"||v==="next"){v==="prev"&&T.reverse();const N=T.indexOf(w.currentTarget);T=d.loop?Uce(T,N+1):T.slice(N+1)}setTimeout(()=>SU(T))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});EU.displayName=TU;var Oce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lce(t,e,n){const s=Vce(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Oce[s]}function SU(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Uce(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var AU=_U,NU=EU;function Fce(t){const e=zce(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find($ce);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function zce(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=Hce(r),l=qce(i,r.props);return r.type!==p.Fragment&&(l.ref=s?io(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Bce=Symbol("radix.slottable");function $ce(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bce}function qce(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Hce(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Gce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zl=new WeakMap,Cp=new WeakMap,Rp={},Ob=0,IU=function(t){return t&&(t.host||IU(t.parentNode))},Kce=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=IU(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Wce=function(t,e,n,s){var r=Kce(e,Array.isArray(t)?t:[t]);Rp[n]||(Rp[n]=new WeakMap);var i=Rp[n],a=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),x=g!==null&&g!=="false",y=(Zl.get(m)||0)+1,w=(i.get(m)||0)+1;Zl.set(m,y),i.set(m,w),a.push(m),y===1&&x&&Cp.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(e),l.clear(),Ob++,function(){a.forEach(function(h){var m=Zl.get(h)-1,g=i.get(h)-1;Zl.set(h,m),i.set(h,g),m||(Cp.has(h)||h.removeAttribute(s),Cp.delete(h)),g||h.removeAttribute(n)}),Ob--,Ob||(Zl=new WeakMap,Zl=new WeakMap,Cp=new WeakMap,Rp={})}},CU=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=e||Gce(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),Wce(s,r,n,"aria-hidden")):function(){return null}},Tr=function(){return Tr=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tr.apply(this,arguments)};function RU(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function Yce(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var bg="right-scroll-bar-position",wg="width-before-scroll-bar",Qce="with-scroll-bars-hidden",Xce="--removed-body-scroll-bar-size";function Vb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Jce(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var Zce=typeof window<"u"?p.useLayoutEffect:p.useEffect,TP=new WeakMap;function eue(t,e){var n=Jce(e||null,function(s){return t.forEach(function(r){return Vb(r,s)})});return Zce(function(){var s=TP.get(n);if(s){var r=new Set(s),i=new Set(t),a=n.current;r.forEach(function(l){i.has(l)||Vb(l,null)}),i.forEach(function(l){r.has(l)||Vb(l,a)})}TP.set(n,t)},[t]),n}function tue(t){return t}function nue(t,e){e===void 0&&(e=tue);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function sue(t){t===void 0&&(t={});var e=nue(null);return e.options=Tr({async:!0,ssr:!1},t),e}var jU=function(t){var e=t.sideCar,n=RU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Tr({},n))};jU.isSideCarExport=!0;function rue(t,e){return t.useMedium(e),jU}var PU=sue(),Lb=function(){},Cv=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:Lb,onWheelCapture:Lb,onTouchMoveCapture:Lb}),r=s[0],i=s[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,x=t.noIsolation,y=t.inert,w=t.allowPinchZoom,v=t.as,_=v===void 0?"div":v,T=t.gapMode,N=RU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,j=eue([n,e]),S=Tr(Tr({},N),r);return p.createElement(p.Fragment,null,d&&p.createElement(C,{sideCar:PU,removeScrollBar:u,shards:h,noRelative:g,noIsolation:x,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:T}),a?p.cloneElement(p.Children.only(l),Tr(Tr({},S),{ref:j})):p.createElement(_,Tr({},S,{className:c,ref:j}),l))});Cv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cv.classNames={fullWidth:wg,zeroRight:bg};var EP,iue=function(){if(EP)return EP;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aue(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iue();return e&&t.setAttribute("nonce",e),t}function oue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function lue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cue=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aue())&&(oue(e,n),lue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uue=function(){var t=cue();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kU=function(){var t=uue(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},due={left:0,top:0,right:0,gap:0},Ub=function(t){return parseInt(t||"",10)||0},hue=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Ub(n),Ub(s),Ub(r)]},fue=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return due;var e=hue(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},mue=kU(),eu="data-scroll-locked",pue=function(t,e,n,s){var r=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Qce,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(eu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(wg,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(bg," .").concat(bg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wg," .").concat(wg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(eu,`] {
    `).concat(Xce,": ").concat(l,`px;
  }
`)},SP=function(){var t=parseInt(document.body.getAttribute(eu)||"0",10);return isFinite(t)?t:0},gue=function(){p.useEffect(function(){return document.body.setAttribute(eu,(SP()+1).toString()),function(){var t=SP()-1;t<=0?document.body.removeAttribute(eu):document.body.setAttribute(eu,t.toString())}},[])},yue=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;gue();var i=p.useMemo(function(){return fue(r)},[r]);return p.createElement(mue,{styles:pue(i,!e,r,n?"":"!important")})},f_=!1;if(typeof window<"u")try{var jp=Object.defineProperty({},"passive",{get:function(){return f_=!0,!0}});window.addEventListener("test",jp,jp),window.removeEventListener("test",jp,jp)}catch{f_=!1}var ec=f_?{passive:!1}:!1,vue=function(t){return t.tagName==="TEXTAREA"},DU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vue(t)&&n[e]==="visible")},xue=function(t){return DU(t,"overflowY")},bue=function(t){return DU(t,"overflowX")},AP=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=MU(t,s);if(r){var i=OU(t,s),a=i[1],l=i[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},wue=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},_ue=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},MU=function(t,e){return t==="v"?xue(e):bue(e)},OU=function(t,e){return t==="v"?wue(e):_ue(e)},Tue=function(t,e){return t==="h"&&e==="rtl"?-1:1},Eue=function(t,e,n,s,r){var i=Tue(t,window.getComputedStyle(e).direction),a=i*s,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var g=OU(t,l),x=g[0],y=g[1],w=g[2],v=y-w-i*x;(x||v)&&MU(t,l)&&(h+=v,m+=x);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(r&&Math.abs(h)<1||!r&&a>h)||!d&&(r&&Math.abs(m)<1||!r&&-a>m))&&(u=!0),u},Pp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},NP=function(t){return[t.deltaX,t.deltaY]},IP=function(t){return t&&"current"in t?t.current:t},Sue=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Aue=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Nue=0,tc=[];function Iue(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),r=p.useState(Nue++)[0],i=p.useState(kU)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var y=Yce([t.lockRef.current],(t.shards||[]).map(IP),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=Pp(y),_=n.current,T="deltaX"in y?y.deltaX:_[0]-v[0],N="deltaY"in y?y.deltaY:_[1]-v[1],C,j=y.target,S=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in y&&S==="h"&&j.type==="range")return!1;var E=AP(S,j);if(!E)return!0;if(E?C=S:(C=S==="v"?"h":"v",E=AP(S,j)),!E)return!1;if(!s.current&&"changedTouches"in y&&(T||N)&&(s.current=C),!C)return!0;var I=s.current||C;return Eue(I,w,y,I==="h"?T:N,!0)},[]),c=p.useCallback(function(y){var w=y;if(!(!tc.length||tc[tc.length-1]!==i)){var v="deltaY"in w?NP(w):Pp(w),_=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&Sue(C.delta,v)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var T=(a.current.shards||[]).map(IP).filter(Boolean).filter(function(C){return C.contains(w.target)}),N=T.length>0?l(w,T[0]):!a.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(y,w,v,_){var T={name:y,delta:w,target:v,should:_,shadowParent:Cue(v)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),d=p.useCallback(function(y){n.current=Pp(y),s.current=void 0},[]),h=p.useCallback(function(y){u(y.type,NP(y),y.target,l(y,t.lockRef.current))},[]),m=p.useCallback(function(y){u(y.type,Pp(y),y.target,l(y,t.lockRef.current))},[]);p.useEffect(function(){return tc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ec),document.addEventListener("touchmove",c,ec),document.addEventListener("touchstart",d,ec),function(){tc=tc.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,ec),document.removeEventListener("touchmove",c,ec),document.removeEventListener("touchstart",d,ec)}},[]);var g=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:Aue(r)}):null,g?p.createElement(yue,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Cue(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Rue=rue(PU,Iue);var VU=p.forwardRef(function(t,e){return p.createElement(Cv,Tr({},t,{ref:e,sideCar:Rue}))});VU.classNames=Cv.classNames;const LU=VU;var m_=["Enter"," "],jue=["ArrowDown","PageUp","Home"],UU=["ArrowUp","PageDown","End"],Pue=[...jue,...UU],kue={ltr:[...m_,"ArrowRight"],rtl:[...m_,"ArrowLeft"]},Due={ltr:["ArrowLeft"],rtl:["ArrowRight"]},km="Menu",[Ff,Mue,Oue]=Iy(km),[Ol,FU]=Kr(km,[Oue,hU,Iv]),Rv=hU(),zU=Iv(),[Vue,Vl]=Ol(km),[Lue,Dm]=Ol(km),BU=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:i,modal:a=!0}=t,l=Rv(e),[c,u]=p.useState(null),d=p.useRef(!1),h=js(i),m=Tv(r);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),o.jsx(Ace,{...l,children:o.jsx(Vue,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(Lue,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:s})})})};BU.displayName=km;var Uue="MenuAnchor",QS=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Rv(n);return o.jsx(Nce,{...r,...s,ref:e})});QS.displayName=Uue;var XS="MenuPortal",[Fue,$U]=Ol(XS,{forceMount:void 0}),qU=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,i=Vl(XS,e);return o.jsx(Fue,{scope:e,forceMount:n,children:o.jsx(gr,{present:n||i.open,children:o.jsx(Ry,{asChild:!0,container:r,children:s})})})};qU.displayName=XS;var er="MenuContent",[zue,JS]=Ol(er),HU=p.forwardRef((t,e)=>{const n=$U(er,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Vl(er,t.__scopeMenu),a=Dm(er,t.__scopeMenu);return o.jsx(Ff.Provider,{scope:t.__scopeMenu,children:o.jsx(gr,{present:s||i.open,children:o.jsx(Ff.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(Bue,{...r,ref:e}):o.jsx($ue,{...r,ref:e})})})})}),Bue=p.forwardRef((t,e)=>{const n=Vl(er,t.__scopeMenu),s=p.useRef(null),r=dt(e,s);return p.useEffect(()=>{const i=s.current;if(i)return CU(i)},[]),o.jsx(ZS,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$ue=p.forwardRef((t,e)=>{const n=Vl(er,t.__scopeMenu);return o.jsx(ZS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),que=Fce("MenuContent.ScrollLock"),ZS=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...y}=t,w=Vl(er,n),v=Dm(er,n),_=Rv(n),T=zU(n),N=Mue(n),[C,j]=p.useState(null),S=p.useRef(null),E=dt(e,S,w.onContentChange),I=p.useRef(0),R=p.useRef(""),k=p.useRef(0),M=p.useRef(null),P=p.useRef("right"),$=p.useRef(0),H=x?LU:p.Fragment,O=x?{as:que,allowPinchZoom:!0}:void 0,q=K=>{var L,ee;const ie=R.current+K,ge=N().filter(te=>!te.disabled),Be=document.activeElement,Ye=(L=ge.find(te=>te.ref.current===Be))==null?void 0:L.textValue,V=ge.map(te=>te.textValue),Q=nde(V,ie,Ye),_e=(ee=ge.find(te=>te.textValue===Q))==null?void 0:ee.ref.current;(function te(le){R.current=le,window.clearTimeout(I.current),le!==""&&(I.current=window.setTimeout(()=>te(""),1e3))})(ie),_e&&setTimeout(()=>_e.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),X3();const B=p.useCallback(K=>{var ge,Be;return P.current===((ge=M.current)==null?void 0:ge.side)&&rde(K,(Be=M.current)==null?void 0:Be.area)},[]);return o.jsx(zue,{scope:n,searchRef:R,onItemEnter:p.useCallback(K=>{B(K)&&K.preventDefault()},[B]),onItemLeave:p.useCallback(K=>{var ie;B(K)||((ie=S.current)==null||ie.focus(),j(null))},[B]),onTriggerLeave:p.useCallback(K=>{B(K)&&K.preventDefault()},[B]),pointerGraceTimerRef:k,onPointerGraceIntentChange:p.useCallback(K=>{M.current=K},[]),children:o.jsx(H,{...O,children:o.jsx(FS,{asChild:!0,trapped:r,onMountAutoFocus:he(i,K=>{var ie;K.preventDefault(),(ie=S.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Cy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:o.jsx(AU,{asChild:!0,...T,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:j,onEntryFocus:he(c,K=>{v.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Ice,{role:"menu","aria-orientation":"vertical","data-state":o9(w.open),"data-radix-menu-content":"",dir:v.dir,..._,...y,ref:E,style:{outline:"none",...y.style},onKeyDown:he(y.onKeyDown,K=>{const ge=K.target.closest("[data-radix-menu-content]")===K.currentTarget,Be=K.ctrlKey||K.altKey||K.metaKey,Ye=K.key.length===1;ge&&(K.key==="Tab"&&K.preventDefault(),!Be&&Ye&&q(K.key));const V=S.current;if(K.target!==V||!Pue.includes(K.key))return;K.preventDefault();const _e=N().filter(L=>!L.disabled).map(L=>L.ref.current);UU.includes(K.key)&&_e.reverse(),ede(_e)}),onBlur:he(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:he(t.onPointerMove,zf(K=>{const ie=K.target,ge=$.current!==K.clientX;if(K.currentTarget.contains(ie)&&ge){const Be=K.clientX>$.current?"right":"left";P.current=Be,$.current=K.clientX}}))})})})})})})});HU.displayName=er;var Hue="MenuGroup",eA=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Me.div,{role:"group",...s,ref:e})});eA.displayName=Hue;var Gue="MenuLabel",GU=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Me.div,{...s,ref:e})});GU.displayName=Gue;var ny="MenuItem",CP="menu.itemSelect",jv=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,i=p.useRef(null),a=Dm(ny,t.__scopeMenu),l=JS(ny,t.__scopeMenu),c=dt(e,i),u=p.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(CP,{bubbles:!0,cancelable:!0});h.addEventListener(CP,g=>s==null?void 0:s(g),{once:!0}),TT(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(KU,{...r,ref:c,disabled:n,onClick:he(t.onClick,d),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:he(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:he(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||m_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});jv.displayName=ny;var KU=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=t,a=JS(ny,n),l=zU(n),c=p.useRef(null),u=dt(e,c),[d,h]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[i.children]),o.jsx(Ff.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:o.jsx(NU,{asChild:!0,...l,focusable:!s,children:o.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:he(t.onPointerMove,zf(x=>{s?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,zf(x=>a.onItemLeave(x))),onFocus:he(t.onFocus,()=>h(!0)),onBlur:he(t.onBlur,()=>h(!1))})})})}),Kue="MenuCheckboxItem",WU=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return o.jsx(ZU,{scope:t.__scopeMenu,checked:n,children:o.jsx(jv,{role:"menuitemcheckbox","aria-checked":sy(n)?"mixed":n,...r,ref:e,"data-state":nA(n),onSelect:he(r.onSelect,()=>s==null?void 0:s(sy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});WU.displayName=Kue;var YU="MenuRadioGroup",[Wue,Yue]=Ol(YU,{value:void 0,onValueChange:()=>{}}),QU=p.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,i=js(s);return o.jsx(Wue,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(eA,{...r,ref:e})})});QU.displayName=YU;var XU="MenuRadioItem",JU=p.forwardRef((t,e)=>{const{value:n,...s}=t,r=Yue(XU,t.__scopeMenu),i=n===r.value;return o.jsx(ZU,{scope:t.__scopeMenu,checked:i,children:o.jsx(jv,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":nA(i),onSelect:he(s.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,n)},{checkForDefaultPrevented:!1})})})});JU.displayName=XU;var tA="MenuItemIndicator",[ZU,Que]=Ol(tA,{checked:!1}),e9=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,i=Que(tA,n);return o.jsx(gr,{present:s||sy(i.checked)||i.checked===!0,children:o.jsx(Me.span,{...r,ref:e,"data-state":nA(i.checked)})})});e9.displayName=tA;var Xue="MenuSeparator",t9=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});t9.displayName=Xue;var Jue="MenuArrow",n9=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Rv(n);return o.jsx(Cce,{...r,...s,ref:e})});n9.displayName=Jue;var Zue="MenuSub",[dme,s9]=Ol(Zue),oh="MenuSubTrigger",r9=p.forwardRef((t,e)=>{const n=Vl(oh,t.__scopeMenu),s=Dm(oh,t.__scopeMenu),r=s9(oh,t.__scopeMenu),i=JS(oh,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(QS,{asChild:!0,...u,children:o.jsx(KU,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":o9(n.open),...t,ref:io(e,r.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,zf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:he(t.onPointerLeave,zf(h=>{var g,x;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(x=n.content)==null?void 0:x.dataset.side,w=y==="right",v=w?-5:5,_=m[w?"left":"right"],T=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:_,y:m.top},{x:T,y:m.top},{x:T,y:m.bottom},{x:_,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,h=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&h.key===" "||kue[s.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});r9.displayName=oh;var i9="MenuSubContent",a9=p.forwardRef((t,e)=>{const n=$U(er,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Vl(er,t.__scopeMenu),a=Dm(er,t.__scopeMenu),l=s9(i9,t.__scopeMenu),c=p.useRef(null),u=dt(e,c);return o.jsx(Ff.Provider,{scope:t.__scopeMenu,children:o.jsx(gr,{present:s||i.open,children:o.jsx(Ff.Slot,{scope:t.__scopeMenu,children:o.jsx(ZS,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),m=Due[a.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});a9.displayName=i9;function o9(t){return t?"open":"closed"}function sy(t){return t==="indeterminate"}function nA(t){return sy(t)?"indeterminate":t?"checked":"unchecked"}function ede(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tde(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function nde(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=tde(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function sde(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&n<(h-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function rde(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return sde(n,e)}function zf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ide=BU,ade=QS,ode=qU,lde=HU,cde=eA,ude=GU,dde=jv,hde=WU,fde=QU,mde=JU,pde=e9,gde=t9,yde=n9,vde=r9,xde=a9,Pv="DropdownMenu",[bde,hme]=Kr(Pv,[FU]),Jn=FU(),[wde,l9]=bde(Pv),c9=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=Jn(e),u=p.useRef(null),[d,h]=Cl({prop:r,defaultProp:i??!1,onChange:a,caller:Pv});return o.jsx(wde,{scope:e,triggerId:Qo(),triggerRef:u,contentId:Qo(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:l,children:o.jsx(ide,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:n})})};c9.displayName=Pv;var u9="DropdownMenuTrigger",d9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,i=l9(u9,n),a=Jn(n);return o.jsx(ade,{asChild:!0,...a,children:o.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:io(e,i.triggerRef),onPointerDown:he(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});d9.displayName=u9;var _de="DropdownMenuPortal",h9=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Jn(e);return o.jsx(ode,{...s,...n})};h9.displayName=_de;var f9="DropdownMenuContent",m9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=l9(f9,n),i=Jn(n),a=p.useRef(!1);return o.jsx(lde,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,l=>{var c;a.current||(c=r.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:he(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m9.displayName=f9;var Tde="DropdownMenuGroup",Ede=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(cde,{...r,...s,ref:e})});Ede.displayName=Tde;var Sde="DropdownMenuLabel",p9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(ude,{...r,...s,ref:e})});p9.displayName=Sde;var Ade="DropdownMenuItem",g9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(dde,{...r,...s,ref:e})});g9.displayName=Ade;var Nde="DropdownMenuCheckboxItem",y9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(hde,{...r,...s,ref:e})});y9.displayName=Nde;var Ide="DropdownMenuRadioGroup",Cde=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(fde,{...r,...s,ref:e})});Cde.displayName=Ide;var Rde="DropdownMenuRadioItem",v9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(mde,{...r,...s,ref:e})});v9.displayName=Rde;var jde="DropdownMenuItemIndicator",x9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(pde,{...r,...s,ref:e})});x9.displayName=jde;var Pde="DropdownMenuSeparator",b9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(gde,{...r,...s,ref:e})});b9.displayName=Pde;var kde="DropdownMenuArrow",Dde=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(yde,{...r,...s,ref:e})});Dde.displayName=kde;var Mde="DropdownMenuSubTrigger",w9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(vde,{...r,...s,ref:e})});w9.displayName=Mde;var Ode="DropdownMenuSubContent",_9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(xde,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_9.displayName=Ode;var Vde=c9,Lde=d9,Ude=h9,T9=m9,E9=p9,S9=g9,A9=y9,N9=v9,I9=x9,C9=b9,R9=w9,j9=_9;const Xo=Vde,Jo=Lde,Fde=p.forwardRef(({className:t,inset:e,children:n,...s},r)=>o.jsxs(R9,{ref:r,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,o.jsx(QH,{className:"ml-auto h-4 w-4"})]}));Fde.displayName=R9.displayName;const zde=p.forwardRef(({className:t,...e},n)=>o.jsx(j9,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));zde.displayName=j9.displayName;const La=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>o.jsx(Ude,{children:o.jsx(T9,{ref:s,sideOffset:e,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));La.displayName=T9.displayName;const Mt=p.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(S9,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Mt.displayName=S9.displayName;const Bde=p.forwardRef(({className:t,children:e,checked:n,...s},r)=>o.jsxs(A9,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(I9,{children:o.jsx(Xu,{className:"h-4 w-4"})})}),e]}));Bde.displayName=A9.displayName;const $de=p.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(N9,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(I9,{children:o.jsx(JH,{className:"h-2 w-2 fill-current"})})}),e]}));$de.displayName=N9.displayName;const $h=p.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(E9,{ref:s,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));$h.displayName=E9.displayName;const Pc=p.forwardRef(({className:t,...e},n)=>o.jsx(C9,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));Pc.displayName=C9.displayName;const qde=rm("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-teal-500 text-white shadow hover:bg-teal-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function In({className:t,variant:e,...n}){return o.jsx("div",{className:me(qde({variant:e}),t),...n})}const Hde=()=>{const[t,e]=p.useState(!0),[n,s]=p.useState(!0),r=Rn();p.useEffect(()=>{const d=Fi(Nt,h=>{h?h.email.toLowerCase()!=="alkaptin7878@mail.ru"?r("/"):s(!1):r("/admin/login")});return()=>d()},[r]);const[i,a]=p.useState([{id:1,text:"New store 'TechHub' awaiting approval",time:"5m ago",unread:!0},{id:2,text:"High server load detected",time:"1h ago",unread:!0},{id:3,text:"Daily backup completed",time:"4h ago",unread:!1}]),l=[{icon:FO,label:"Dashboard",path:"/admin"},{icon:OT,label:"Users",path:"/admin/users"},{icon:Th,label:"Stores",path:"/admin/stores"},{icon:kT,label:"Templates",path:"/admin/templates"},{icon:fu,label:"Pricing Plans",path:"/admin/pricing"},{icon:Py,label:"Settings",path:"/admin/settings"},{icon:eG,label:"Logs",path:"/admin/logs"}],c=async()=>{await NE(Nt),r("/admin/login")},u=i.filter(d=>d.unread).length;return n?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans",children:[o.jsxs(de.aside,{initial:!1,animate:{width:t?280:0,opacity:t?1:0},className:"bg-slate-900 text-white fixed md:static inset-y-0 left-0 z-40 overflow-hidden flex flex-col transition-all duration-300 shadow-xl",children:[o.jsx("div",{className:"p-6 flex items-center justify-between min-w-[280px]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-teal-400 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"font-bold text-white",children:"SB"})}),o.jsx("span",{className:"font-bold text-xl",children:"Admin Panel"})]})}),o.jsx("nav",{className:"flex-1 px-4 py-4 min-w-[280px]",children:o.jsx("div",{className:"space-y-1",children:l.map(d=>{const h=d.icon;return o.jsxs(iO,{to:d.path,end:d.path==="/admin",className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?"bg-teal-500/10 text-teal-400 border border-teal-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[o.jsx(h,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:d.label})]},d.path)})})}),o.jsx("div",{className:"p-4 border-t border-slate-800 min-w-[280px]",children:o.jsxs(W,{onClick:c,variant:"ghost",className:"w-full justify-start text-slate-400 hover:text-red-400 hover:bg-red-500/10 gap-3",children:[o.jsx(RT,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-30",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-slate-500 hover:bg-slate-100",children:t?o.jsx(Ha,{className:"w-5 h-5"}):o.jsx(jT,{className:"w-5 h-5"})}),o.jsxs("div",{className:"hidden md:flex items-center relative",children:[o.jsx(Ho,{className:"w-4 h-4 absolute left-3 text-slate-400"}),o.jsx(ce,{placeholder:"Global search...",className:"pl-9 w-64 bg-slate-50 border-slate-200 focus:bg-white transition-all"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:"relative text-slate-500 hover:bg-slate-100",children:[o.jsx(GH,{className:"w-5 h-5"}),u>0&&o.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]})}),o.jsxs(La,{align:"end",className:"w-80",children:[o.jsx($h,{children:"Notifications"}),o.jsx(Pc,{}),o.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:i.map(d=>o.jsxs(Mt,{className:"flex flex-col items-start p-3 cursor-pointer",children:[o.jsxs("div",{className:"flex justify-between w-full",children:[o.jsx("span",{className:`text-sm ${d.unread?"font-semibold text-slate-900":"text-slate-600"}`,children:d.text}),d.unread&&o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]}),o.jsx("span",{className:"text-xs text-slate-400 mt-1",children:d.time})]},d.id))})]})]}),o.jsx("div",{className:"h-8 w-[1px] bg-slate-200 mx-2"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right hidden md:block",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Admin User"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Super Admin"})]}),o.jsx("div",{className:"w-9 h-9 bg-teal-100 rounded-full flex items-center justify-center border-2 border-teal-50 text-teal-700 font-bold text-sm shadow-sm",children:"AD"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-slate-50 p-6 md:p-8",children:o.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:o.jsx(wT,{})})})]})]})},We=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("rounded-xl border bg-card text-card-foreground shadow",t),...e}));We.displayName="Card";const It=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",t),...e}));It.displayName="CardHeader";const Ct=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:me("font-semibold leading-none tracking-tight",t),...e}));Ct.displayName="CardTitle";const gn=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",t),...e}));gn.displayName="CardDescription";const Xe=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("p-6 pt-0",t),...e}));Xe.displayName="CardContent";const sA=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",t),...e}));sA.displayName="CardFooter";const RP=({data:t,color:e})=>{const n=Math.max(...t),s=t.map((r,i)=>{const a=i/(t.length-1)*100,l=100-r/n*100;return`${a},${l}`}).join(" ");return o.jsx("div",{className:"relative h-full w-full overflow-hidden",children:o.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"h-full w-full",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${e}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.2"}),o.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),o.jsx(de.path,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"},d:`M0,100 ${s.split(" ").map(r=>"L"+r).join(" ")} L100,100 Z`,fill:`url(#gradient-${e})`}),o.jsx(de.polyline,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"},points:s,fill:"none",stroke:e,strokeWidth:"2",vectorEffect:"non-scaling-stroke"})]})})},Gde=()=>{const t=[30,45,35,50,40,60,55,70,65,80,75,90],e=[{title:"Total Sales",value:"$124,592.00",change:"+12.5%",trend:"up",icon:LO,color:"text-emerald-600",bg:"bg-emerald-100",chartColor:"#10b981"},{title:"Active Stores",value:"1,204",change:"+56 this week",trend:"up",icon:ky,color:"text-blue-600",bg:"bg-blue-100",chartColor:"#2563eb"},{title:"Active Users",value:"3,450",change:"-1.2%",trend:"down",icon:OT,color:"text-purple-600",bg:"bg-purple-100",chartColor:"#9333ea"},{title:"Server Load",value:"42%",change:"Optimal",trend:"stable",icon:$H,color:"text-orange-600",bg:"bg-orange-100",chartColor:"#f97316"}];return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard Overview"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Real-time platform performance and metrics."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{variant:"outline",children:"Download Report"}),o.jsx(W,{className:"bg-teal-600 hover:bg-teal-700",children:"View Live Analytics"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,s)=>{const r=n.icon;return o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:s*.1},children:o.jsxs(We,{className:"hover:shadow-lg transition-all duration-300 border-slate-200",children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Ct,{className:"text-sm font-medium text-slate-600",children:n.title}),o.jsx("div",{className:`p-2 rounded-lg ${n.bg}`,children:o.jsx(r,{className:`w-4 h-4 ${n.color}`})})]}),o.jsxs(Xe,{children:[o.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.value}),o.jsxs("div",{className:`flex items-center text-xs font-medium ${n.trend==="up"?"text-emerald-600":n.trend==="down"?"text-red-600":"text-slate-500"}`,children:[n.trend==="up"?o.jsx(OO,{className:"w-3 h-3 mr-1"}):n.trend==="down"?o.jsx(qH,{className:"w-3 h-3 mr-1"}):null,n.change]})]}),o.jsx("div",{className:"h-10 w-full",children:o.jsx(RP,{data:[40,30,45,50,60,45,65],color:n.chartColor})})]})]})},s)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:o.jsxs(We,{className:"h-full border-slate-200",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Ct,{children:"Revenue Analytics"}),o.jsx(gn,{children:"Monthly revenue growth compared to previous year"})]}),o.jsxs("select",{className:"text-sm border rounded-md px-2 py-1 bg-slate-50 text-slate-600 outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{children:"This Year"}),o.jsx("option",{children:"Last Year"})]})]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"h-[300px] w-full pt-4",children:o.jsx(RP,{data:t,color:"#10b981"})}),o.jsxs("div",{className:"flex justify-between mt-4 text-xs text-slate-400 uppercase tracking-wide",children:[o.jsx("span",{children:"Jan"}),o.jsx("span",{children:"Feb"}),o.jsx("span",{children:"Mar"}),o.jsx("span",{children:"Apr"}),o.jsx("span",{children:"May"}),o.jsx("span",{children:"Jun"}),o.jsx("span",{children:"Jul"}),o.jsx("span",{children:"Aug"}),o.jsx("span",{children:"Sep"}),o.jsx("span",{children:"Oct"}),o.jsx("span",{children:"Nov"}),o.jsx("span",{children:"Dec"})]})]})]})}),o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:o.jsxs(We,{className:"h-full border-slate-200",children:[o.jsxs(It,{children:[o.jsx(Ct,{children:"Traffic Sources"}),o.jsx(gn,{children:"Where your users are coming from"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"space-y-6",children:[{source:"Direct",value:"45%",color:"bg-blue-500"},{source:"Social Media",value:"32%",color:"bg-purple-500"},{source:"Organic Search",value:"15%",color:"bg-emerald-500"},{source:"Referral",value:"8%",color:"bg-orange-500"}].map((n,s)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-700",children:n.source}),o.jsx("span",{className:"text-slate-500",children:n.value})]}),o.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:o.jsx(de.div,{initial:{width:0},animate:{width:n.value},transition:{duration:1,delay:.5+s*.1},className:`h-full ${n.color} rounded-full`})})]},s))})})]})})]})]})};function P9(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var kv="Checkbox",[Kde,fme]=Kr(kv),[Wde,rA]=Kde(kv);function Yde(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:r,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[m,g]=Cl({prop:n,defaultProp:r??!1,onChange:c,caller:kv}),[x,y]=p.useState(null),[w,v]=p.useState(null),_=p.useRef(!1),T=x?!!a||!!x.closest("form"):!0,N={checked:m,disabled:i,setChecked:g,control:x,setControl:y,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:Ua(r)?!1:r,isFormControl:T,bubbleInput:w,setBubbleInput:v};return o.jsx(Wde,{scope:e,...N,children:Qde(h)?h(N):s})}var k9="CheckboxTrigger",D9=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},r)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:x}=rA(k9,t),y=dt(r,d),w=p.useRef(c);return p.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const _=()=>h(w.current);return v.addEventListener("reset",_),()=>v.removeEventListener("reset",_)}},[i,h]),o.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Ua(c)?"mixed":c,"aria-required":u,"data-state":U9(c),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:y,onKeyDown:he(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:he(n,v=>{h(_=>Ua(_)?!0:!_),x&&g&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});D9.displayName=k9;var iA=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return o.jsx(Yde,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(D9,{...h,ref:e,__scopeCheckbox:n}),m&&o.jsx(L9,{__scopeCheckbox:n})]})})});iA.displayName=kv;var M9="CheckboxIndicator",O9=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...r}=t,i=rA(M9,n);return o.jsx(gr,{present:s||Ua(i.checked)||i.checked===!0,children:o.jsx(Me.span,{"data-state":U9(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});O9.displayName=M9;var V9="CheckboxBubbleInput",L9=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:g}=rA(V9,t),x=dt(n,g),y=P9(i),w=KS(s);p.useEffect(()=>{const _=m;if(!_)return;const T=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(T,"checked").set,j=!r.current;if(y!==i&&C){const S=new Event("click",{bubbles:j});_.indeterminate=Ua(i),C.call(_,Ua(i)?!1:i),_.dispatchEvent(S)}},[m,y,i,r]);const v=p.useRef(Ua(i)?!1:i);return o.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:x,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L9.displayName=V9;function Qde(t){return typeof t=="function"}function Ua(t){return t==="indeterminate"}function U9(t){return Ua(t)?"indeterminate":t?"checked":"unchecked"}const vl=p.forwardRef(({className:t,...e},n)=>o.jsx(iA,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(O9,{className:me("flex items-center justify-center text-current"),children:o.jsx(Xu,{className:"h-4 w-4"})})}));vl.displayName=iA.displayName;function Xde(t){const e=Jde(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(ehe);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Jde(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=nhe(r),l=the(i,r.props);return r.type!==p.Fragment&&(l.ref=s?io(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zde=Symbol("radix.slottable");function ehe(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zde}function the(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function nhe(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dv="Dialog",[F9,mme]=Kr(Dv),[she,vr]=F9(Dv),z9=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=Cl({prop:s,defaultProp:r??!1,onChange:i,caller:Dv});return o.jsx(she,{scope:e,triggerRef:l,contentRef:c,contentId:Qo(),titleId:Qo(),descriptionId:Qo(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};z9.displayName=Dv;var B9="DialogTrigger",$9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=vr(B9,n),i=dt(e,r.triggerRef);return o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":lA(r.open),...s,ref:i,onClick:he(t.onClick,r.onOpenToggle)})});$9.displayName=B9;var aA="DialogPortal",[rhe,q9]=F9(aA,{forceMount:void 0}),H9=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=vr(aA,e);return o.jsx(rhe,{scope:e,forceMount:n,children:p.Children.map(s,a=>o.jsx(gr,{present:n||i.open,children:o.jsx(Ry,{asChild:!0,container:r,children:a})}))})};H9.displayName=aA;var ry="DialogOverlay",G9=p.forwardRef((t,e)=>{const n=q9(ry,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=vr(ry,t.__scopeDialog);return i.modal?o.jsx(gr,{present:s||i.open,children:o.jsx(ahe,{...r,ref:e})}):null});G9.displayName=ry;var ihe=Xde("DialogOverlay.RemoveScroll"),ahe=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=vr(ry,n);return o.jsx(LU,{as:ihe,allowPinchZoom:!0,shards:[r.contentRef],children:o.jsx(Me.div,{"data-state":lA(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),xl="DialogContent",K9=p.forwardRef((t,e)=>{const n=q9(xl,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=vr(xl,t.__scopeDialog);return o.jsx(gr,{present:s||i.open,children:i.modal?o.jsx(ohe,{...r,ref:e}):o.jsx(lhe,{...r,ref:e})})});K9.displayName=xl;var ohe=p.forwardRef((t,e)=>{const n=vr(xl,t.__scopeDialog),s=p.useRef(null),r=dt(e,n.contentRef,s);return p.useEffect(()=>{const i=s.current;if(i)return CU(i)},[]),o.jsx(W9,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault())})}),lhe=p.forwardRef((t,e)=>{const n=vr(xl,t.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return o.jsx(W9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),W9=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=t,l=vr(xl,n),c=p.useRef(null),u=dt(e,c);return X3(),o.jsxs(o.Fragment,{children:[o.jsx(FS,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:o.jsx(Cy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lA(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(che,{titleId:l.titleId}),o.jsx(dhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),oA="DialogTitle",Y9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=vr(oA,n);return o.jsx(Me.h2,{id:r.titleId,...s,ref:e})});Y9.displayName=oA;var Q9="DialogDescription",X9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=vr(Q9,n);return o.jsx(Me.p,{id:r.descriptionId,...s,ref:e})});X9.displayName=Q9;var J9="DialogClose",Z9=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=vr(J9,n);return o.jsx(Me.button,{type:"button",...s,ref:e,onClick:he(t.onClick,()=>r.onOpenChange(!1))})});Z9.displayName=J9;function lA(t){return t?"open":"closed"}var eF="DialogTitleWarning",[pme,tF]=qq(eF,{contentName:xl,titleName:oA,docsSlug:"dialog"}),che=({titleId:t})=>{const e=tF(eF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uhe="DialogDescriptionWarning",dhe=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tF(uhe).contentName}}.`;return p.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},nF=z9,hhe=$9,Mv=H9,Ov=G9,Vv=K9,Lv=Y9,Uv=X9,sF=Z9;const Uu=nF,rF=({className:t,...e})=>o.jsx(Mv,{className:me(t),...e});rF.displayName=Mv.displayName;const iF=p.forwardRef(({className:t,...e},n)=>o.jsx(Ov,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iF.displayName=Ov.displayName;const bl=p.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(rF,{children:[o.jsx(iF,{}),o.jsxs(Vv,{ref:s,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(sF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ha,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bl.displayName=Vv.displayName;const wl=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wl.displayName="DialogHeader";const Fu=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fu.displayName="DialogFooter";const _l=p.forwardRef(({className:t,...e},n)=>o.jsx(Lv,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));_l.displayName=Lv.displayName;const Bf=p.forwardRef(({className:t,...e},n)=>o.jsx(Uv,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));Bf.displayName=Uv.displayName;const Mm=p.createContext({}),fhe=({children:t,value:e,onValueChange:n,disabled:s})=>{const[r,i]=p.useState(!1),[a,l]=p.useState({}),c=(u,d)=>{l(h=>({...h,[u]:d}))};return o.jsx(Mm.Provider,{value:{value:e,onValueChange:n,open:r,setOpen:i,disabled:s,labels:a,registerLabel:c},children:o.jsx("div",{className:"relative",children:t})})},mhe=({className:t,children:e,...n})=>{const{open:s,setOpen:r,disabled:i}=p.useContext(Mm);return o.jsxs("button",{type:"button",className:me("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),onClick:()=>!i&&r(!s),...n,children:[e,o.jsx(YH,{className:"h-4 w-4 opacity-50"})]})},phe=({placeholder:t,className:e})=>{const{value:n,labels:s}=p.useContext(Mm);return o.jsx("span",{className:me("block truncate",e),children:s[n]||n||t})},ghe=({className:t,children:e,...n})=>{const{open:s,setOpen:r}=p.useContext(Mm);return s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>r(!1)}),o.jsx("div",{className:me("absolute top-[calc(100%+4px)] z-50 min-w-[8rem] w-full overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md animate-in fade-in-80",t),...n,children:o.jsx("div",{className:"p-1",children:e})})]}):null},kp=({className:t,children:e,value:n,...s})=>{const{value:r,onValueChange:i,setOpen:a,registerLabel:l}=p.useContext(Mm),c=r===n;return p.useEffect(()=>{e&&l(n,e)},[n,e,l]),o.jsxs("div",{className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-slate-100 focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c&&"font-semibold",t),onClick:u=>{u.stopPropagation(),i(n),a(!1)},...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c&&o.jsx(Xu,{className:"h-4 w-4"})}),e]})},Ll=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",t),...e})}));Ll.displayName="Table";const Ul=p.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:me("[&_tr]:border-b",t),...e}));Ul.displayName="TableHeader";const Fl=p.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",t),...e}));Fl.displayName="TableBody";const yhe=p.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));yhe.displayName="TableFooter";const Qn=p.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Qn.displayName="TableRow";const Ue=p.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:me("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Ue.displayName="TableHead";const ke=p.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:me("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ke.displayName="TableCell";const vhe=p.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",t),...e}));vhe.displayName="TableCaption";const xhe=()=>{const{toast:t}=qt(),[e,n]=p.useState([]),[s,r]=p.useState(""),[i,a]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(null),[h,m]=p.useState("monthly"),[g,x]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const E=(await gv(rt(ue,"users"))).docs.map(I=>({id:I.id,...I.data(),joined:I.data().createdAt?new Date(I.data().createdAt.seconds*1e3).toLocaleDateString():"N/A"}));a(E)}catch(S){console.error("Error fetching users:",S);let E="Failed to fetch users";S.code==="permission-denied"?E="Access denied: You do not have permission to view users.":S.message&&(E=S.message),t({title:"Error",description:E,variant:"destructive"})}finally{c(!1)}})()},[]);const y=async()=>{if(!u)return;const j=new Date;let S=new Date;switch(h){case"monthly":S.setDate(j.getDate()+30);break;case"quarterly":S.setMonth(j.getMonth()+3);break;case"yearly":S.setFullYear(j.getFullYear()+1);break;case"lifetime":S=null;break;default:S.setDate(j.getDate()+30)}try{console.log("Updating user subscription:",u.id),await Ml(Ke(ue,"users",u.id),{status:"active",subscription:{plan:h,startDate:Rt.fromDate(j),endDate:S?Rt.fromDate(S):null,isActive:!0}},{merge:!0});const E=await sr(Ke(ue,"users",u.id));if(console.log("Verification Read:",E.data()),!E.exists()||!E.data().subscription)throw new Error("Verification failed: Data was not saved correctly.");a(i.map(I=>I.id===u.id?{...I,status:"active",subscription:{plan:h,startDate:{seconds:j.getTime()/1e3},endDate:S?{seconds:S.getTime()/1e3}:null,isActive:!0}}:I)),t({title:"   ",description:`   ${h} `,variant:"success"}),x(!1),d(null)}catch(E){console.error("Error activating subscription:",E),t({title:"",description:"    : "+E.message,variant:"destructive"})}},w=async(j,S)=>{const E=[...i];a(i.map(I=>I.id===j?{...I,status:S}:I));try{await Ja(Ke(ue,"users",j),{status:S}),t({title:"Status Updated",description:`User status set to ${S}`,variant:"success"})}catch{a(E),t({title:"Error",description:"Failed to update status",variant:"destructive"})}},v=j=>{n(j?i.map(S=>S.id):[])},_=(j,S)=>{n(S?[...e,j]:e.filter(E=>E!==j))},T=()=>{confirm(`Are you sure you want to delete ${e.length} users?`)&&(a(i.filter(j=>!e.includes(j.id))),n([]),t({title:"Users deleted",description:"Selected users have been removed successfully.",variant:"success"}))},N=()=>{const S=[["ID","Name","Email","Role","Status","Joined Date"].join(","),...i.map(k=>[k.id,k.name,k.email,k.role,k.status,k.joined].join(","))].join(`
`),E=new Blob([S],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(E),R=document.createElement("a");R.setAttribute("href",I),R.setAttribute("download","users_export.csv"),document.body.appendChild(R),R.click(),document.body.removeChild(R),t({title:"Export Started",description:"Your CSV file is downloading.",variant:"success"})},C=i.filter(j=>j.name.toLowerCase().includes(s.toLowerCase())||j.email.toLowerCase().includes(s.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage accounts, permissions, and user status."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(W,{variant:"outline",onClick:N,className:"gap-2",children:[o.jsx(_h,{className:"w-4 h-4"})," Export"]}),o.jsxs(W,{className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(mf,{className:"w-4 h-4"})," Add Admin"]})]})]}),e.length>0&&o.jsxs(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-teal-50 border border-teal-100 p-3 rounded-lg flex items-center justify-between text-sm text-teal-900",children:[o.jsxs("span",{className:"font-medium",children:[e.length," users selected"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",variant:"outline",className:"border-teal-200 hover:bg-teal-100",children:"Change Role"}),o.jsx(W,{size:"sm",variant:"destructive",onClick:T,children:"Delete Selected"})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ho,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:"Search by name or email...",className:"pl-10 bg-slate-50 border-slate-200 focus:bg-white",value:s,onChange:j=>r(j.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:"gap-2",children:[o.jsx(hf,{className:"w-4 h-4"})," Filter Role"]})}),o.jsxs(La,{children:[o.jsx($h,{children:"Filter by Role"}),o.jsx(Pc,{}),o.jsx(Mt,{children:"Admin"}),o.jsx(Mt,{children:"Store Owner"}),o.jsx(Mt,{children:"Support"})]})]}),o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:"gap-2",children:[o.jsx(hf,{className:"w-4 h-4"})," Filter Status"]})}),o.jsxs(La,{children:[o.jsx($h,{children:"Filter by Status"}),o.jsx(Pc,{}),o.jsx(Mt,{children:"Active"}),o.jsx(Mt,{children:"Pending"}),o.jsx(Mt,{children:"Inactive"})]})]})]})]}),o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(Ll,{children:[o.jsx(Ul,{children:o.jsxs(Qn,{className:"bg-slate-50/50",children:[o.jsx(Ue,{className:"w-12",children:o.jsx(vl,{checked:e.length===i.length&&i.length>0,onCheckedChange:v})}),o.jsx(Ue,{children:"User Details"}),o.jsx(Ue,{children:"Role"}),o.jsx(Ue,{children:"Status"}),o.jsx(Ue,{children:"Joined Date"}),o.jsx(Ue,{className:"text-right",children:"Actions"})]})}),o.jsx(Fl,{children:C.map(j=>o.jsxs(Qn,{className:"hover:bg-slate-50/50 transition-colors",children:[o.jsx(ke,{children:o.jsx(vl,{checked:e.includes(j.id),onCheckedChange:S=>_(j.id,S)})}),o.jsx(ke,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-slate-900",children:j.name}),o.jsx("span",{className:"text-xs text-slate-500",children:j.email}),o.jsxs("span",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:["ID: ",j.id.substring(0,8),"..."]})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[j.role==="Admin"?o.jsx(mf,{className:"w-3 h-3 text-indigo-500"}):null,o.jsx("span",{className:"text-sm",children:j.role})]})}),o.jsx(ke,{children:o.jsx(In,{variant:(j.status||"").toLowerCase()==="active"?"success":(j.status||"").toLowerCase()==="pending"?"warning":"secondary",children:j.status})}),o.jsx(ke,{className:"text-slate-500 text-sm",children:j.joined}),o.jsx(ke,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs(W,{size:"sm",variant:"outline",className:"gap-2 border-indigo-200 text-indigo-700 hover:bg-indigo-50",onClick:()=>{d(j),x(!0)},children:[o.jsx(PT,{className:"w-4 h-4"})," "]}),(j.status||"").toLowerCase()==="pending"&&o.jsxs(W,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8",onClick:()=>w(j.id,"active"),children:[o.jsx(qa,{className:"w-4 h-4 mr-2"})," Activate"]}),o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-slate-100",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(UO,{className:"h-4 w-4 text-slate-500"})]})}),o.jsxs(La,{align:"end",children:[o.jsx($h,{children:"Actions"}),o.jsxs(Mt,{className:"gap-2",onClick:()=>w(j.id,"active"),children:[o.jsx(qa,{className:"w-4 h-4 text-green-500"})," Activate"]}),o.jsxs(Mt,{className:"gap-2",onClick:()=>w(j.id,"inactive"),children:[o.jsx(Ww,{className:"w-4 h-4 text-red-500"})," Deactivate"]}),o.jsx(Pc,{}),o.jsxs(Mt,{className:"gap-2",children:[o.jsx(i0,{className:"w-4 h-4"})," Send Email"]}),o.jsx(Pc,{}),o.jsxs(Mt,{className:"text-red-600 gap-2",children:[o.jsx(im,{className:"w-4 h-4"})," Delete User"]})]})]})]})})]},j.id))})]})}),o.jsx(Uu,{open:g,onOpenChange:x,children:o.jsxs(bl,{children:[o.jsxs(wl,{children:[o.jsx(_l,{children:"  "}),o.jsx(Bf,{children:"   .       ."})]}),o.jsx("div",{className:"py-4",children:o.jsxs(fhe,{value:h,onValueChange:m,children:[o.jsx(mhe,{children:o.jsx(phe,{placeholder:" "})}),o.jsxs(ghe,{children:[o.jsx(kp,{value:"monthly",children:"  (30 )"}),o.jsx(kp,{value:"quarterly",children:"   (3 )"}),o.jsx(kp,{value:"yearly",children:"  ( )"}),o.jsx(kp,{value:"lifetime",children:"  "})]})]})}),o.jsxs(Fu,{children:[o.jsx(W,{variant:"outline",onClick:()=>x(!1),children:""}),o.jsx(W,{onClick:y,className:"bg-teal-600 hover:bg-teal-700 text-white",children:" "})]})]})})]})},bhe=()=>{const{toast:t}=qt();p.useState([]);const[e,n]=p.useState([{id:1,name:"Urban Trends",owner:"John Doe",plan:"Professional",status:"Active",revenue:"$45,200"},{id:2,name:"Eco Life",owner:"Sarah Smith",plan:"Starter",status:"Pending Approval",revenue:"$0"},{id:3,name:"Tech Haven",owner:"Mike Johnson",plan:"Enterprise",status:"Active",revenue:"$120,500"},{id:4,name:"Style Boutique",owner:"Emma Wilson",plan:"Professional",status:"Suspended",revenue:"$12,300"},{id:5,name:"Cairo Crafts",owner:"Ahmed Hassan",plan:"Starter",status:"Active",revenue:"$3,400"}]),s=()=>{const i=[["ID","Store Name","Owner","Plan","Status","Revenue"].join(","),...e.map(u=>[u.id,u.name,u.owner,u.plan,u.status,u.revenue.replace("$","")].join(","))].join(`
`),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(a),c=document.createElement("a");c.setAttribute("href",l),c.setAttribute("download","stores_export.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c),t({title:"Export Success",description:"Store data exported to CSV.",variant:"success"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Store Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Monitor performance and manage store approvals."})]}),o.jsxs(W,{variant:"outline",onClick:s,className:"gap-2",children:[o.jsx(_h,{className:"w-4 h-4"})," Export Data"]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ky,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:"Search stores...",className:"pl-10 bg-slate-50"})]}),o.jsxs(W,{variant:"outline",className:"gap-2",children:[o.jsx(hf,{className:"w-4 h-4"})," Filter Status"]})]}),o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(Ll,{children:[o.jsx(Ul,{children:o.jsxs(Qn,{className:"bg-slate-50/50",children:[o.jsx(Ue,{className:"w-12",children:o.jsx(vl,{})}),o.jsx(Ue,{children:"Store Name"}),o.jsx(Ue,{children:"Owner"}),o.jsx(Ue,{children:"Plan"}),o.jsx(Ue,{children:"Status"}),o.jsx(Ue,{children:"Total Revenue"}),o.jsx(Ue,{className:"text-right",children:"Actions"})]})}),o.jsx(Fl,{children:e.map(r=>o.jsxs(Qn,{className:"hover:bg-slate-50/50",children:[o.jsx(ke,{children:o.jsx(vl,{})}),o.jsx(ke,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.name,o.jsx("a",{href:"#",className:"text-slate-400 hover:text-teal-500",children:o.jsx(r0,{className:"w-3 h-3"})})]})}),o.jsx(ke,{children:r.owner}),o.jsx(ke,{children:o.jsx(In,{variant:"outline",className:"bg-slate-50 border-slate-200",children:r.plan})}),o.jsx(ke,{children:o.jsx(In,{variant:r.status==="Active"?"success":r.status==="Pending Approval"?"warning":"destructive",children:r.status})}),o.jsx(ke,{className:"font-mono text-slate-600",children:r.revenue}),o.jsx(ke,{className:"text-right",children:r.status==="Pending Approval"?o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(W,{size:"sm",className:"bg-green-500 hover:bg-green-600 text-white h-8 w-8 p-0",children:o.jsx(Xu,{className:"w-4 h-4"})}),o.jsx(W,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",children:o.jsx(Ha,{className:"w-4 h-4"})})]}):o.jsx(W,{variant:"ghost",size:"sm",children:"Manage"})})]},r.id))})]})})]})},whe=()=>{const t=[{name:"Starter",price:29,period:"/month",description:"Perfect for small businesses",features:["Up to 100 products","Basic analytics","5GB storage","Email support"],active:!0},{name:"Professional",price:79,period:"/month",description:"Best for growing businesses",features:["Unlimited products","Advanced analytics","50GB storage","Priority support","Custom domain"],active:!0,popular:!0},{name:"Enterprise",price:199,period:"/month",description:"For large-scale operations",features:["Unlimited storage","Dedicated account manager","API access","White-label options"],active:!0}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Pricing Plans"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Configure subscription plans and features."})]}),o.jsxs(W,{className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(qo,{className:"w-4 h-4"})," Add Plan"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((e,n)=>o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:o.jsxs(We,{className:"relative h-full flex flex-col",children:[e.popular&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:o.jsx(In,{variant:"success",children:"Most Popular"})}),o.jsxs(It,{children:[o.jsxs(Ct,{className:"flex justify-between items-center",children:[e.name,o.jsx(In,{variant:e.active?"outline":"secondary",children:e.active?"Active":"Draft"})]}),o.jsx(gn,{children:e.description})]}),o.jsxs(Xe,{className:"flex-1",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"text-3xl font-bold text-slate-900",children:xt(e.price)}),o.jsx("span",{className:"text-slate-500",children:e.period})]}),o.jsx("ul",{className:"space-y-2",children:e.features.map((s,r)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[o.jsx(qa,{className:"w-4 h-4 text-teal-500"}),s]},r))})]}),o.jsxs(sA,{className:"flex gap-2 border-t pt-4 bg-slate-50/50",children:[o.jsxs(W,{variant:"outline",className:"flex-1 gap-2",children:[o.jsx(MT,{className:"w-4 h-4"})," Edit"]}),o.jsx(W,{variant:"outline",className:"flex-none text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(im,{className:"w-4 h-4"})})]})]})},n))})]})};var _he=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],The=_he.reduce((t,e)=>{const n=T4(`Primitive.${e}`),s=p.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Ehe="Label",aF=p.forwardRef((t,e)=>o.jsx(The.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aF.displayName=Ehe;var oF=aF;const She=rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=p.forwardRef(({className:t,...e},n)=>o.jsx(oF,{ref:n,className:me(She(),t),...e}));re.displayName=oF.displayName;const Ahe=()=>{const{toast:t}=qt(),[e,n]=p.useState("connected"),[s,r]=p.useState("error"),[i,a]=p.useState(!1),[l,c]=p.useState("");p.useEffect(()=>{(async()=>{try{const m=Ke(ue,"settings","platform"),g=await sr(m);if(g.exists()){const x=g.data();x.whatsappNumber&&c(x.whatsappNumber)}}catch(m){console.error("Error fetching settings:",m)}})()},[]);const u=async()=>{a(!0);try{await Ml(Ke(ue,"settings","platform"),{whatsappNumber:l},{merge:!0}),t({title:"Settings Saved",description:"Your configuration has been updated successfully.",variant:"success"})}catch{t({title:"Error Saving Settings",description:"There was an error saving your changes.",variant:"destructive"})}finally{a(!1)}},d=({status:h})=>h==="connected"?o.jsxs(In,{variant:"success",className:"flex items-center gap-1 bg-emerald-500 hover:bg-emerald-600",children:[o.jsx(qa,{className:"w-3 h-3"})," Connected"]}):h==="error"?o.jsxs(In,{variant:"destructive",className:"flex items-center gap-1",children:[o.jsx(Ww,{className:"w-3 h-3"})," Connection Failed"]}):o.jsx(In,{variant:"secondary",className:"flex items-center gap-1",children:"Not Configured"});return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Settings"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage third-party integrations and API keys."})]}),o.jsxs(We,{className:"border-l-4 border-l-green-500",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(DT,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx(Ct,{children:"Account Activation"}),o.jsx(gn,{children:"Configure contact method for account activation"})]})]})}),o.jsx(Xe,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Activation WhatsApp Number"}),o.jsx(ce,{type:"text",placeholder:"+201xxxxxxxxx",value:l,onChange:h=>c(h.target.value)}),o.jsx("p",{className:"text-xs text-slate-500",children:"This number will be used for users to request account activation."})]})})]}),o.jsxs(We,{className:"border-l-4 border-l-blue-500",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(fu,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx(Ct,{children:"Payment Gateways"}),o.jsx(gn,{children:"Configure Paymob & Stripe keys"})]})]}),o.jsx(d,{status:e})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Paymob API Key"}),o.jsx(ce,{type:"password",placeholder:"Enter your Paymob API Key",defaultValue:"************************"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Paymob Secret"}),o.jsx(ce,{type:"password",placeholder:"Enter your Paymob Secret",defaultValue:"************************"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Paymob Integration ID"}),o.jsx(ce,{type:"text",placeholder:"e.g. 123456",defaultValue:"847291"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"HMAC Secret"}),o.jsx(ce,{type:"password",defaultValue:"****************"})]})]}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(W,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>n("connected"),children:[o.jsx(Bc,{className:"w-3 h-3"})," Test Connection"]})})]})]}),o.jsxs(We,{className:"border-l-4 border-l-orange-500",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:o.jsx(rl,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx(Ct,{children:"Shipping Providers"}),o.jsx(gn,{children:"Configure Bosta & Shipping Rules"})]})]}),o.jsx(d,{status:s})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Bosta API Key"}),o.jsx(ce,{type:"password",placeholder:"Enter your Bosta API Key",className:"border-red-300 focus-visible:ring-red-200"}),o.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[o.jsx(Ww,{className:"w-3 h-3"})," Invalid API Key provided"]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("input",{type:"checkbox",id:"bosta-sandbox",className:"rounded border-slate-300 text-teal-600 focus:ring-teal-500"}),o.jsx(re,{htmlFor:"bosta-sandbox",className:"font-normal cursor-pointer",children:"Enable Sandbox Mode for testing"})]}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(W,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>r("connected"),children:[o.jsx(Bc,{className:"w-3 h-3"})," Test Connection"]})})]})]}),o.jsx("div",{className:"flex justify-end sticky bottom-4 bg-white/80 backdrop-blur-sm p-4 rounded-lg border shadow-lg",children:o.jsxs(W,{onClick:u,disabled:i,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[150px]",children:[i?o.jsx(Bc,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Qw,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save All Changes"]})})]})},Nhe=()=>{const[t,e]=p.useState(null),[n,s]=p.useState(!1),r=[{id:1,type:"Error",message:"Payment gateway timeout: Paymob API responded with 504",timestamp:"2025-11-30 10:23:45",user:"System",stackTrace:`Error: Gateway Timeout
    at PaymobService.processPayment (src/services/paymob.js:45:12)
    at async OrderController.create (src/controllers/order.js:120:20)
    at async handleRequest (node_modules/express/lib/router/layer.js:95:5)`},{id:2,type:"Info",message:'New store "Cairo Crafts" created successfully',timestamp:"2025-11-30 09:15:22",user:"ahmed@store.eg",details:`Store ID: 582
Plan: Starter
Template: Modern Minimal`},{id:3,type:"Audit",message:"Admin updated Pricing Plan: Professional",timestamp:"2025-11-29 14:30:11",user:"Admin User",details:`Old Price: $69
New Price: $79
Modified By: admin@storebuilder.com`},{id:4,type:"Error",message:"Failed login attempt (3x)",timestamp:"2025-11-29 03:12:05",user:"IP: 192.168.1.45",stackTrace:`SecurityAlert: Multiple failed login attempts detected from IP 192.168.1.45.
Account locked for 30 minutes.`},{id:5,type:"Info",message:"Daily Database Backup completed successfully",timestamp:"2025-11-29 00:00:00",user:"System",details:`Size: 4.2GB
Duration: 4m 20s
Location: s3://backups/daily-2025-11-29.sql.gz`}],i=a=>{e(a),s(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Logs & Audit"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Track system health, errors, and administrative actions."})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-red-50 border border-red-100 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(Wx,{className:"text-red-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-red-700",children:"3"}),o.jsx("p",{className:"text-sm text-red-600",children:"Critical Errors (24h)"})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(rC,{className:"text-blue-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:"145"}),o.jsx("p",{className:"text-sm text-blue-600",children:"Info Events"})]})]}),o.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(cC,{className:"text-slate-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-slate-700",children:"99.9%"}),o.jsx("p",{className:"text-sm text-slate-600",children:"System Uptime"})]})]})]}),o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(Ll,{children:[o.jsx(Ul,{children:o.jsxs(Qn,{className:"bg-slate-50/50",children:[o.jsx(Ue,{children:"Type"}),o.jsx(Ue,{children:"Message"}),o.jsx(Ue,{children:"User/Source"}),o.jsx(Ue,{children:"Timestamp"}),o.jsx(Ue,{className:"text-right",children:"Action"})]})}),o.jsx(Fl,{children:r.map(a=>o.jsxs(Qn,{className:"hover:bg-slate-50/50",children:[o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[a.type==="Error"&&o.jsx(Wx,{className:"w-4 h-4 text-red-500"}),a.type==="Info"&&o.jsx(qa,{className:"w-4 h-4 text-blue-500"}),a.type==="Audit"&&o.jsx(cC,{className:"w-4 h-4 text-purple-500"}),o.jsx(In,{variant:a.type==="Error"?"destructive":a.type==="Audit"?"secondary":"outline",children:a.type})]})}),o.jsx(ke,{className:"font-medium max-w-md truncate",children:a.message}),o.jsx(ke,{className:"text-slate-500 text-sm",children:a.user}),o.jsx(ke,{className:"text-slate-500 font-mono text-xs",children:a.timestamp}),o.jsx(ke,{className:"text-right",children:o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(a),children:"View Details"})})]},a.id))})]})}),o.jsx(Uu,{open:n,onOpenChange:s,children:o.jsxs(bl,{className:"max-w-2xl",children:[o.jsxs(wl,{children:[o.jsxs(_l,{className:"flex items-center gap-2",children:[(t==null?void 0:t.type)==="Error"?o.jsx(Wx,{className:"text-red-500"}):o.jsx(rC,{className:"text-blue-500"}),"Log Details #",t==null?void 0:t.id]}),o.jsxs(Bf,{children:["Recorded on ",t==null?void 0:t.timestamp," by ",t==null?void 0:t.user]})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Message"}),o.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded border border-slate-200",children:t==null?void 0:t.message})]}),(t==null?void 0:t.stackTrace)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Stack Trace / Error Details"}),o.jsx("pre",{className:"text-xs bg-slate-900 text-red-400 p-4 rounded overflow-x-auto font-mono",children:t.stackTrace})]}),(t==null?void 0:t.details)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Additional Context"}),o.jsx("pre",{className:"text-xs bg-slate-50 text-slate-700 p-4 rounded border border-slate-200 font-mono whitespace-pre-wrap",children:t.details})]})]})]})})]})},Ihe=()=>{const{toast:t}=qt(),[e,n]=p.useState([]),[s,r]=p.useState(!0),[i,a]=p.useState({name:"",image:""}),[l,c]=p.useState(!1),u=[{name:"Modern Minimal",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=300"},{name:"Fashion Bold",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?auto=format&fit=crop&q=80&w=300"},{name:"Tech Hub",image:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=300"}],d=async()=>{try{r(!0);const y=(await gv(rt(ue,"templates"))).docs.map(w=>({id:w.id,...w.data()}));n(y)}catch(x){console.error("Error fetching templates:",x),t({title:"Error",description:"Failed to fetch templates",variant:"destructive"})}finally{r(!1)}};p.useEffect(()=>{d()},[]);const h=async()=>{try{r(!0);const x=u.map(y=>Mu(rt(ue,"templates"),{...y,createdAt:kf()}));await Promise.all(x),t({title:"Success",description:"Default templates added successfully",variant:"success"}),d()}catch(x){console.error("Error seeding templates:",x),t({title:"Error",description:"Failed to seed templates",variant:"destructive"}),r(!1)}},m=async x=>{if(x.preventDefault(),!(!i.name||!i.image))try{c(!0),await Mu(rt(ue,"templates"),{name:i.name,image:i.image,createdAt:kf()}),t({title:"Success",description:"Template added successfully",variant:"success"}),a({name:"",image:""}),d()}catch(y){console.error("Error adding template:",y),t({title:"Error",description:"Failed to add template",variant:"destructive"})}finally{c(!1)}},g=async x=>{if(confirm("Are you sure you want to delete this template?"))try{await TS(Ke(ue,"templates",x)),n(e.filter(y=>y.id!==x)),t({title:"Deleted",description:"Template removed successfully",variant:"success"})}catch(y){console.error("Error deleting template:",y),t({title:"Error",description:"Failed to delete template",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Templates Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage the store templates available to users."})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(We,{className:"md:col-span-1 h-fit",children:[o.jsxs(It,{children:[o.jsx(Ct,{children:"Add New Template"}),o.jsx(gn,{children:"Add a new template to the collection."})]}),o.jsx(Xe,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"name",children:"Template Name"}),o.jsx(ce,{id:"name",placeholder:"e.g. Modern Dark",value:i.name,onChange:x=>a({...i,name:x.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"image",children:"Preview Image URL"}),o.jsx(ce,{id:"image",placeholder:"https://...",value:i.image,onChange:x=>a({...i,image:x.target.value}),required:!0}),i.image&&o.jsx("div",{className:"mt-2 h-32 rounded-lg overflow-hidden border bg-slate-100",children:o.jsx("img",{src:i.image,alt:"Preview",className:"w-full h-full object-cover",onError:x=>x.target.style.display="none"})})]}),o.jsx(W,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:l,children:l?"Adding...":"Add Template"})]})})]}),o.jsx("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:s?o.jsx("div",{className:"col-span-full py-12 text-center text-slate-500",children:"Loading templates..."}):e.length===0?o.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-lg border border-dashed border-slate-300",children:[o.jsx(kT,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No Templates Found"}),o.jsx("p",{className:"text-slate-500 mb-4",children:"The template collection is empty."}),o.jsxs(W,{onClick:h,variant:"outline",className:"gap-2",children:[o.jsx(qa,{className:"w-4 h-4"})," Add Default Templates"]})]}):e.map(x=>o.jsx(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},layout:!0,children:o.jsxs(We,{className:"overflow-hidden group hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative h-40 bg-slate-100",children:[o.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:o.jsx(W,{size:"sm",variant:"destructive",onClick:()=>g(x.id),className:"h-8 w-8 p-0 rounded-full",children:o.jsx(im,{className:"w-4 h-4"})})})]}),o.jsxs(Xe,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:x.name}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1 truncate",children:["ID: ",x.id]})]})]})},x.id))})]})]})},lF=p.createContext(),Che=({children:t,user:e,selectedStore:n,myStoreIds:s})=>{const[r,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(!1),[d,h]=p.useState(!1);return p.useEffect(()=>{if(!n){i([]);return}u(!0);const m=rt(ue,"stores",n,"products"),g=Ft(m,x=>{const y=x.docs.map(w=>{const v=w.data();return v.image&&v.image.includes("supabase")&&(v.image=""),{id:w.id,...v}});i(y),u(!1)},x=>{console.error("Products Snapshot Error:",x),u(!1)});return()=>g()},[n]),p.useEffect(()=>{if(!e||s.length===0){l([]);return}h(!0);const m=n?[n]:s,g=new Map,x=[],y=()=>{const v=Array.from(g.values());v.sort((_,T)=>(T._createdAtRaw||0)-(_._createdAtRaw||0)),l(v),h(!1)},w=(v,_)=>{var C;const T=v.data(),N=typeof T.createdAt=="number"?Number(T.createdAt):(C=T.createdAt)!=null&&C.toDate?T.createdAt.toDate().getTime():0;return{id:v.id,rootOrderId:T.rootOrderId,displayId:N?String(N):String(v.id).replace(/\D/g,"")||"0",customer:(T.customerName??"").toString().trim()||"",phone:(T.phone??T.altPhone??"").toString().trim()||"",address:(T.address??"").toString().trim()||"",date:N?new Date(N).toLocaleDateString():"",total:xt(Number(T.total??0)),status:T.status||"Pending",items:Array.isArray(T.items)?T.items:[],_createdAtRaw:N,_storeId:_}};return m.forEach(v=>{const _=xs(rt(ue,"stores",v,"orders"));x.push(Ft(_,j=>{j.docs.forEach(S=>{const E=w(S,v),I=E.rootOrderId||E.id;g.set(I,E)}),y()}));const T=xs(rt(ue,"orders"),Gs("storeSubdomain","==",v));x.push(Ft(T,j=>{j.docs.forEach(S=>{const E=w(S,v),I=E.rootOrderId||E.id;g.set(I,E)}),y()}));const N=xs(rt(ue,"orders"),Gs("storeId","==",v));x.push(Ft(N,j=>{j.docs.forEach(S=>{const E=w(S,v),I=E.rootOrderId||E.id;g.set(I,E)}),y()}));const C=xs(rt(ue,"orders"),Gs("store","==",v));x.push(Ft(C,j=>{j.docs.forEach(S=>{const E=w(S,v),I=E.rootOrderId||E.id;g.set(I,E)}),y()}))}),()=>{x.forEach(v=>v()),l([])}},[n,s,e]),o.jsx(lF.Provider,{value:{products:r,orders:a,loadingProducts:c,loadingOrders:d,setProducts:i,setOrders:l},children:t})},cA=()=>p.useContext(lF),Rhe=()=>{const[t,e]=p.useState(typeof window<"u"?window.innerWidth>=768:!0),[n,s]=p.useState(null),r=Rn(),i=ds();p.useEffect(()=>{window.innerWidth<768&&e(!1)},[i.pathname]);const a=new URLSearchParams(i.search),[l,c]=p.useState([]),[u,d]=p.useState(a.get("store")||""),[h,m]=p.useState(()=>{try{return localStorage.getItem("lang")==="ar"?"ar":"en"}catch{return"en"}}),[g,x]=p.useState(()=>{try{if(typeof window<"u"){const E=localStorage.getItem("theme");return E?E==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}catch{return!1}});p.useEffect(()=>{const E=window.document.documentElement;g?(E.classList.add("dark"),localStorage.setItem("theme","dark")):(E.classList.remove("dark"),localStorage.setItem("theme","light"))},[g]);const y=()=>x(!g),w={en:{title:"Dashboard",brand:"Store Builder",tagline:"Dashboard",viewStore:"View Store",selectStore:"Select Store",logout:"Logout",createNewStore:"Create New Store",menu:{Dashboard:"Dashboard","My Stores":"My Stores",Categories:"Categories",Products:"Products",Orders:"Orders",Banners:"Banners","Product Tools":"Product Tools",Settings:"Settings",Subscription:"Subscription"}},ar:{title:" ",brand:" ",tagline:" ",viewStore:" ",selectStore:" ",logout:" ",createNewStore:"  ",menu:{Dashboard:" ","My Stores":"",Categories:"",Products:"",Orders:"",Banners:"","Product Tools":" ",Settings:"",Subscription:""}}};typeof window<"u"&&(window.location.hostname.includes("localhost")||window.location.hostname.endsWith(".localhost"));const v=[{icon:FO,label:"Dashboard",path:"/dashboard"},{icon:ky,label:"My Stores",path:"/dashboard/stores"},{icon:nG,label:"Categories",path:"/dashboard/categories"},{icon:PT,label:"Products",path:"/dashboard/products"},{icon:mu,label:"Orders",path:"/dashboard/orders"},{icon:hG,label:"Product Tools",path:"/dashboard/tools"},{icon:Yw,label:"Banners",path:"/dashboard/banners"},{icon:fu,label:"Subscription",path:"/dashboard/subscription"},{icon:Py,label:"Settings",path:"/dashboard/settings"}],[_,T]=p.useState(!0);if(p.useEffect(()=>{let E,I;const R=Fi(Nt,k=>{if(E&&(E(),E=void 0),I&&(I(),I=void 0),!k)c([]),s(null),T(!1),r("/login");else{s(k),I=Ft(Ke(ue,"users",k.uid),P=>{if(P.exists()){const $=P.data();if($.subscription&&$.subscription.isActive&&$.subscription.plan!=="lifetime"&&$.subscription.endDate){const H=$.subscription.endDate.seconds?new Date($.subscription.endDate.seconds*1e3):$.subscription.endDate.toDate();if(new Date>H){r("/activation-pending");return}}$.status&&$.status!=="active"&&($.status==="pending"?r("/activation-pending"):r("/login"))}});const M=xs(rt(ue,"stores"),Gs("ownerUid","==",k.uid));E=Ft(M,P=>{const $=P.docs.map(H=>{var O;return{id:H.id,name:((O=H.data())==null?void 0:O.name)||H.id}});c($)}),T(!1)}});return()=>{R(),E&&E(),I&&I()}},[r]),_)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const N=()=>{r("/")},C=E=>E.startsWith("/dashboard")&&E!=="/dashboard/stores"&&u?`${E}?store=${u}`:E,j=E=>{const I=E.target.value;d(I);const R=i.pathname,k=I?`?store=${I}`:"";r(`${R}${k}`)},S=()=>{m(E=>{const I=E==="en"?"ar":"en";try{localStorage.setItem("lang",I)}catch{}return I})};return o.jsxs("div",{className:`min-h-screen bg-slate-50 dark:bg-slate-950 flex ${h==="ar"?"font-cairo":"font-sans"}`,dir:h==="ar"?"rtl":"ltr",children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>e(!1)}),o.jsxs(de.aside,{initial:!1,animate:{width:t?280:0,opacity:t?1:0},className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 fixed md:static inset-y-0 right-0 z-40 overflow-hidden flex flex-col transition-all duration-300 shadow-2xl shadow-slate-200/50 dark:shadow-slate-900/50 border-l border-slate-100 dark:border-slate-800",children:[o.jsx("div",{className:"p-3 min-w-[280px]"}),o.jsxs("nav",{className:"flex-1 px-4 py-6 min-w-[280px] space-y-1",children:[v.map(E=>{const I=E.icon;return o.jsxs(iO,{to:C(E.path),end:E.path==="/dashboard",className:({isActive:R})=>`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 group ${R?"bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-400 font-bold shadow-sm border border-teal-100 dark:border-teal-800/50":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[o.jsx(I,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${window.location.pathname===E.path||E.path!=="/dashboard"&&window.location.pathname.startsWith(E.path)?"text-teal-600 dark:text-teal-400":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`}),o.jsx("span",{className:"text-sm",children:w[h].menu[E.label]||E.label})]},E.path)}),o.jsx("div",{className:"pt-6 px-2",children:o.jsxs(W,{onClick:()=>r("/dashboard/stores/new"),className:"w-full bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white shadow-lg shadow-teal-500/20 border-0 h-11 rounded-xl",children:[o.jsx(XH,{className:"w-5 h-5 mr-2"}),w[h].createNewStore]})})]}),o.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 min-w-[280px] bg-slate-50/50 dark:bg-slate-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold shadow-sm",children:"AH"}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:"Ahmed Hassan"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"ahmed@store.eg"})]})]}),o.jsxs(W,{onClick:N,variant:"ghost",className:"w-full justify-start text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 gap-3 rounded-xl h-11",children:[o.jsx(RT,{className:"w-5 h-5"}),o.jsx("span",{children:w[h].logout})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-6 shadow-sm z-30 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:t?o.jsx(Ha,{className:"w-5 h-5"}):o.jsx(jT,{className:"w-5 h-5"})}),o.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:w[h].title})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:y,className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:g?o.jsx(cG,{className:"w-5 h-5"}):o.jsx(oG,{className:"w-5 h-5"})}),o.jsx(W,{variant:"ghost",size:"icon",onClick:S,className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:o.jsx(CT,{className:"w-5 h-5"})}),o.jsxs("select",{value:u||"",onChange:j,className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"",disabled:!0,children:w[h].selectStore}),l.map(E=>o.jsx("option",{value:E.id,children:E.name},E.id))]}),o.jsx(W,{variant:"outline",size:"sm",className:"hidden md:flex border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>{if(!u)return;const E=window.location.host.replace(/^www\./,""),R=`${window.location.protocol}//${u}.${E}`;window.location.href=R},children:w[h].viewStore})]})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-slate-50 dark:bg-slate-950 p-6 transition-colors",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsx(Che,{user:n,selectedStore:u,myStoreIds:l.map(E=>E.id),children:o.jsx(wT,{context:{language:h,storesOptions:l}})})})})]})]})},jhe=()=>{const{language:t="en",storesOptions:e=[]}=rr()||{},{orders:n}=cA(),s={en:{overview:"Overview",track:"Track your store's performance.",filters:{last7:"Last 7 Days",last30:"Last 30 Days",year:"This Year"},stats:{revenue:"Total Revenue",orders:"Orders",visits:"Store Visits",conversion:"Conversion Rate",delivered:"Delivered Orders",rejected:"Rejected Orders"},revAnalytics:"Revenue Analytics",months:["Jan","Mar","May","Jul","Sep","Nov"],recentOrders:"Recent Orders",viewAll:"View All Orders",status:{Completed:"Completed",Processing:"Processing",Pending:"Pending"},changeSuffix:"from last period",storesSummary:"Stores Summary",noStoresData:"No stores data available",revenue:"Revenue"},ar:{overview:" ",track:"  .",filters:{last7:" 7 ",last30:" 30 ",year:" "},stats:{revenue:" ",orders:"",visits:" ",conversion:" ",delivered:" ",rejected:" "},revAnalytics:" ",months:["","","","","",""],recentOrders:" ",viewAll:"  ",status:{Completed:"",Processing:" ",Pending:" "},changeSuffix:"  ",storesSummary:" ",noStoresData:"   ",revenue:""}},r=ds(),i=Rn(),l=p.useMemo(()=>new URLSearchParams(r.search),[r.search]).get("store")||"",[c,u]=p.useState(0),[d,h]=p.useState("last7"),m=C=>{const j=typeof C=="number"?C:parseFloat(String(C).replace(/[^0-9.-]/g,""));return Number.isFinite(j)?j:0},g=p.useMemo(()=>{const C=Date.now();if(d==="last30")return C-30*24*60*60*1e3;if(d==="year"){const j=new Date;return new Date(j.getFullYear(),0,1).getTime()}return C-7*24*60*60*1e3},[d]),{ordersData:x,storeBreakdown:y}=p.useMemo(()=>{const C=n.filter(E=>(typeof E._createdAtRaw=="number"?E._createdAtRaw:0)>=g),j=new Map;C.forEach(E=>{const I=E._storeId||"unknown";j.has(I)||j.set(I,{id:I,name:I,orders:0,revenue:0});const R=j.get(I);R.orders+=1,(E.status==="Delivered"||E.status==="Completed")&&(R.revenue+=m(E.total))});const S=Array.from(j.values()).map(E=>{const I=e.find(R=>R.id===E.id);return{...E,name:I?I.name:E.name}});return{ordersData:C,storeBreakdown:S}},[n,g,e]);p.useEffect(()=>{let C;const j=async S=>{if(!S){u(0);return}try{const E=l?[l]:e.map(R=>R.id);if(E.length===0){u(0);return}let I=0;for(const R of E)try{const M=(await A3(T3(g3(US,"store_visits"),E3("storeId","==",R)))).docs.reduce((P,$)=>{const H=$.data(),O=Number((H==null?void 0:H.createdAt)||0);return P+(O>=g?1:0)},0);I+=M}catch{}u(I)}catch{u(0)}};return C=Fi(Nt,S=>j((S==null?void 0:S.uid)||"")),()=>C&&C()},[l,g,e]);const w=x.filter(C=>C.status==="Delivered"||C.status==="Completed").reduce((C,j)=>C+m(j.total),0),v=x.length,_=x.filter(C=>C.status==="Delivered").length,T=x.filter(C=>C.status==="Rejected").length,N=[{title:s[t].stats.revenue,value:xt(w,t==="ar"?"ar-EG":"en-EG"),change:"+12.5%",icon:LO,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{title:s[t].stats.orders,value:String(v),change:"+4.3%",icon:Th,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/20"}];return N.push({title:s[t].stats.delivered,value:String(_),change:"+8.2%",icon:PT,color:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:s[t].stats.rejected,value:String(T),change:"-2.1%",icon:OT,color:"text-rose-600 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-900/20"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:s[t].overview}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-lg",children:s[t].track})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("select",{value:d,onChange:C=>h(C.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-xl px-4 py-2.5 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 font-medium cursor-pointer hover:border-teal-500 transition-colors",children:[o.jsx("option",{value:"last7",children:s[t].filters.last7}),o.jsx("option",{value:"last30",children:s[t].filters.last30}),o.jsx("option",{value:"year",children:s[t].filters.year})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((C,j)=>{const S=C.icon;return o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:j*.1},children:o.jsx(We,{className:"hover:shadow-lg transition-all duration-300 border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm rounded-2xl overflow-hidden group",children:o.jsxs(Xe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`p-3 rounded-2xl ${C.bg} group-hover:scale-110 transition-transform duration-300`,children:o.jsx(S,{className:`w-6 h-6 ${C.color}`})}),o.jsxs("div",{className:`flex items-center text-xs font-bold px-2 py-1 rounded-full ${C.change.startsWith("+")?"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400"}`,children:[C.change.startsWith("+")?o.jsx(OO,{className:"w-3 h-3 mr-1"}):o.jsx(zO,{className:"w-3 h-3 mr-1 rotate-180"}),C.change]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:C.title}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:C.value})]})]})})},j)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:o.jsxs(We,{className:"h-full border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm rounded-2xl",children:[o.jsx(It,{className:"border-b border-slate-50 dark:border-slate-800 pb-4",children:o.jsx(Ct,{className:"text-slate-900 dark:text-white text-lg font-bold",children:s[t].revAnalytics})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"h-[300px] flex items-end justify-between gap-3 pt-8",children:(()=>{const C=new Date,j=Array.from({length:12},(k,M)=>new Date(C.getFullYear(),M,1)),I=[0,1,2,3,4,5,6,7,8,9,10,11].map(k=>{const M=j[k].getTime(),P=new Date(j[k].getFullYear(),j[k].getMonth()+1,1).getTime();return x.filter(H=>H.status==="Delivered"||H.status==="Completed").filter(H=>{const O=typeof H._createdAtRaw=="number"?H._createdAtRaw:0;return O>=M&&O<P}).reduce((H,O)=>H+m(O.total),0)}).map(k=>Number.isFinite(k)?k:0),R=Math.max(1,...I);return I.map(k=>Math.round(k/R*100))})().map((C,j)=>o.jsx("div",{className:"w-full flex flex-col justify-end group h-full gap-2",children:o.jsx("div",{className:"w-full bg-slate-50 dark:bg-slate-800 rounded-t-lg relative overflow-hidden flex-1",children:o.jsx(de.div,{initial:{height:0},animate:{height:`${C}%`},transition:{duration:.8,delay:.5+j*.05},className:"absolute bottom-0 w-full bg-gradient-to-t from-teal-500 to-teal-400 group-hover:from-teal-600 group-hover:to-teal-500 transition-all rounded-t-lg"})})},j))}),o.jsx("div",{className:"flex justify-between mt-4 text-xs font-medium text-slate-400 px-1",children:s[t].months.map((C,j)=>j%2===0?o.jsx("span",{children:C},C):null)})]})]})}),o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:o.jsxs(We,{className:"h-full border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-xl shadow-slate-200/60 dark:shadow-black/20 rounded-2xl",children:[o.jsx(It,{className:"border-b border-slate-50 dark:border-slate-800 pb-4",children:o.jsx(Ct,{className:"text-slate-900 dark:text-white text-lg font-bold",children:s[t].storesSummary})}),o.jsxs(Xe,{className:"pt-6",children:[o.jsx("div",{className:"space-y-6",children:y.length===0?o.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:s[t].noStoresData}):y.map((C,j)=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-600 dark:text-slate-400 font-bold text-sm group-hover:bg-teal-50 dark:group-hover:bg-teal-900/20 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:C.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:C.name}),o.jsx("p",{className:"text-xs text-slate-400",children:C.id})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-slate-400 font-medium mb-0.5",children:s[t].revenue}),o.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:xt(C.revenue,t==="ar"?"ar-EG":"en-EG")})]})]},j))}),o.jsx(W,{className:"w-full mt-8 bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white shadow-lg shadow-teal-500/20 border-0 h-11 rounded-xl font-medium",onClick:()=>{var j;const C=l||((j=y[0])==null?void 0:j.id)||"";i(C?`/dashboard/orders?store=${C}`:"/dashboard/orders")},children:s[t].viewAll})]})]})})]})]})},Phe=()=>{const t=Rn(),[e,n]=p.useState([]),[s,r]=p.useState(!0),[i,a]=p.useState({});typeof window<"u"&&(window.location.hostname.includes("localhost")||window.location.hostname.endsWith(".localhost"));const{language:l="en"}=rr()||{},c={en:{title:"My Stores",subtitle:"Manage your online stores.",create:"Create New Store",statusActive:"Active",planStarter:"Starter",orders:"Orders",revenue:"Revenue",settings:"Settings",viewStore:"View Store",addProducts:"Add Products",dashboard:"Dashboard",emptyTitle:"Add New Store",emptySubtitle:"Launch your next business idea"},ar:{title:"",subtitle:"  .",create:"  ",statusActive:"",planStarter:"",orders:"",revenue:"",settings:"",viewStore:" ",addProducts:" ",dashboard:" ",emptyTitle:"  ",emptySubtitle:"  "}};return p.useEffect(()=>{let u;const d=Fi(Nt,h=>{if(!h){n([]),r(!1);return}const m=xs(rt(ue,"stores"),Gs("ownerUid","==",h.uid));u=Ft(m,g=>{const x=g.docs.map(y=>{const w=y.data();return w.logo&&w.logo.includes("supabase")&&(w.logo=""),w.image&&w.image.includes("supabase")&&(w.image=""),{id:y.id,...w}});n(x),r(!1),(async()=>{try{const y=await Promise.all(x.map(async w=>{try{const v=T3(g3(US,"orders"),E3("storeSubdomain","==",w.id)),_=await A3(v);let T=0,N=0;return _.docs.forEach(C=>{const j=C.data();T+=1,N+=Number((j==null?void 0:j.total)??0)}),[w.id,{orders:T,revenue:N}]}catch{return[w.id,{orders:Number(w.orders||0),revenue:Number(w.revenue||0)}]}}));a(Object.fromEntries(y))}catch{}})()},()=>{r(!1)})});return()=>{d(),u&&u()}},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:c[l].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:c[l].subtitle})]}),o.jsxs(W,{onClick:()=>t("/dashboard/stores/new"),className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(qo,{className:"w-4 h-4"})," ",c[l].create]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map((u,d)=>{var h,m;return o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:d*.1},children:o.jsxs(We,{className:"overflow-hidden hover:shadow-lg transition-shadow border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",children:[o.jsxs("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 relative",children:[o.jsx("img",{src:u.logo||u.image||"https://placehold.co/600x400?text=Store",alt:u.name,className:"w-full h-full object-cover opacity-90",onError:g=>{g.target.onerror=null,g.target.src="https://placehold.co/600x400?text=Store"}}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(In,{variant:(u.status||"Active")==="Active"?"success":"warning",className:"shadow-sm",children:l==="ar"?u.status==="Active"?c.ar.statusActive:u.status:u.status||"Active"})})]}),o.jsx(It,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Ct,{className:"text-xl mb-1 dark:text-white",children:u.name}),o.jsxs(gn,{className:"flex items-center gap-1 text-teal-600 dark:text-teal-400 cursor-pointer",onClick:()=>{if(!u.subdomain)return;const g=window.location.host.replace(/^www\./,""),y=`${window.location.protocol}//${u.subdomain}.${g}`;window.location.href=y},children:[u.subdomain?`${u.subdomain}.${window.location.host.replace(/^www\./,"")}`:""," ",o.jsx(r0,{className:"w-3 h-3"})]})]}),o.jsx(In,{variant:"outline",className:"dark:text-slate-300 dark:border-slate-700",children:l==="ar"?u.plan==="Starter"?c.ar.planStarter:u.plan:u.plan||"Starter"})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold",children:c[l].orders}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((h=i[u.id])==null?void 0:h.orders)??u.orders??0})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold",children:c[l].revenue}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:xt((((m=i[u.id])==null?void 0:m.revenue)??Number(String(u.revenue).replace(/[^0-9.]/g,"")||0))||0)})]})]})}),o.jsxs(sA,{className:"flex gap-2 bg-slate-50/50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 p-4",children:[o.jsxs(W,{variant:"outline",className:"flex-1 gap-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>u.subdomain&&t(`/dashboard/settings?store=${u.subdomain}`),children:[o.jsx(Py,{className:"w-4 h-4"})," ",c[l].settings]}),o.jsxs(W,{variant:"outline",className:"flex-1 gap-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{if(!u.subdomain)return;const g=window.location.host.replace(/^www\./,""),y=`${window.location.protocol}//${u.subdomain}.${g}`;window.location.href=y},children:[o.jsx(r0,{className:"w-4 h-4"})," ",c[l].viewStore]}),o.jsxs(W,{variant:"default",className:"flex-1 gap-2 bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>u.subdomain&&t(`/dashboard/products?store=${u.subdomain}&add=1`),children:[o.jsx(qo,{className:"w-4 h-4"})," ",c[l].addProducts]}),o.jsxs(W,{className:"flex-1 gap-2 bg-slate-900 dark:bg-slate-700 text-white hover:bg-slate-800 dark:hover:bg-slate-600",onClick:()=>u.subdomain&&t(`/dashboard?store=${u.subdomain}`),children:[o.jsx(WH,{className:"w-4 h-4"})," ",c[l].dashboard]})]})]})},u.id)}),!s&&e.length===0&&o.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center justify-center h-full min-h-[300px] border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-teal-400 dark:hover:border-teal-400 transition-all cursor-pointer group",onClick:()=>t("/dashboard/stores/new"),children:[o.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-700 rounded-full flex items-center justify-center shadow-sm mb-4 group-hover:scale-110 transition-transform",children:o.jsx(qo,{className:"w-8 h-8 text-teal-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:c[l].emptyTitle}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:c[l].emptySubtitle})]})]})]})},khe=()=>{var M;const{toast:t}=qt(),e=Rn(),{language:n="en"}=rr()||{},s={en:{title:"Create Your Store",subtitle:"Follow the steps to launch your new online business.",storeName:"Store Name",storeNamePlaceholder:"e.g. My Awesome Shop",subdomain:"Subdomain Name",subdomainPlaceholder:"e.g. ahmed",check:"Check",available:"Available",activityType:"Activity Type",types:{Retail:"Retail",Digital:"Digital Products",Services:"Services",Food:"Food & Beverage"},uploadLogo:"Upload Logo",clickToUpload:"Click to upload or drag and drop",sizeLimit:"SVG, PNG, JPG (max 2MB)",selectTemplate:"Select Template",ready:"Ready to Launch!",readyDesc:"You are about to create",accessibleAt:"Your store will be accessible at",type:"Type:",template:"Template:",back:"Back",cancel:"Cancel",next:"Next Step",create:"Create Store",creating:"Creating...",toasts:{invalidSub:"Invalid subdomain",invalidSubDesc:"Use letters and numbers only.",notAvailable:"Not available",taken:"is already taken.",avail:"Domain Available!",loginReq:"Login required",loginReqDesc:"Please log in to create a store.",success:"Success!",successDesc:"Store created successfully.",error:"Error",errorDesc:"Failed to create store.",fileLarge:"File too large",fileLargeDesc:"Max size is 5MB.",logoUp:"Logo uploaded",logoUpDesc:"Logo processed successfully.",upFail:"Upload failed",setSubFirst:"Set a valid subdomain first."}},ar:{title:" ",subtitle:"     .",storeName:" ",storeNamePlaceholder:":  ",subdomain:"  ",subdomainPlaceholder:": ahmed",check:"",available:"",activityType:" ",types:{Retail:" ",Digital:" ",Services:"",Food:" "},uploadLogo:" ",clickToUpload:"    ",sizeLimit:"SVG, PNG, JPG (  2 )",selectTemplate:" ",ready:" !",readyDesc:"   ",accessibleAt:"   ",type:":",template:":",back:"",cancel:"",next:" ",create:" ",creating:" ...",toasts:{invalidSub:"   ",invalidSubDesc:"   .",notAvailable:" ",taken:" .",avail:" !",loginReq:"  ",loginReqDesc:"    .",success:" !",successDesc:"   .",error:"",errorDesc:"  .",fileLarge:"  ",fileLargeDesc:"  5 .",logoUp:"  ",logoUpDesc:"   .",upFail:" ",setSubFirst:"    ."}}},r=s[n]||s.en,[i,a]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(1),[h,m]=p.useState(!1),[g,x]=p.useState(""),[y,w]=p.useState(0),[v,_]=p.useState(!1),T=p.useRef(null);p.useRef(null);const[N,C]=p.useState([]),[j,S]=p.useState({name:"",subdomain:"",type:"Retail",template:""}),E=typeof window<"u"?window.location.host.replace(/^www\./,""):"";p.useEffect(()=>{(async()=>{try{const $=await gv(rt(ue,"templates"));if($.empty)C([{id:"1",name:"Modern Minimal",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=300"},{id:"2",name:"Fashion Bold",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?auto=format&fit=crop&q=80&w=300"},{id:"3",name:"Tech Hub",image:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=300"}]);else{const H=$.docs.map(O=>({id:O.id,...O.data()}));C(H)}}catch($){console.error("Error fetching templates:",$)}})()},[]),p.useEffect(()=>{const P=Fi(Nt,$=>{$||e("/login")});return()=>P()},[e]);const I=async()=>{if(!j.subdomain)return;const P=j.subdomain.trim().toLowerCase();if(!/^[a-z0-9]+$/.test(P)){c(!1),t({title:r.toasts.invalidSub,description:r.toasts.invalidSubDesc,variant:"destructive"});return}a(!0),c(null);try{const $=Ke(ue,"stores",P);if((await sr($)).exists())c(!1),t({title:r.toasts.notAvailable,description:`${P} ${r.toasts.taken}`,variant:"destructive"});else{c(!0);const O=window.location.host.replace(/^www\./,"");t({title:r.toasts.avail,description:`${P}.${O}`,variant:"success"})}}finally{a(!1)}},R=async P=>{var O;const $=(O=P.target.files)==null?void 0:O[0];if(!$)return;const H=j.subdomain.trim().toLowerCase();if(!H||!/^[a-z0-9]+$/.test(H)){t({title:r.toasts.invalidSub,description:r.toasts.setSubFirst,variant:"destructive"});return}if($.size>5*1024*1024){t({title:r.toasts.fileLarge,description:r.toasts.fileLargeDesc,variant:"destructive"});return}m(!0),w(0);try{console.log("Starting logo conversion...");const q=await df($);console.log("Logo conversion successful"),x(q),t({title:r.toasts.logoUp,description:r.toasts.logoUpDesc,variant:"success"})}catch(q){console.error("Logo Upload Error:",q),t({title:r.toasts.upFail,description:`Error: ${(q==null?void 0:q.message)||String(q)}`,variant:"destructive"})}finally{m(!1),P.target.value=""}},k=async()=>{if(!j.name||!j.subdomain)return;const P=j.subdomain.trim().toLowerCase();if(!/^[a-z0-9]+$/.test(P)){t({title:r.toasts.invalidSub,description:r.toasts.invalidSubDesc,variant:"destructive"});return}_(!0);try{const $=Ke(ue,"stores",P);if((await sr($)).exists()){t({title:r.toasts.notAvailable,description:`${P} ${r.toasts.taken}`,variant:"destructive"}),_(!1);return}const O=Nt.currentUser;if(!O){t({title:r.toasts.loginReq,description:r.toasts.loginReqDesc,variant:"destructive"}),_(!1);return}const q={name:j.name,subdomain:P,logo:g||"",category:j.type,theme:"default",ownerUid:O.uid,orders:0,revenue:0,createdAt:kf()};await Ml($,q),t({title:r.toasts.success,description:r.toasts.successDesc,variant:"success"}),e(`/dashboard/stores?store=${P}`)}catch{t({title:r.toasts.error,description:r.toasts.errorDesc,variant:"destructive"})}finally{_(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r.subtitle})]}),o.jsxs("div",{className:"flex items-center justify-center mb-10",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=1?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"1"}),o.jsx("div",{className:`w-16 h-1 ${u>=2?"bg-teal-600":"bg-slate-200 dark:bg-slate-700"}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=2?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"2"}),o.jsx("div",{className:`w-16 h-1 ${u>=3?"bg-teal-600":"bg-slate-200 dark:bg-slate-700"}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=3?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"3"})]}),o.jsx(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:o.jsx(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Xe,{className:"p-8",children:[u===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.storeName}),o.jsxs("div",{className:"relative",children:[o.jsx(ky,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:r.storeNamePlaceholder,className:"pl-10 dark:bg-slate-800 dark:border-slate-700 dark:text-white",value:j.name,onChange:P=>S({...j,name:P.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.subdomain}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(CT,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:r.subdomainPlaceholder,className:`pl-10 dark:bg-slate-800 dark:border-slate-700 dark:text-white ${l===!0?"border-green-500 focus-visible:ring-green-500":""}`,value:j.subdomain,onChange:P=>{S({...j,subdomain:P.target.value}),c(null)}})]}),o.jsx(W,{variant:"outline",onClick:I,disabled:i||!j.subdomain,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:i?o.jsx(Kx,{className:"w-4 h-4 animate-spin"}):r.check})]}),l&&o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[o.jsx(Xu,{className:"w-3 h-3 mr-1"})," ",r.available]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.activityType}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:j.type,onChange:P=>S({...j,type:P.target.value}),children:[o.jsx("option",{value:"Retail",children:r.types.Retail}),o.jsx("option",{value:"Digital",children:r.types.Digital}),o.jsx("option",{value:"Services",children:r.types.Services}),o.jsx("option",{value:"Food",children:r.types.Food})]})]})]}),u===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.uploadLogo}),o.jsxs("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl p-8 text-center hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>{var P;return(P=T.current)==null?void 0:P.click()},children:[h?o.jsxs("div",{className:"mx-auto mb-2",children:[o.jsx(Kx,{className:"w-10 h-10 text-slate-400 animate-spin mx-auto"}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[y,"%"]})]}):o.jsx(uG,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium",children:r.clickToUpload}),o.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:r.sizeLimit}),g&&!g.includes("supabase")&&o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("img",{src:g,alt:"Logo",className:"h-16 w-16 object-contain"})}),o.jsx("input",{ref:T,type:"file",accept:"image/*",className:"hidden",onChange:R})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.selectTemplate}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:N.map(P=>o.jsxs("div",{className:`border rounded-lg overflow-hidden cursor-pointer transition-all ${j.template===P.id?"ring-2 ring-teal-500 border-teal-500":"border-slate-200 dark:border-slate-700 hover:border-teal-300 dark:hover:border-teal-400"}`,onClick:()=>S({...j,template:P.id}),children:[o.jsx("div",{className:"h-24 bg-slate-100 dark:bg-slate-800",children:o.jsx("img",{src:P.image,alt:P.name,className:"w-full h-full object-cover opacity-90"})}),o.jsx("div",{className:"p-3 text-center dark:bg-slate-800",children:o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:P.name})})]},P.id))})]})]}),u===3&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-teal-100 dark:bg-teal-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(kT,{className:"w-10 h-10 text-teal-600 dark:text-teal-400"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:r.ready}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-8",children:[r.readyDesc," ",o.jsx("strong",{className:"text-slate-900 dark:text-white",children:j.name}),". ",r.accessibleAt," ",o.jsxs("strong",{className:"text-slate-900 dark:text-white",children:[j.subdomain,".",E]}),"."]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg max-w-sm mx-auto text-left text-sm space-y-2 mb-6 border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:r.type}),o.jsx("span",{className:"font-medium dark:text-white",children:j.type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:r.template}),o.jsx("span",{className:"font-medium dark:text-white",children:((M=N.find(P=>P.id===j.template))==null?void 0:M.name)||"Default"})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-slate-100 dark:border-slate-800",children:[u>1?o.jsx(W,{variant:"outline",onClick:()=>d(u-1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:r.back}):o.jsx(W,{variant:"ghost",onClick:()=>e("/dashboard/stores"),className:"dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-800",children:r.cancel}),u<3?o.jsxs(W,{className:"bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>d(u+1),disabled:u===1&&(!j.name||!j.subdomain),children:[r.next," ",o.jsx(IT,{className:"w-4 h-4 ml-2"})]}):o.jsxs(W,{className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[140px]",onClick:k,disabled:v||!Nt.currentUser,children:[v?o.jsx(Kx,{className:"w-4 h-4 animate-spin mr-2"}):null,v?r.creating:r.create]})]})]})})},u)]})},Dhe=()=>{const{toast:t}=qt(),e=ds(),n=Rn(),{language:s="en"}=rr()||{},r={en:{title:"Products",subtitle:"Manage your store's inventory.",selectStore:"Select Store",addProduct:"Add Product",searchPlaceholder:"Search products...",allCategories:"All Categories",categories:["Electronics","Apparel","Home","Accessories","Sports"],table:{name:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",actions:"Actions"},actions:{edit:"Edit",delete:"Delete"},empty:"No products found",addModal:{title:"Add New Product",desc:"Enter product details below.",name:"Product Name",price:"Price",stock:"Stock",discount:"Discount (%)",image:"Product Image",imageSizeHint:"Recommended: 800x800px. Max: 5MB.",uploading:"Uploading...",color:"Product Color (optional)",size:"Product Size (optional)",category:"Category",status:"Status",save:"Save Product"},editModal:{title:"Edit Product",desc:"Update product details.",name:"Product Name",price:"Price",stock:"Stock",discount:"Discount (%)",image:"Product Image",imageSizeHint:"Recommended: 800x800px. Max: 5MB.",uploading:"Uploading...",color:"Product Color (optional)",size:"Product Size (optional)",category:"Category",status:"Status",save:"Save Changes"},status:{in:"In Stock",low:"Low Stock",out:"Out of Stock"},change:"Change",toast:{productDeleted:"Product Deleted",productDeletedDesc:"Product has been removed successfully.",deleteFailed:"Delete Failed",deleteFailedDesc:"Could not delete product.",saved:"Saved",statusUpdated:"Status updated",updateFailed:"Update Failed",statusUpdateFailed:"Could not update status",productUpdated:"Product updated successfully.",productUpdateFailed:"Could not update product.",success:"Success",productAdded:"Product added successfully.",addFailed:"Add Failed",productAddFailed:"Could not add product.",selectStore:"Select Store",selectStoreDesc:"Please choose a store first.",fileTooLarge:"File too large",fileTooLargeDesc:"Max size is 5MB.",imageUploaded:"Image uploaded",imageSaved:"Product image saved.",imageUpdated:"Product image updated.",uploadFailed:"Upload failed"}},ar:{title:"",subtitle:"  .",selectStore:" ",addProduct:" ",searchPlaceholder:"  ...",allCategories:" ",categories:["","","","",""],table:{name:" ",category:"",price:"",stock:"",status:"",actions:""},actions:{edit:"",delete:""},empty:"  ",addModal:{title:"  ",desc:"   .",name:" ",price:"",stock:"",discount:" (%)",image:" ",imageSizeHint:": 800x800 .  : 5 .",uploading:" ...",color:"  ()",size:"  ()",category:"",status:"",save:" "},editModal:{title:" ",desc:"  .",name:" ",price:"",stock:"",discount:" (%)",image:" ",imageSizeHint:": 800x800 .  : 5 .",uploading:" ...",color:"  ()",size:"  ()",category:"",status:"",save:" "},status:{in:"",low:" ",out:" "},change:"",toast:{productDeleted:"  ",productDeletedDesc:"   .",deleteFailed:" ",deleteFailedDesc:"  .",saved:" ",statusUpdated:"  ",updateFailed:" ",statusUpdateFailed:"  ",productUpdated:"   .",productUpdateFailed:"  .",success:"",productAdded:"   .",addFailed:" ",productAddFailed:"  .",selectStore:" ",selectStoreDesc:"   .",fileTooLarge:"  ",fileTooLargeDesc:"   5 .",imageUploaded:"  ",imageSaved:"   .",imageUpdated:"   .",uploadFailed:" "}}},i=new URLSearchParams(e.search),a=i.get("store"),l=i.get("add")==="1",[c,u]=p.useState([]),[d,h]=p.useState(!1),[m,g]=p.useState(""),{products:x,loadingProducts:y}=cA(),[w,v]=p.useState(!1),[_,T]=p.useState(null),[N,C]=p.useState({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),[j,S]=p.useState({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),[E,I]=p.useState(!1),[R,k]=p.useState(!1),[M,P]=p.useState([]),$=["S","M","L","XL","XXL","XXXL"],H=["20/21","22/23","24/25","26/27","28/29","30/31","32/33","34/35","36/37","38/39","40/41","42/43","44/45"];p.useEffect(()=>{if(!a)return;const V=rt(ue,"stores",a,"categories"),Q=Ft(V,_e=>{const L=_e.docs.map(ee=>ee.data().name);P(L.length>0?L:["General"])});return()=>Q()},[a]),p.useEffect(()=>{let V;const Q=Fi(Nt,async _e=>{if(_e)try{const L=xs(rt(ue,"stores"),Gs("ownerUid","==",_e.uid));return V=Ft(L,ee=>{const te=ee.docs[0],le=ee.docs.map(Re=>{var Oe;return{id:Re.id,name:((Oe=Re.data())==null?void 0:Oe.name)||Re.id}});u(le),te!=null&&te.id&&!a&&n(`/dashboard/products?store=${te.id}`,{replace:!0})}),()=>V()}catch(L){console.error("Failed to load stores:",L)}});return()=>{Q&&Q()}},[t,a]),p.useEffect(()=>{l&&h(!0)},[l]);const O=V=>{const Q=V.target.value;n(`/dashboard/products?store=${Q}${l?"&add=1":""}`)},q=async V=>{try{const Q=Nt.currentUser;if(!Q)throw new Error("Not authenticated");const _e=xs(rt(ue,"stores"),Gs("ownerUid","==",Q.uid));let L;if(await new Promise((ee,te)=>{const le=Ft(_e,Re=>{var Oe;L=(Oe=Re.docs[0])==null?void 0:Oe.id,le(),ee()},te)}),L=a||L,!L)throw new Error("No store");await TS(Ke(ue,"stores",L,"products",String(V))),t({title:"Product Deleted",description:"Product has been removed successfully.",variant:"destructive"})}catch{t({title:"Delete Failed",description:"Could not delete product.",variant:"destructive"})}},B=async(V,Q)=>{try{const _e=Nt.currentUser;if(!_e)throw new Error("Not authenticated");const L=xs(rt(ue,"stores"),Gs("ownerUid","==",_e.uid));let ee;if(await new Promise((te,le)=>{const Re=Ft(L,Oe=>{var se;ee=(se=Oe.docs[0])==null?void 0:se.id,Re(),te()},le)}),ee=a||ee,!ee)throw new Error("No store");await Ja(Ke(ue,"stores",ee,"products",String(V)),{status:Q}),setProducts(te=>te.map(le=>String(le.id)===String(V)?{...le,status:Q}:le)),t({title:s==="ar"?" ":"Saved",description:s==="ar"?"  ":"Status updated",variant:"success"})}catch{t({title:s==="ar"?" ":"Update Failed",description:s==="ar"?"  ":"Could not update status",variant:"destructive"})}},K=V=>{T(V.id);let Q=[];V.sizes&&Array.isArray(V.sizes)?Q=V.sizes:V.size&&(Q=[V.size]),C({name:V.name||"",price:V.price||"",stock:V.stock??0,category:V.category||"Electronics",status:V.status||"In Stock",image:V.image&&!V.image.includes("supabase")?V.image:"",color:V.color||"",sizes:Q,discount:Number(V.discount??0)}),v(!0)},ie=async V=>{if(V.preventDefault(),!!_)try{const Q=Nt.currentUser;if(!Q)throw new Error("Not authenticated");const _e=xs(rt(ue,"stores"),Gs("ownerUid","==",Q.uid));let L;if(await new Promise((te,le)=>{const Re=Ft(_e,Oe=>{var se;L=(se=Oe.docs[0])==null?void 0:se.id,Re(),te()},le)}),L=a||L,!L)throw new Error("No store");const ee=Ke(ue,"stores",L,"products",String(_));await Ja(ee,{...N}),v(!1),t({title:"Saved",description:"Product updated successfully.",variant:"success"})}catch{t({title:"Update Failed",description:"Could not update product.",variant:"destructive"})}},ge=async V=>{V.preventDefault();try{const Q=Nt.currentUser;if(!Q)throw new Error("Not authenticated");const _e=xs(rt(ue,"stores"),Gs("ownerUid","==",Q.uid));let L;if(await new Promise((ee,te)=>{const le=Ft(_e,Re=>{var Oe;L=(Oe=Re.docs[0])==null?void 0:Oe.id,le(),ee()},te)}),L=a||L,!L)throw new Error("No store");await Mu(rt(ue,"stores",L,"products"),{...j,storeSubdomain:L}),h(!1),S({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),t({title:"Success",description:"Product added successfully.",variant:"success"})}catch{t({title:"Add Failed",description:"Could not add product.",variant:"destructive"})}},Be=async V=>{var L,ee;const Q=(L=V.target.files)==null?void 0:L[0];if(!Q)return;if(!(a||((ee=c[0])==null?void 0:ee.id))){t({title:"Select Store",description:"Please choose a store first.",variant:"destructive"}),V.target.value="";return}if(Q.size>5*1024*1024){t({title:"File too large",description:"Max size is 5MB.",variant:"destructive"}),V.target.value="";return}I(!0);try{console.log("Starting image conversion...");const te=await df(Q);console.log("Image conversion successful"),S(le=>({...le,image:te})),t({title:"Image uploaded",description:"Product image saved.",variant:"success"})}catch(te){console.error("Image Upload Error:",te),t({title:"Upload failed",description:`Error: ${(te==null?void 0:te.message)||String(te)}`,variant:"destructive"})}finally{I(!1),V.target.value=""}},Ye=async V=>{var L,ee;const Q=(L=V.target.files)==null?void 0:L[0];if(!Q)return;if(!(a||((ee=c[0])==null?void 0:ee.id))){t({title:"Select Store",description:"Please choose a store first.",variant:"destructive"}),V.target.value="";return}if(Q.size>5*1024*1024){t({title:"File too large",description:"Max size is 5MB.",variant:"destructive"}),V.target.value="";return}k(!0);try{console.log("Starting edit image conversion...");const te=await df(Q);console.log("Edit image conversion successful"),C(le=>({...le,image:te})),t({title:"Image uploaded",description:"Product image updated.",variant:"success"})}catch(te){console.error("Edit Image Upload Error:",te),t({title:"Upload failed",description:`Error: ${(te==null?void 0:te.message)||String(te)}`,variant:"destructive"})}finally{k(!1),V.target.value=""}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r[s].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r[s].subtitle})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("select",{value:a||"",onChange:O,className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-teal-500 focus:border-teal-500",children:[o.jsx("option",{value:"",disabled:!0,children:r[s].selectStore}),c.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]}),o.jsxs(W,{onClick:()=>h(!0),className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(qo,{className:"w-4 h-4"})," ",r[s].addProduct]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-900 p-4 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Ho,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-500 dark:text-slate-400"}),o.jsx(ce,{placeholder:r[s].searchPlaceholder,className:"pl-9 bg-slate-50 dark:bg-slate-800 dark:text-white border-slate-200 dark:border-slate-700",value:m,onChange:V=>g(V.target.value)})]}),o.jsx("div",{className:"ml-auto flex gap-2",children:o.jsxs("select",{className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{children:r[s].allCategories}),r[s].categories.slice(0,3).map(V=>o.jsx("option",{children:V},V))]})})]}),o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:o.jsxs(Ll,{children:[o.jsx(Ul,{children:o.jsxs(Qn,{className:"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800",children:[o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.name}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.category}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.price}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.stock}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.status}),o.jsx(Ue,{className:"text-right dark:text-slate-400",children:r[s].table.actions})]})}),o.jsxs(Fl,{children:[(y?[]:x.filter(V=>{var Q;return(Q=V.name)==null?void 0:Q.toLowerCase().includes(m.toLowerCase())})).map(V=>o.jsxs(Qn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(ke,{className:"font-medium text-slate-900 dark:text-slate-100",children:V.name}),o.jsx(ke,{className:"text-slate-600 dark:text-slate-400",children:V.category}),o.jsx(ke,{className:"text-slate-600 dark:text-slate-400",children:V.price}),o.jsx(ke,{className:"text-slate-600 dark:text-slate-400",children:V.stock}),o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(In,{variant:V.status==="In Stock"?"success":V.status==="Low Stock"?"warning":"destructive",children:s==="ar"?V.status==="In Stock"?r.ar.status.in:V.status==="Low Stock"?r.ar.status.low:V.status==="Out of Stock"?r.ar.status.out:V.status:V.status}),o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsx(W,{variant:"outline",size:"sm",className:"h-7 px-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300",children:s==="ar"?"":"Change"})}),o.jsxs(La,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>B(V.id,"In Stock"),children:s==="ar"?r.ar.status.in:r.en.status.in}),o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>B(V.id,"Low Stock"),children:s==="ar"?r.ar.status.low:r.en.status.low}),o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>B(V.id,"Out of Stock"),children:s==="ar"?r.ar.status.out:r.en.status.out})]})]})]})}),o.jsx(ke,{className:"text-right",children:o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsx(W,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx(UO,{className:"h-4 w-4"})})}),o.jsxs(La,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsxs(Mt,{className:"cursor-pointer gap-2 dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>K(V),children:[o.jsx(MT,{className:"w-4 h-4"})," ",r[s].actions.edit]}),o.jsxs(Mt,{className:"cursor-pointer text-red-600 dark:text-red-400 gap-2 dark:focus:bg-slate-700",onClick:()=>q(V.id),children:[o.jsx(im,{className:"w-4 h-4"})," ",r[s].actions.delete]})]})]})})]},V.id)),!y&&x.filter(V=>{var Q;return(Q=V.name)==null?void 0:Q.toLowerCase().includes(m.toLowerCase())}).length===0&&o.jsx(Qn,{children:o.jsx(ke,{colSpan:6,className:"text-center text-slate-500 dark:text-slate-400",children:r[s].empty})})]})]})}),o.jsx(Uu,{open:d,onOpenChange:h,children:o.jsxs(bl,{className:"dark:bg-slate-900 dark:border-slate-800 max-h-[90vh] overflow-y-auto",onInteractOutside:V=>{E&&V.preventDefault()},onEscapeKeyDown:V=>{E&&V.preventDefault()},children:[o.jsxs(wl,{children:[o.jsx(_l,{className:"dark:text-white",children:r[s].addModal.title}),o.jsx(Bf,{children:r[s].addModal.desc})]}),o.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"name",children:r[s].addModal.name}),o.jsx(ce,{id:"name",placeholder:s==="ar"?":   ":"e.g. Blue Denim Jeans",value:j.name,onChange:V=>S(Q=>({...Q,name:V.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"price",children:"Price"}),o.jsx(ce,{id:"price",placeholder:"EGP 0.00",value:j.price,onChange:V=>S(Q=>({...Q,price:V.target.value})),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"stock",children:r[s].addModal.stock}),o.jsx(ce,{id:"stock",type:"number",placeholder:"0",value:j.stock,onChange:V=>S(Q=>({...Q,stock:Number(V.target.value)})),required:!0})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"discount",children:r[s].addModal.discount}),o.jsx(ce,{id:"discount",type:"number",min:"0",max:"100",placeholder:"0",value:j.discount,onChange:V=>S(Q=>({...Q,discount:Number(V.target.value)}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"image",children:r[s].addModal.image}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("input",{id:"image",type:"file",accept:"image/*",onChange:Be,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})}),o.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:r[s].addModal.imageSizeHint}),E?o.jsx("p",{className:"text-xs text-slate-500",children:r[s].addModal.uploading}):null,j.image?o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("img",{src:j.image,alt:"Preview",className:"h-20 w-20 rounded-md border object-cover"}),o.jsx("p",{className:"text-xs text-teal-600 break-all flex-1",children:"Image selected (Base64)"})]}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"color",children:r[s].addModal.color}),o.jsx(ce,{id:"color",placeholder:": ",value:j.color,onChange:V=>S(Q=>({...Q,color:V.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"size",children:r[s].addModal.size}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(V=>o.jsx("div",{onClick:()=>{S(Q=>{const _e=Q.sizes.includes(V)?Q.sizes.filter(L=>L!==V):[...Q.sizes,V];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${j.sizes.includes(V)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:V},V))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:H.map(V=>o.jsx("div",{onClick:()=>{S(Q=>{const _e=Q.sizes.includes(V)?Q.sizes.filter(L=>L!==V):[...Q.sizes,V];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${j.sizes.includes(V)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:V},V))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"category",children:r[s].addModal.category}),o.jsx("select",{id:"category",value:j.category,onChange:V=>S(Q=>({...Q,category:V.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:(s==="ar"?r.ar.categories:r.en.categories).map(V=>o.jsx("option",{value:V,children:V},V))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"status",children:r[s].addModal.status}),o.jsx("select",{id:"status",value:j.status,onChange:V=>S(Q=>({...Q,status:V.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:s==="ar"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.ar.status.in}),o.jsx("option",{value:"Low Stock",children:r.ar.status.low}),o.jsx("option",{value:"Out of Stock",children:r.ar.status.out})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.en.status.in}),o.jsx("option",{value:"Low Stock",children:r.en.status.low}),o.jsx("option",{value:"Out of Stock",children:r.en.status.out})]})})]}),o.jsx(Fu,{children:o.jsx(W,{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].addModal.save})})]})]})}),o.jsx(Uu,{open:w,onOpenChange:v,children:o.jsxs(bl,{className:"dark:bg-slate-900 dark:border-slate-800 max-h-[90vh] overflow-y-auto",onInteractOutside:V=>{R&&V.preventDefault()},onEscapeKeyDown:V=>{R&&V.preventDefault()},children:[o.jsxs(wl,{children:[o.jsx(_l,{children:r[s].editModal.title}),o.jsx(Bf,{children:r[s].editModal.desc})]}),o.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-name",children:r[s].editModal.name}),o.jsx(ce,{id:"edit-name",value:N.name,onChange:V=>C(Q=>({...Q,name:V.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-price",children:"Price"}),o.jsx(ce,{id:"edit-price",placeholder:"EGP 0.00",value:N.price,onChange:V=>C(Q=>({...Q,price:V.target.value})),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-stock",children:r[s].editModal.stock}),o.jsx(ce,{id:"edit-stock",type:"number",value:N.stock,onChange:V=>C(Q=>({...Q,stock:Number(V.target.value)})),required:!0})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-discount",children:r[s].editModal.discount}),o.jsx(ce,{id:"edit-discount",type:"number",min:"0",max:"100",value:N.discount,onChange:V=>C(Q=>({...Q,discount:Number(V.target.value)}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-image",children:r[s].editModal.image}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("input",{id:"edit-image",type:"file",accept:"image/*",onChange:Ye,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})}),o.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:r[s].editModal.imageSizeHint}),R?o.jsx("p",{className:"text-xs text-slate-500",children:r[s].editModal.uploading}):null,N.image?o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("img",{src:N.image,alt:"Preview",className:"h-20 w-20 rounded-md border object-cover",onError:V=>{V.target.src="https://placehold.co/100x100?text=Broken+Image"}}),o.jsx("p",{className:"text-xs text-teal-600 break-all flex-1",children:N.image.startsWith("data:")?"New Image (Base64)":"Existing Image"})]}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-color",children:r[s].editModal.color}),o.jsx(ce,{id:"edit-color",value:N.color,onChange:V=>C(Q=>({...Q,color:V.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-size",children:r[s].editModal.size}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(V=>o.jsx("div",{onClick:()=>{C(Q=>{const _e=Q.sizes.includes(V)?Q.sizes.filter(L=>L!==V):[...Q.sizes,V];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${N.sizes.includes(V)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:V},V))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:H.map(V=>o.jsx("div",{onClick:()=>{C(Q=>{const _e=Q.sizes.includes(V)?Q.sizes.filter(L=>L!==V):[...Q.sizes,V];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${N.sizes.includes(V)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:V},V))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-category",children:r[s].editModal.category}),o.jsx("select",{id:"edit-category",value:N.category,onChange:V=>C(Q=>({...Q,category:V.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:M.map(V=>o.jsx("option",{value:V,children:V},V))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-status",children:r[s].editModal.status}),o.jsx("select",{id:"edit-status",value:N.status,onChange:V=>C(Q=>({...Q,status:V.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:s==="ar"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.ar.status.in}),o.jsx("option",{value:"Low Stock",children:r.ar.status.low}),o.jsx("option",{value:"Out of Stock",children:r.ar.status.out})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.en.status.in}),o.jsx("option",{value:"Low Stock",children:r.en.status.low}),o.jsx("option",{value:"Out of Stock",children:r.en.status.out})]})})]}),o.jsx(Fu,{children:o.jsx(W,{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].editModal.save})})]})]})})]})},Mhe="modulepreload",Ohe=function(t){return"/"+t},jP={},p_=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Ohe(i),i in jP)return;jP[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Mhe,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Vhe=()=>{const{toast:t}=qt(),{orders:e,loadingOrders:n,setOrders:s}=cA(),[r,i]=p.useState(!1),[a,l]=p.useState([]),c=ds(),d=new URLSearchParams(c.search).get("store")||"",{language:h="en"}=rr()||{},m={en:{title:"Orders",subtitle:"Track and manage customer orders.",filter:"Filter",table:{id:"Order ID",customer:"Customer",date:"Date",phone:"Phone",address:"Address",status:"Status",items:"Items",total:"Total",actions:"Actions"},status:{delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected",pending:"Pending",processing:"Processing",shipped:"Shipped"},changeStatus:"Change Status",actions:{processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected"},modal:{title:"Selected Items",close:"Close",empty:"No items in this order",noImage:"No Image",quantity:"Qty:"},toast:{success:"Success",statusUpdated:"Status updated",failed:"Failed",updateFailed:"Could not update status",error:"Error",saveError:"An error occurred while saving"}},ar:{title:"",subtitle:"   .",filter:"",table:{id:" ",customer:"",date:"",phone:"",address:"",status:"",items:"",total:"",actions:""},status:{delivered:" ",cancelled:"",rejected:"",pending:" ",processing:" ",shipped:" "},changeStatus:" ",actions:{processing:" ",shipped:" ",delivered:" ",cancelled:"",rejected:""},modal:{title:" ",close:"",empty:"     ",noImage:" ",quantity:":"},toast:{success:"",statusUpdated:"  ",failed:"",updateFailed:"  ",error:"",saveError:"   "}}},g=async(x,y)=>{let w=!1;try{const{db:v}=await p_(()=>Promise.resolve().then(()=>Xoe),void 0),_=new Set([x.id]);x.rootOrderId&&_.add(x.rootOrderId);const T=[];_.forEach(C=>{T.push(Ja(Ke(v,"orders",C),{status:y}).then(()=>{w=!0}).catch(()=>{}))}),new Set([d,x._storeId,x.storeSubdomain,x.storeId,x.store].map(C=>String(C||"").trim()).filter(Boolean)).forEach(C=>{_.forEach(j=>{T.push(Ja(Ke(v,"stores",C,"orders",j),{status:y}).then(()=>{w=!0}).catch(()=>{}))})}),await Promise.all(T),w?(s(C=>C.map(j=>j.id===x.id||j.rootOrderId&&j.rootOrderId===x.id||x.rootOrderId&&j.id===x.rootOrderId?{...j,status:y}:j)),t({title:m[h].toast.success,description:m[h].toast.statusUpdated,variant:"success"})):t({title:m[h].toast.failed,description:m[h].toast.updateFailed,variant:"destructive"})}catch(v){console.error(v),t({title:m[h].toast.error,description:m[h].toast.saveError,variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:m[h].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:m[h].subtitle})]}),o.jsxs(W,{variant:"outline",className:"gap-2 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:[o.jsx(hf,{className:"w-4 h-4"})," ",m[h].filter]})]}),o.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ll,{children:[o.jsx(Ul,{children:o.jsxs(Qn,{className:"bg-slate-50 dark:bg-slate-900/50 hover:bg-slate-50 dark:hover:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:[o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.id}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.customer}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.date}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.phone}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.address}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.status}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.items}),o.jsx(Ue,{className:"whitespace-nowrap text-right dark:text-slate-400",children:m[h].table.total}),o.jsx(Ue,{className:"whitespace-nowrap text-right dark:text-slate-400",children:m[h].table.actions})]})}),o.jsx(Fl,{children:e.map(x=>{var y;return o.jsxs(Qn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx(ke,{className:"font-bold text-teal-600 dark:text-teal-400 whitespace-nowrap",children:x.displayId||x.id.replace(/\D/g,"")||x.id}),o.jsx(ke,{className:"text-red-600 dark:text-red-400 whitespace-nowrap",children:x.customer}),o.jsx(ke,{className:"text-slate-500 dark:text-slate-400 whitespace-nowrap",children:x.date}),o.jsx(ke,{className:"text-red-600 dark:text-red-400 whitespace-nowrap",children:x.phone}),o.jsx(ke,{className:"max-w-[220px] truncate text-red-600 dark:text-red-400",children:x.address}),o.jsx(ke,{className:"whitespace-nowrap",children:o.jsx(In,{variant:x.status==="Delivered"?"success":x.status==="Cancelled"||x.status==="Rejected"?"destructive":x.status==="Pending"||x.status==="Processing"?"warning":(x.status==="Shipped","secondary"),children:m[h].status[(y=x.status)==null?void 0:y.toLowerCase()]||x.status})}),o.jsx(ke,{className:"max-w-[260px] truncate whitespace-nowrap",children:o.jsx(W,{variant:"ghost",size:"sm",className:"h-8 px-2 dark:text-slate-300 dark:hover:text-white dark:hover:bg-slate-800",onClick:()=>{l(x.items||[]),i(!0)},children:o.jsx(ZH,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})})}),o.jsx(ke,{className:"text-right font-medium text-red-600 dark:text-red-400 whitespace-nowrap",children:x.total}),o.jsx(ke,{className:"text-right whitespace-nowrap",children:o.jsxs(Xo,{children:[o.jsx(Jo,{asChild:!0,children:o.jsx(W,{variant:"outline",size:"sm",className:"h-8 px-2 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:m[h].changeStatus})}),o.jsxs(La,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(x,"Processing")},children:m[h].actions.processing}),o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(x,"Shipped")},children:m[h].actions.shipped}),o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(x,"Delivered")},children:m[h].actions.delivered}),o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(x,"Cancelled")},children:m[h].actions.cancelled}),o.jsx(Mt,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(x,"Rejected")},children:m[h].actions.rejected})]})]})})]},x.id)})})]})}),r&&o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>i(!1)}),o.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-3xl bg-white dark:bg-slate-900 rounded-2xl shadow-xl border dark:border-slate-800 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b dark:border-slate-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold dark:text-white",children:m[h].modal.title}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"dark:text-slate-400 dark:hover:text-white",children:m[h].modal.close})]}),o.jsx("div",{className:"p-6 max-h-[65vh] overflow-y-auto space-y-4",children:a.length===0?o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:m[h].modal.empty}):a.map((x,y)=>o.jsxs("div",{className:"flex items-center gap-6 border dark:border-slate-800 rounded-xl p-4 dark:bg-slate-900/50",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden border dark:border-slate-700",children:x.image?o.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:m[h].modal.noImage})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-base font-semibold dark:text-white",children:x.name||""}),o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[m[h].modal.quantity," ",x.quantity??1]})]}),o.jsx("div",{className:"text-base font-medium dark:text-white",children:x.price||""})]},y))})]})]})]})]})};var Fv="Tabs",[Lhe,gme]=Kr(Fv,[Iv]),cF=Iv(),[Uhe,uA]=Lhe(Fv),uF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Tv(l),[h,m]=Cl({prop:s,onChange:r,defaultProp:i??"",caller:Fv});return o.jsx(Uhe,{scope:n,baseId:Qo(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(Me.div,{dir:d,"data-orientation":a,...u,ref:e})})});uF.displayName=Fv;var dF="TabsList",hF=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=uA(dF,n),a=cF(n);return o.jsx(AU,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:o.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});hF.displayName=dF;var fF="TabsTrigger",mF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,a=uA(fF,n),l=cF(n),c=yF(a.baseId,s),u=vF(a.baseId,s),d=s===a.value;return o.jsx(NU,{asChild:!0,...l,focusable:!r,active:d,children:o.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:he(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?a.onValueChange(s):h.preventDefault()}),onKeyDown:he(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(s)}),onFocus:he(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!r&&h&&a.onValueChange(s)})})})});mF.displayName=fF;var pF="TabsContent",gF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...a}=t,l=uA(pF,n),c=yF(l.baseId,s),u=vF(l.baseId,s),d=s===l.value,h=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(gr,{present:r||d,children:({present:m})=>o.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});gF.displayName=pF;function yF(t,e){return`${t}-trigger-${e}`}function vF(t,e){return`${t}-content-${e}`}var Fhe=uF,xF=hF,bF=mF,wF=gF;const dA=Fhe,zv=p.forwardRef(({className:t,...e},n)=>o.jsx(xF,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));zv.displayName=xF.displayName;const Rr=p.forwardRef(({className:t,...e},n)=>o.jsx(bF,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Rr.displayName=bF.displayName;const jr=p.forwardRef(({className:t,...e},n)=>o.jsx(wF,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jr.displayName=wF.displayName;const zhe=()=>{const{toast:t}=qt(),{language:e="en"}=rr()||{},n=ds(),r=new URLSearchParams(n.search).get("store"),[i,a]=p.useState(""),[l,c]=p.useState("en"),[u,d]=p.useState(""),[h,m]=p.useState("default"),[g,x]=p.useState(!1);p.useEffect(()=>{r&&sr(Ke(ue,"stores",r)).then(v=>{if(v.exists()){const _=v.data();a(_.whatsappNumber||""),c(_.storeLanguage||"en"),d(_.name||""),m(_.template||"default")}})},[r]);const y={en:{title:"Store Settings",subtitle:"Configure your store's payment and shipping methods.",tabs:{general:"General",payment:"Payment Methods",shipping:"Shipping Options",contact:"Contact Info"},general:{title:"General Settings",desc:"Basic configuration for your store.",language:"Store Language",name:"Store Name",template:"Store Template",templates:{default:"Default Standard",mobile:"Mobile Services & Digital",spare_parts:"Spare Parts & Hardware"},ar:"Arabic",en:"English"},acceptPayments:{title:"Accept Payments",desc:"Setup how you want to receive money from customers."},paymob:{title:"Paymob Integration",desc:"Credit cards, wallets, and installments.",connect:"Connect"},stripe:{title:"Stripe",desc:"Accept international payments securely.",connect:"Connect"},cod:{title:"Cash on Delivery (COD)",desc:"Allow customers to pay when they receive the order.",fee:"Additional Fee (Optional)"},shippingMethods:{title:"Shipping Methods",desc:"Define how you deliver products."},flatRate:{label:"Flat Rate Shipping",hint:"Standard fee for all orders."},freeThreshold:{label:"Free Shipping Threshold",hint:"Free shipping for orders above this amount."},integrations:{title:"Integrations",bosta:{title:"Bosta Shipping",desc:"Automated shipping and tracking.",configure:"Configure"}},contact:{title:"Contact Information",desc:"Manage how customers can reach you.",whatsapp:"WhatsApp Number"},save:"Save Changes",toastSaved:{title:"Settings Saved",desc:"Your store settings have been updated."}},ar:{title:" ",subtitle:"    .",tabs:{payment:" ",shipping:" ",contact:" ",general:""},general:{title:" ",desc:"  .",language:" ",name:" ",template:" ",templates:{default:" ",mobile:"  ",spare_parts:"  "},ar:"",en:""},acceptPayments:{title:" ",desc:"     ."},paymob:{title:" Paymob",desc:"   .",connect:""},stripe:{title:"Stripe",desc:"   .",connect:""},cod:{title:"  ",desc:"     .",fee:"  ()"},shippingMethods:{title:" ",desc:"   ."},flatRate:{label:"  ",hint:"   ."},freeThreshold:{label:"  ",hint:"     ."},integrations:{title:"",bosta:{title:"Bosta ",desc:"  .",configure:""}},contact:{title:" ",desc:"     .",whatsapp:" "},save:" ",toastSaved:{title:"  ",desc:"   ."}}},w=async()=>{if(r){x(!0);try{await Ja(Ke(ue,"stores",r),{whatsappNumber:i,storeLanguage:l,name:u,template:h}),t({title:y[e].toastSaved.title,description:y[e].toastSaved.desc,variant:"success"})}catch(v){console.error("Error saving settings:",v),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{x(!1)}}};return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:y[e].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:y[e].subtitle})]}),o.jsxs(dA,{defaultValue:"general",className:"w-full",children:[o.jsxs(zv,{className:"grid w-full grid-cols-4 max-w-[800px] mb-8 dark:bg-slate-800",children:[o.jsx(Rr,{value:"general",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:y[e].tabs.general}),o.jsx(Rr,{value:"payment",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:y[e].tabs.payment}),o.jsx(Rr,{value:"shipping",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:y[e].tabs.shipping}),o.jsx(Rr,{value:"contact",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:y[e].tabs.contact})]}),o.jsx(jr,{value:"general",className:"space-y-6",children:o.jsxs(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg",children:o.jsx(Qw,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),o.jsxs("div",{children:[o.jsx(Ct,{className:"dark:text-white",children:y[e].general.title}),o.jsx(gn,{className:"dark:text-slate-400",children:y[e].general.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:y[e].general.name}),o.jsx(ce,{value:u,onChange:v=>d(v.target.value),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:y[e].general.template}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:h,onChange:v=>m(v.target.value),children:[o.jsx("option",{value:"default",children:y[e].general.templates.default}),o.jsx("option",{value:"mobile",children:y[e].general.templates.mobile}),o.jsx("option",{value:"spare_parts",children:y[e].general.templates.spare_parts})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:y[e].general.language}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:l,onChange:v=>c(v.target.value),children:[o.jsx("option",{value:"en",children:y[e].general.en}),o.jsx("option",{value:"ar",children:y[e].general.ar})]})]})]})]})}),o.jsx(jr,{value:"contact",className:"space-y-6",children:o.jsxs(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:o.jsx(DT,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsx(Ct,{className:"dark:text-white",children:y[e].contact.title}),o.jsx(gn,{className:"dark:text-slate-400",children:y[e].contact.desc})]})]})}),o.jsx(Xe,{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:y[e].contact.whatsapp}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(ce,{placeholder:"e.g. +201xxxxxxxxx",value:i,onChange:v=>a(v.target.value),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e==="ar"?"      (: +20...)":"Enter full number with country code (e.g. +20...)"})]})})]})}),o.jsx(jr,{value:"payment",className:"space-y-6",children:o.jsxs(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/20 rounded-lg",children:o.jsx(dG,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),o.jsxs("div",{children:[o.jsx(Ct,{className:"dark:text-white",children:y[e].acceptPayments.title}),o.jsx(gn,{className:"dark:text-slate-400",children:y[e].acceptPayments.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-100 dark:bg-slate-800 rounded flex items-center justify-center font-bold text-slate-600 dark:text-slate-400",children:"Pay"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:y[e].paymob.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:y[e].paymob.desc})]})]}),o.jsx(W,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:y[e].paymob.connect})]}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded flex items-center justify-center font-bold text-blue-600 dark:text-blue-400",children:"S"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:y[e].stripe.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:y[e].stripe.desc})]})]}),o.jsx(W,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:y[e].stripe.connect})]}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded flex items-center justify-center font-bold text-green-600 dark:text-green-400",children:"$"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:y[e].cod.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:y[e].cod.desc})]})]}),o.jsx("div",{className:"flex items-center h-6",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 text-teal-600 rounded border-gray-300 dark:border-slate-600 focus:ring-teal-500 dark:bg-slate-700",defaultChecked:!0})})]}),o.jsxs("div",{className:"pl-14",children:[o.jsx(re,{className:"text-xs dark:text-slate-400",children:y[e].cod.fee}),o.jsx(ce,{className:"max-w-[150px] mt-1 dark:bg-slate-800 dark:border-slate-700 dark:text-white",placeholder:"e.g. 10 EGP"})]})]})]})]})}),o.jsx(jr,{value:"shipping",className:"space-y-6",children:o.jsxs(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(It,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:o.jsx(rl,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),o.jsxs("div",{children:[o.jsx(Ct,{className:"dark:text-white",children:y[e].shippingMethods.title}),o.jsx(gn,{className:"dark:text-slate-400",children:y[e].shippingMethods.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:y[e].flatRate.label}),o.jsx(ce,{placeholder:"e.g. 50.00",defaultValue:"50.00",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:y[e].flatRate.hint})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:y[e].freeThreshold.label}),o.jsx(ce,{placeholder:"e.g. 1000.00",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:y[e].freeThreshold.hint})]})]}),o.jsxs("div",{className:"border-t dark:border-slate-800 pt-6",children:[o.jsx("h4",{className:"font-medium mb-4 dark:text-white",children:y[e].integrations.title}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-50 dark:bg-red-900/20 rounded flex items-center justify-center font-bold text-red-600 dark:text-red-400",children:"B"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:y[e].integrations.bosta.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:y[e].integrations.bosta.desc})]})]}),o.jsx(W,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:y[e].integrations.bosta.configure})]})]})]})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(W,{onClick:w,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[150px]",children:[o.jsx(Qw,{className:"w-4 h-4 mr-2"})," ",y[e].save]})})]})},Bhe=()=>{const{toast:t}=qt(),{language:e="en"}=rr()||{},n={en:{title:"Banners",subtitle:"Edit the storefront banners and popups.",tabs:{hero:"Hero Banner",popup:"Welcome Popup"},form:{title:"Title",subtitle:"Subtitle",cta:"CTA Text",bgUrl:"Banner Images",uploadBtn:"Add Image",uploading:"Uploading...",save:"Save Changes",saving:"Saving...",sizeHint:"Recommended size: 1920720 (10MB)",popupEnabled:"Enable Welcome Popup",popupTitle:"Popup Title",popupText:"Popup Message",popupImage:"Popup Image",popupSizeHint:"Recommended size: 800x600 (10MB)",popupDesc:"Show a popup to visitors when they first visit your store",popupTitlePh:"e.g. Welcome to our Store!",popupTextPh:"e.g. Sign up for our newsletter to get 10% off."},toast:{saveOk:"Settings saved successfully",saveErr:"Failed to save settings",uploadOk:"Image uploaded successfully",uploadErr:"Image upload failed. Check Storage config.",sizeWarn:"Image resolution is low. Use ~1920720 for best quality.",noStore:"No store selected. Please create a store first."},preview:{title:"Preview Title",subtitle:"Preview subtitle",cta:"CTA",welcome:"Welcome!",previewMsg:"This is a preview of your popup message.",gotIt:"Got it",disabled:"Popup is disabled",enableToSee:"Enable it to see a preview",noImg:"No Img"}},ar:{title:"",subtitle:"     .",tabs:{hero:" ",popup:" "},form:{title:"",subtitle:"",cta:"  ",bgUrl:" ",uploadBtn:" ",uploading:" ...",save:" ",saving:" ...",sizeHint:"  : 1920720 (10MB)",popupEnabled:"  ",popupTitle:" ",popupText:" ",popupImage:" ",popupSizeHint:"  : 800x600 (10MB)",popupDesc:"       ",popupTitlePh:":    !",popupTextPh:":        10%."},toast:{saveOk:"   ",saveErr:"  ",uploadOk:"   ",uploadErr:"  .    .",sizeWarn:"  .   1920720  .",noStore:"   .    ."},preview:{title:" ",subtitle:" ",cta:"",welcome:"!",previewMsg:"   .",gotIt:"",disabled:" ",enableToSee:"  ",noImg:" "}}},[s,r]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState([]),[h,m]=p.useState({x:50,y:50}),[g,x]=p.useState(0);p.useEffect(()=>{if(u.length<=1)return;const L=setInterval(()=>{x(ee=>(ee+1)%u.length)},1e3);return()=>clearInterval(L)},[u]);const[y,w]=p.useState(!1),[v,_]=p.useState(""),[T,N]=p.useState(""),[C,j]=p.useState(""),[S,E]=p.useState(!1),[I,R]=p.useState(!1),k=p.useRef(null),M=p.useRef(null),P=ds(),$=p.useMemo(()=>new URLSearchParams(P.search),[P.search]),[H,O]=p.useState($.get("store")||"");p.useEffect(()=>{let L;const ee=async te=>{try{let le=H;if(!le&&te){const se=xs(rt(ue,"stores"),Gs("ownerUid","==",te)),we=await gv(se);we.empty||(le=we.docs[0].id,O(le))}if(!le)return;const Re=Ke(ue,"stores",le,"banners","default"),Oe=await sr(Re);if(Oe.exists()){const se=Oe.data();r(se.title||""),a(se.subtitle||""),c(se.ctaText||"");let we=se.bannerImages||[];if(we.length===0&&se.backgroundImageUrl){const Ht=se.backgroundImageUrl;Ht.includes("supabase")||(we=[Ht])}d(we),m(se.bannerPos||{x:50,y:50}),w(se.popupEnabled||!1),_(se.popupTitle||""),N(se.popupText||"");const tt=se.popupImage||"";j(tt.includes("supabase")?"":tt)}else le==="car"||(r("Summer Collection 2025"),a("Discover the latest trends in fashion and accessories. Quality that speaks for itself."),c("Shop Now"))}catch(le){console.error("Load error:",le)}};return L=Fi(Nt,te=>{te&&ee(te.uid)}),()=>L()},[H]);const q=async()=>{if(!H){t({title:n[e].toast.saveErr,description:n[e].toast.noStore});return}E(!0);try{const L=Ke(ue,"stores",H,"banners","default"),ee={title:s||"",subtitle:i||"",ctaText:l||"",bannerImages:u,backgroundImageUrl:u[0]||"",bannerPos:h,popupEnabled:y||!1,popupTitle:v||"",popupText:T||"",popupImage:C||"",updatedAt:Date.now()};await Ml(L,ee,{merge:!0}),t({title:n[e].toast.saveOk})}catch(L){console.error("Error saving banner:",L);let ee=L.message;L.code==="permission-denied"&&(ee=e==="ar"?"     .":"You do not have permission to edit this store."),t({title:n[e].toast.saveErr,description:ee})}finally{E(!1)}},B=async(L,ee)=>{var le;const te=(le=L.target.files)==null?void 0:le[0];if(te){if(te.size>10*1024*1024){t({title:n[e].toast.uploadErr,description:e==="ar"?"   .      10 .":"Image too large. Must be under 10MB."});return}if(!H){t({title:n[e].toast.uploadErr,description:e==="ar"?"   .":"No store selected."});return}R(!0);try{const Re=await df(te);ee===d?d(Oe=>[...Oe,Re]):ee(Re),t({title:n[e].toast.uploadOk})}catch(Re){console.error("Conversion error:",Re),t({title:n[e].toast.uploadErr,description:Re.message})}finally{R(!1),L.target.value=""}}},[K,ie]=p.useState(!1),ge=p.useRef({x:0,y:0}),Be=p.useRef({x:50,y:50}),Ye=p.useRef(null),V=L=>{L.preventDefault(),ie(!0),ge.current={x:L.clientX,y:L.clientY},Be.current={...h}},Q=L=>{if(!K)return;const ee=Ye.current;if(!ee)return;const te=L.clientX-ge.current.x,le=L.clientY-ge.current.y,Re=te/ee.offsetWidth*100,Oe=le/ee.offsetHeight*100;let se=Be.current.x-Re,we=Be.current.y-Oe;se=Math.max(0,Math.min(100,se)),we=Math.max(0,Math.min(100,we)),m({x:se,y:we})},_e=()=>{ie(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:n[e].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:n[e].subtitle})]}),o.jsx(W,{onClick:q,disabled:S,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[120px]",children:S?n[e].form.saving:n[e].form.save})]}),o.jsxs(dA,{defaultValue:"hero",className:"w-full",children:[o.jsxs(zv,{className:"grid w-full grid-cols-2 max-w-[400px] dark:bg-slate-800",children:[o.jsx(Rr,{value:"hero",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:n[e].tabs.hero}),o.jsx(Rr,{value:"popup",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:n[e].tabs.popup})]}),o.jsx(jr,{value:"hero",className:"space-y-6 mt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Xe,{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.title}),o.jsx(ce,{value:s,onChange:L=>r(L.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.subtitle}),o.jsx(ce,{value:i,onChange:L=>a(L.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.cta}),o.jsx(ce,{value:l,onChange:L=>c(L.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.bgUrl}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 mt-2",children:[u.map((L,ee)=>o.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 group",children:[o.jsx("img",{src:L,alt:`Banner ${ee}`,className:"w-full h-full object-cover"}),o.jsxs(W,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 w-8 h-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d(te=>te.filter((le,Re)=>Re!==ee)),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 6h18"}),o.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),o.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]})]},ee)),o.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-lg aspect-video cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",onClick:()=>{var L;return(L=k.current)==null?void 0:L.click()},children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400 dark:text-slate-500 mb-2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:I?n[e].form.uploading:n[e].form.uploadBtn})]})]}),o.jsx("div",{className:"hidden",children:o.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:L=>B(L,d)})}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:n[e].form.sizeHint})]})]})}),o.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx("div",{className:"rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{ref:Ye,onMouseDown:V,onMouseMove:Q,onMouseUp:_e,onMouseLeave:_e,className:"relative p-8 md:p-12 text-white transition-all duration-1000 ease-in-out",style:{backgroundImage:u.length>0?`url(${u[g]})`:"linear-gradient(to left, rgba(13,148,136,0.2), transparent)",backgroundSize:"cover",backgroundPosition:`${h.x}% ${h.y}%`,minHeight:220,cursor:K?"grabbing":"grab"},children:[o.jsxs("div",{className:"relative z-10 max-w-lg pointer-events-none",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold mb-4 drop-shadow-md",children:s||n[e].preview.title}),o.jsx("p",{className:"text-slate-100 mb-6 text-lg font-medium drop-shadow-sm",children:i||n[e].preview.subtitle}),o.jsx(W,{className:"bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-400 hover:to-emerald-500 text-white px-6 py-2 h-auto rounded-full shadow-lg border border-white/20",children:l||n[e].preview.cta})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-slate-900/70 to-transparent pointer-events-none"})]})}),o.jsx("p",{className:"text-xs text-center text-slate-400 dark:text-slate-500 mt-2",children:e==="ar"?"    ":"Drag image to adjust position"})]})]})}),o.jsx(jr,{value:"popup",className:"mt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(We,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Xe,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-slate-50 dark:bg-slate-800 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-base font-medium dark:text-slate-200",children:n[e].form.popupEnabled}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n[e].form.popupDesc})]}),o.jsx("div",{className:"flex items-center h-6",children:o.jsx("input",{type:"checkbox",checked:y,onChange:L=>w(L.target.checked),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 border-gray-300 dark:border-slate-600 dark:bg-slate-700"})})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.popupTitle}),o.jsx(ce,{value:v,onChange:L=>_(L.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700",placeholder:n[e].form.popupTitlePh})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.popupText}),o.jsx("textarea",{value:T,onChange:L=>N(L.target.value),className:"flex min-h-[80px] w-full rounded-md border border-input bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700",placeholder:n[e].form.popupTextPh})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.popupImage}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-md overflow-hidden border dark:border-slate-700",children:C?o.jsx("img",{src:C,alt:"Popup",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:n[e].preview.noImg})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:L=>B(L,j),className:"hidden"}),o.jsx(W,{disabled:I,variant:"outline",size:"sm",onClick:()=>{var L;return(L=M.current)==null?void 0:L.click()},className:"w-full dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:I?n[e].form.uploading:n[e].form.uploadBtn}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1",children:n[e].form.popupSizeHint})]})]})]})]})}),o.jsx("div",{className:"flex items-center justify-center bg-slate-100/50 rounded-xl border border-dashed border-slate-300 p-6 min-h-[400px]",children:y?o.jsxs(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-2xl overflow-hidden max-w-sm w-full",children:[C&&o.jsx("div",{className:"h-40 w-full bg-slate-100 relative",children:o.jsx("img",{src:C,alt:"Popup",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:v||n[e].preview.welcome}),o.jsx("p",{className:"text-slate-600 text-sm mb-6",children:T||n[e].preview.previewMsg}),o.jsx(W,{className:"w-full bg-teal-600 text-white",children:n[e].preview.gotIt})]})]}):o.jsxs("div",{className:"text-center text-slate-400",children:[o.jsx("p",{children:n[e].preview.disabled}),o.jsx("p",{className:"text-sm",children:n[e].preview.enableToSee})]})})]})})]})]})},$he=()=>{const{toast:t}=qt(),e=ds(),n=Rn(),{language:s="en"}=rr()||{},r={en:{title:"Categories",subtitle:"Manage your store's product categories.",addCategory:"Add Category",table:{name:"Name",image:"Image",actions:"Actions"},actions:{edit:"Edit",delete:"Delete"},empty:"No categories found",addModal:{title:"Add New Category",name:"Category Name",image:"Category Image (optional)",uploading:"Uploading...",save:"Save Category"},editModal:{title:"Edit Category",name:"Category Name",image:"Category Image (optional)",uploading:"Uploading...",save:"Save Changes"}},ar:{title:"",subtitle:"   .",addCategory:" ",table:{name:"",image:"",actions:""},actions:{edit:"",delete:""},empty:"  ",addModal:{title:"  ",name:" ",image:"  ()",uploading:" ...",save:" "},editModal:{title:" ",name:" ",image:"  ()",uploading:" ...",save:" "}}},a=new URLSearchParams(e.search).get("store"),[l,c]=p.useState([]),[u,d]=p.useState(!0),[h,m]=p.useState(!1),[g,x]=p.useState(!1),[y,w]=p.useState(null),[v,_]=p.useState({name:"",image:""}),[T,N]=p.useState(!1);p.useEffect(()=>{let R;return Fi(Nt,async k=>{if(!k)return;const M=xs(rt(ue,"stores"),Gs("ownerUid","==",k.uid));Ft(M,P=>{const $=P.docs[0];if($!=null&&$.id&&!a){n(`/dashboard/categories?store=${$.id}`,{replace:!0});return}if(a){const H=rt(ue,"stores",a,"categories");R=Ft(H,O=>{const q=O.docs.map(B=>({id:B.id,...B.data()}));c(q),d(!1)})}})}),()=>{R&&R()}},[a,n]);const C=async R=>{const k=R.target.files[0];if(k){if(k.size>2*1024*1024){t({title:"Error",description:"Image too large (max 2MB)",variant:"destructive"});return}N(!0);try{const M=await df(k);_(P=>({...P,image:M}))}catch{t({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{N(!1)}}},j=async()=>{var R;if(!(!((R=v.name)!=null&&R.trim())||!a))try{await Mu(rt(ue,"stores",a,"categories"),{name:v.name.trim(),image:v.image,createdAt:Date.now()}),m(!1),_({name:"",image:""}),t({title:r[s].addModal.save,description:"Success"})}catch(k){t({title:"Error",description:k.message,variant:"destructive"})}},S=async()=>{if(!(!y||!a))try{await Ja(Ke(ue,"stores",a,"categories",y),{name:v.name.trim(),image:v.image}),x(!1),w(null),_({name:"",image:""}),t({title:r[s].editModal.save,description:"Success"})}catch(R){t({title:"Error",description:R.message,variant:"destructive"})}},E=async R=>{if(a&&window.confirm("Are you sure?"))try{await TS(Ke(ue,"stores",a,"categories",R)),t({title:"Deleted",description:"Category removed"})}catch(k){t({title:"Error",description:k.message,variant:"destructive"})}},I=R=>{w(R.id),_({name:R.name,image:R.image||""}),x(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:r[s].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r[s].subtitle})]}),o.jsxs(W,{onClick:()=>{_({name:"",image:""}),m(!0)},className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(qo,{className:"w-4 h-4"}),r[s].addCategory]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:o.jsxs(Ll,{children:[o.jsx(Ul,{children:o.jsxs(Qn,{className:"border-b border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.image}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.name}),o.jsx(Ue,{className:"text-right dark:text-slate-400",children:r[s].table.actions})]})}),o.jsx(Fl,{children:l.length===0?o.jsx(Qn,{children:o.jsx(ke,{colSpan:3,className:"text-center py-12 text-slate-500 dark:text-slate-400",children:r[s].empty})}):l.map(R=>o.jsxs(Qn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(ke,{children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 overflow-hidden",children:R.image?o.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs",children:"IMG"})})}),o.jsx(ke,{className:"font-medium text-slate-900 dark:text-slate-100",children:R.name||o.jsx("span",{className:"text-red-500 italic",children:"No Name"})}),o.jsx(ke,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>I(R),className:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx(MT,{className:"w-4 h-4"})}),o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>E(R.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:o.jsx(im,{className:"w-4 h-4"})})]})})]},R.id))})]})}),o.jsx(Uu,{open:h,onOpenChange:m,children:o.jsxs(bl,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wl,{children:o.jsx(_l,{className:"dark:text-white",children:r[s].addModal.title})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].addModal.name}),o.jsx(ce,{value:v.name,onChange:R=>_(k=>({...k,name:R.target.value})),placeholder:"e.g. Electronics",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].addModal.image}),o.jsx(ce,{type:"file",accept:"image/*",onChange:C,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),T&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r[s].addModal.uploading}),v.image&&o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden mt-2",children:o.jsx("img",{src:v.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),o.jsxs(Fu,{children:[o.jsx(W,{variant:"outline",onClick:()=>m(!1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:"Cancel"}),o.jsx(W,{onClick:j,disabled:!v.name||T,className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].addModal.save})]})]})}),o.jsx(Uu,{open:g,onOpenChange:x,children:o.jsxs(bl,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wl,{children:o.jsx(_l,{className:"dark:text-white",children:r[s].editModal.title})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].editModal.name}),o.jsx(ce,{value:v.name,onChange:R=>_(k=>({...k,name:R.target.value})),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].editModal.image}),o.jsx(ce,{type:"file",accept:"image/*",onChange:C,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),T&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r[s].editModal.uploading}),v.image&&o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden mt-2",children:o.jsx("img",{src:v.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),o.jsxs(Fu,{children:[o.jsx(W,{variant:"outline",onClick:()=>x(!1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:"Cancel"}),o.jsx(W,{onClick:S,disabled:!v.name||T,className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].editModal.save})]})]})})]})},qhe=()=>{var u;const[t,e]=p.useState(null),[n,s]=p.useState(null),[r,i]=p.useState(!0);if(p.useEffect(()=>{const d=Nt.onAuthStateChanged(h=>{if(h){console.log("Current User ID:",h.uid);const m=Ft(Ke(ue,"users",h.uid),g=>{g.exists()?(console.log("Full user data:",g.data()),s(g.data()),e(g.data().subscription)):(console.log("User document does not exist! Creating default..."),Ml(Ke(ue,"users",h.uid),{uid:h.uid,email:h.email,name:h.displayName||"User",role:"user",status:"pending",createdAt:kf(),subscription:{plan:"free",isActive:!1,startDate:null,endDate:null}},{merge:!0}).then(()=>console.log("Default user document created")).catch(x=>console.error("Error creating default doc:",x)),s(null)),i(!1)});return()=>m()}else i(!1)});return()=>d()},[]),r)return o.jsx("div",{className:"p-8",children:"Loading..."});if(!t||!t.isActive)return o.jsx("div",{className:"p-8",children:o.jsx(We,{className:"max-w-md mx-auto",children:o.jsxs(It,{children:[o.jsx(Ct,{className:"text-red-600",children:"   "}),o.jsx(gn,{children:"     ."}),o.jsxs("div",{className:"text-xs text-gray-500 mt-2 p-2 bg-gray-100 rounded text-left",dir:"ltr",children:[o.jsx("p",{className:"font-bold border-b pb-1 mb-1",children:"Debug Info:"}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"User ID:"})," ",(u=Nt.currentUser)==null?void 0:u.uid]}),o.jsx("p",{className:"mt-1",children:o.jsx("span",{className:"font-semibold",children:"Full Document Data:"})}),o.jsx("pre",{className:"whitespace-pre-wrap break-all bg-white p-1 rounded border mt-1 max-h-40 overflow-auto",children:JSON.stringify(n||"No document found",null,2)})]})]})})});const a={monthly:" ",quarterly:"  ",yearly:" ",lifetime:"  "},l=d=>d?(d.seconds?new Date(d.seconds*1e3):new Date(d)).toLocaleDateString("ar-EG"):" ",c=()=>{if(t.plan==="lifetime")return" ";if(!t.endDate)return" ";const d=t.endDate.seconds?new Date(t.endDate.seconds*1e3):new Date(t.endDate),h=new Date,m=d-h,g=Math.ceil(m/(1e3*60*60*24));return h>d?"":`${g} `};return o.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:" "}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(We,{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white border-none shadow-lg",children:[o.jsx(It,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"w-6 h-6"})," "]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-3xl font-bold",children:a[t.plan]||t.plan}),o.jsx("div",{className:"mt-2 opacity-90",children:" : "})]})]}),o.jsxs(We,{children:[o.jsx(It,{children:o.jsxs(Ct,{className:"flex items-center gap-2 text-slate-700",children:[o.jsx(VO,{className:"w-5 h-5"})," "]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:c()}),o.jsxs("div",{className:"mt-2 text-slate-500",children:[" : ",l(t.endDate)]})]})]}),o.jsxs(We,{children:[o.jsx(It,{children:o.jsxs(Ct,{className:"flex items-center gap-2 text-slate-700",children:[o.jsx(KH,{className:"w-5 h-5"})," "]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-3xl font-bold text-slate-900",children:l(t.startDate)}),o.jsx("div",{className:"mt-2 text-slate-500",children:"  "})]})]})]})]})};function _F(t,[e,n]){return Math.min(n,Math.max(e,t))}var TF=["PageUp","PageDown"],EF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},cd="Slider",[g_,Hhe,Ghe]=Iy(cd),[AF,yme]=Kr(cd,[Ghe]),[Khe,Bv]=AF(cd),NF=p.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:x,...y}=t,w=p.useRef(new Set),v=p.useRef(0),T=a==="horizontal"?Whe:Yhe,[N=[],C]=Cl({prop:d,defaultProp:u,onChange:k=>{var P;(P=[...w.current][v.current])==null||P.focus(),h(k)}}),j=p.useRef(N);function S(k){const M=efe(N,k);R(k,M)}function E(k){R(k,v.current)}function I(){const k=j.current[v.current];N[v.current]!==k&&m(N)}function R(k,M,{commit:P}={commit:!1}){const $=rfe(i),H=ife(Math.round((k-s)/i)*i+s,$),O=_F(H,[s,r]);C((q=[])=>{const B=Jhe(q,O,M);if(sfe(B,c*i)){v.current=B.indexOf(O);const K=String(B)!==String(q);return K&&P&&m(B),K?B:q}else return q})}return o.jsx(Khe,{scope:t.__scopeSlider,name:n,disabled:l,min:s,max:r,valueIndexToChangeRef:v,thumbs:w.current,values:N,orientation:a,form:x,children:o.jsx(g_.Provider,{scope:t.__scopeSlider,children:o.jsx(g_.Slot,{scope:t.__scopeSlider,children:o.jsx(T,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:e,onPointerDown:he(y.onPointerDown,()=>{l||(j.current=N)}),min:s,max:r,inverted:g,onSlideStart:l?void 0:S,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:I,onHomeKeyDown:()=>!l&&R(s,0,{commit:!0}),onEndKeyDown:()=>!l&&R(r,N.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:M})=>{if(!l){const H=TF.includes(k.key)||k.shiftKey&&EF.includes(k.key)?10:1,O=v.current,q=N[O],B=i*H*M;R(q+B,O,{commit:!0})}}})})})})});NF.displayName=cd;var[IF,CF]=AF(cd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Whe=p.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,m]=p.useState(null),g=dt(e,T=>m(T)),x=p.useRef(void 0),y=Tv(r),w=y==="ltr",v=w&&!i||!w&&i;function _(T){const N=x.current||h.getBoundingClientRect(),C=[0,N.width],S=hA(C,v?[n,s]:[s,n]);return x.current=N,S(T-N.left)}return o.jsx(IF,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(RF,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const N=_(T.clientX);a==null||a(N)},onSlideMove:T=>{const N=_(T.clientX);l==null||l(N)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:T=>{const C=SF[v?"from-left":"from-right"].includes(T.key);u==null||u({event:T,direction:C?-1:1})}})})}),Yhe=p.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=p.useRef(null),h=dt(e,d),m=p.useRef(void 0),g=!r;function x(y){const w=m.current||d.current.getBoundingClientRect(),v=[0,w.height],T=hA(v,g?[s,n]:[n,s]);return m.current=w,T(y-w.top)}return o.jsx(IF,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(RF,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const w=x(y.clientY);i==null||i(w)},onSlideMove:y=>{const w=x(y.clientY);a==null||a(w)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:y=>{const v=SF[g?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:v?-1:1})}})})}),RF=p.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=Bv(cd,n);return o.jsx(Me.span,{...u,ref:e,onKeyDown:he(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):TF.concat(EF).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:he(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():s(h)}),onPointerMove:he(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:he(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),jF="SliderTrack",PF=p.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Bv(jF,n);return o.jsx(Me.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});PF.displayName=jF;var y_="SliderRange",kF=p.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Bv(y_,n),i=CF(y_,n),a=p.useRef(null),l=dt(e,a),c=r.values.length,u=r.values.map(m=>OF(m,r.min,r.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(Me.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});kF.displayName=y_;var v_="SliderThumb",DF=p.forwardRef((t,e)=>{const n=Hhe(t.__scopeSlider),[s,r]=p.useState(null),i=dt(e,l=>r(l)),a=p.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return o.jsx(Qhe,{...t,ref:i,index:a})}),Qhe=p.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,a=Bv(v_,n),l=CF(v_,n),[c,u]=p.useState(null),d=dt(e,_=>u(_)),h=c?a.form||!!c.closest("form"):!0,m=KS(c),g=a.values[s],x=g===void 0?0:OF(g,a.min,a.max),y=Zhe(s,a.values.length),w=m==null?void 0:m[l.size],v=w?tfe(w,x,l.direction):0;return p.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${v}px)`},children:[o.jsx(g_.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(Me.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:he(t.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),h&&o.jsx(MF,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},s)]})});DF.displayName=v_;var Xhe="RadioBubbleInput",MF=p.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=p.useRef(null),i=dt(r,s),a=P9(e);return p.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),o.jsx(Me.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});MF.displayName=Xhe;function Jhe(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function OF(t,e,n){const i=100/(n-e)*(t-e);return _F(i,[0,100])}function Zhe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function efe(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function tfe(t,e,n){const s=t/2,i=hA([0,50],[0,s]);return(s-i(e)*n)*n}function nfe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function sfe(t,e){if(e>0){const n=nfe(t);return Math.min(...n)>=e}return!0}function hA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function rfe(t){return(String(t).split(".")[1]||"").length}function ife(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var VF=NF,afe=PF,ofe=kF,lfe=DF;const LF=p.forwardRef(({className:t,...e},n)=>o.jsxs(VF,{ref:n,className:me("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(afe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(ofe,{className:"absolute h-full bg-primary"})}),o.jsx(lfe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));LF.displayName=VF.displayName;const cfe=()=>{const{toast:t}=qt(),{language:e}=rr()||{language:"en"},n={en:{title:"Product Tools",subtitle:"Optimize your product images easily",tabs:{resize:"Image Resizer",bgRemove:"Background Tool",upscale:"Image Enhancer"},resize:{title:"Resize Image",desc:"Upload an image and set custom dimensions.",upload:"Upload Image",width:"Width (px)",height:"Height (px)",action:"Create / Resize",download:"Download",success:"Image resized successfully!"},bg:{title:"Background Tool (AI Powered)",desc:"Automatically remove background using AI and add custom background.",upload:"Upload Image",transparent:"Transparent Background",color:"Background Color",process:"Process Image",processing:"Processing...",download:"Download Result",success:"Background removed using AI model!",error:"Failed to remove background."},upscale:{title:"Image Enhancer (AI Powered)",desc:"Upscale and enhance low-resolution images using AI.",upload:"Upload Image",info:"This tool uses AI to upscale your image by 2x while reducing noise and enhancing details. It runs entirely in your browser.",action:"Enhance Image",enhancing:"Enhancing...",download:"Download Enhanced Image",success:"Image enhanced and upscaled (2x) successfully!",fallback:"Completed (Fallback)",fallbackDesc:"Image upscaled using high-quality algorithm (AI unavailable).",error:"Failed to upscale image."}},ar:{title:" ",subtitle:"   ",tabs:{resize:"  ",bgRemove:" ",upscale:" "},resize:{title:"  ",desc:"    .",upload:" ",width:" (px)",height:" (px)",action:" /  ",download:"",success:"    !"},bg:{title:"  ( )",desc:"        .",upload:" ",transparent:" ",color:" ",process:" ",processing:" ...",download:" ",success:"   !",error:"  ."},upscale:{title:"  ( )",desc:"       .",upload:" ",info:"        2x     .    .",action:" ",enhancing:" ...",download:"  ",success:"    (2x) !",fallback:" ()",fallbackDesc:"       (   ).",error:"  ."}}},s=n[e]||n.en,[r,i]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(0),[d,h]=p.useState(0),[m,g]=p.useState(1),x=p.useRef(null),[y,w]=p.useState(null),[v,_]=p.useState(null),[T,N]=p.useState(null),[C,j]=p.useState(null),[S,E]=p.useState("#ffffff"),[I,R]=p.useState(!0),[k,M]=p.useState(!1),P=p.useRef(null),[$,H]=p.useState(null),[O,q]=p.useState(null),[B,K]=p.useState(null),[ie,ge]=p.useState(null),[Be,Ye]=p.useState(!1),V=se=>{const we=se.target.files[0];if(we){const tt=new FileReader;tt.onload=Ht=>{const at=new Image;at.onload=()=>{i(at),u(at.width),h(at.height),g(at.width/at.height),l(at.src)},at.src=Ht.target.result},tt.readAsDataURL(we)}},Q=()=>{if(!r||!x.current)return;const se=x.current;se.width=c,se.height=d,se.getContext("2d").drawImage(r,0,0,c,d),l(se.toDataURL("image/png")),t({title:"Success",description:s.resize.success,variant:"default"})},_e=()=>{if(!x.current)return;const se=document.createElement("a");se.download="resized-image.png",se.href=x.current.toDataURL("image/png"),se.click()},L=se=>{const we=se.target.files[0];if(we){_(we);const tt=new FileReader;tt.onload=Ht=>{const at=new Image;at.onload=()=>{w(at),N(at.src),j(null)},at.src=Ht.target.result},tt.readAsDataURL(we)}},ee=async()=>{if(v){M(!0);try{console.log("Starting BG removal for:",v.name);const we=await(()=>new Promise((un,Lt)=>{if(window.imglyRemoveBackground||window.removeBackground){un(window.imglyRemoveBackground||window.removeBackground);return}const mt="https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.7.0/dist/imgly-background-removal.min.js",nn=document.querySelector(`script[src="${mt}"]`);if(nn){if(window.imglyRemoveBackground||window.removeBackground){un(window.imglyRemoveBackground||window.removeBackground);return}nn.addEventListener("load",()=>{un(window.imglyRemoveBackground||window.removeBackground)}),nn.addEventListener("error",()=>Lt(new Error("Failed to load script")));return}const xr=document.createElement("script");xr.src=mt,xr.crossOrigin="anonymous",xr.onload=()=>{const Om=window.imglyRemoveBackground||window.removeBackground;Om?un(Om):Lt(new Error("Library loaded but global object not found"))},xr.onerror=()=>Lt(new Error("Failed to load background removal script from CDN")),document.head.appendChild(xr)}))(),tt=typeof we=="function"?we:we.default||we.removeBackground;if(typeof tt!="function")throw new Error("Invalid library format: removeBackground is not a function");const Ht=await tt(v,{progress:(un,Lt,mt)=>{console.log(`Downloading ${un}: ${Lt} of ${mt}`)},publicPath:"https://staticimgly.com/@imgly/background-removal-data/1.7.0/dist/",debug:!0,model:"isnet"}),at=URL.createObjectURL(Ht);if(I)j(at),M(!1);else{const un=new Image;un.onload=()=>{const Lt=document.createElement("canvas");Lt.width=un.width,Lt.height=un.height;const mt=Lt.getContext("2d");mt.fillStyle=S,mt.fillRect(0,0,Lt.width,Lt.height),mt.drawImage(un,0,0),j(Lt.toDataURL("image/png")),M(!1)},un.src=at}t({title:"Success",description:s.bg.success,variant:"default"})}catch(se){console.error("BG Removal Error:",se),t({title:"Error",description:s.bg.error+" "+se.message,variant:"destructive"}),M(!1)}finally{}}},te=()=>{if(!C)return;const se=document.createElement("a");se.download="processed-image.png",se.href=C,se.click()},le=se=>{const we=se.target.files[0];if(we){q(we);const tt=new FileReader;tt.onload=Ht=>{const at=new Image;at.onload=()=>{H(at),K(at.src),ge(null)},at.src=Ht.target.result},tt.readAsDataURL(we)}},Re=async()=>{if(O){Ye(!0);try{await p_(()=>import("https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"),[]);const{default:se}=await p_(()=>import("https://cdn.jsdelivr.net/npm/upscaler@latest/dist/browser/esm/upscaler.min.js"),[]),tt=await new se({model:{path:"https://unpkg.com/@upscalerjs/default-model@latest/models/model.json",scale:2}}).upscale(B,{patchSize:64,padding:2,progress:Ht=>{console.log(`Upscaling: ${Math.round(Ht*100)}%`)}});ge(tt),Ye(!1),t({title:"Success",description:s.upscale.success,variant:"default"})}catch(se){console.error("Upscaling Error:",se);try{console.log("Falling back to canvas sharpening...");const we=new Image;we.onload=()=>{const tt=document.createElement("canvas");tt.width=we.width*2,tt.height=we.height*2;const Ht=tt.getContext("2d");Ht.imageSmoothingEnabled=!0,Ht.imageSmoothingQuality="high",Ht.drawImage(we,0,0,tt.width,tt.height),ge(tt.toDataURL("image/png")),Ye(!1),t({title:s.upscale.fallback,description:s.upscale.fallbackDesc})},we.src=B}catch{t({title:"Error",description:s.upscale.error,variant:"destructive"}),Ye(!1)}}}},Oe=()=>{if(!ie)return;const se=document.createElement("a");se.download="enhanced-image.png",se.href=ie,se.click()};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:s.title}),o.jsx("p",{className:"text-sm text-slate-500",children:s.subtitle})]}),o.jsxs(dA,{defaultValue:"resize",className:"w-full",children:[o.jsxs(zv,{className:"grid w-full grid-cols-3 lg:w-[600px]",children:[o.jsxs(Rr,{value:"resize",className:"gap-2",children:[o.jsx(Yw,{className:"h-4 w-4"})," ",s.tabs.resize]}),o.jsxs(Rr,{value:"bg-remove",className:"gap-2",children:[o.jsx(iC,{className:"h-4 w-4"})," ",s.tabs.bgRemove]}),o.jsxs(Rr,{value:"upscale",className:"gap-2",children:[o.jsx(Jw,{className:"h-4 w-4"})," ",s.tabs.upscale]})]}),o.jsx(jr,{value:"resize",children:o.jsxs(We,{children:[o.jsxs(It,{children:[o.jsx(Ct,{children:s.resize.title}),o.jsx(gn,{children:s.resize.desc})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center",children:a?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:a,alt:"Preview",className:"max-h-[300px] object-contain"}),o.jsx(W,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{i(null),l(null)},children:o.jsx(Bc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Yw,{className:"h-10 w-10 text-slate-400 mb-2"}),o.jsx(re,{htmlFor:"resize-upload",className:"cursor-pointer bg-slate-900 text-white px-4 py-2 rounded hover:bg-slate-800 transition",children:s.resize.upload}),o.jsx(ce,{id:"resize-upload",type:"file",className:"hidden",accept:"image/*",onChange:V})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:s.resize.width}),o.jsx(ce,{type:"number",value:c,onChange:se=>u(Number(se.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:s.resize.height}),o.jsx(ce,{type:"number",value:d,onChange:se=>h(Number(se.target.value))})]})]}),o.jsx(W,{onClick:Q,disabled:!r,className:"w-full",children:s.resize.action}),a&&o.jsxs(W,{variant:"outline",onClick:_e,className:"w-full",children:[o.jsx(_h,{className:"mr-2 h-4 w-4"})," ",s.resize.download]})]})]}),o.jsx("canvas",{ref:x,className:"hidden"})]})]})}),o.jsx(jr,{value:"bg-remove",children:o.jsxs(We,{children:[o.jsxs(It,{children:[o.jsx(Ct,{children:s.bg.title}),o.jsx(gn,{children:s.bg.desc})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]",children:T?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:C||T,alt:"Preview",className:"max-h-[300px] object-contain border border-slate-200 shadow-sm"}),o.jsx(W,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{w(null),_(null),N(null),j(null)},children:o.jsx(Bc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(iC,{className:"h-10 w-10 text-slate-400 mb-2"}),o.jsx(re,{htmlFor:"bg-upload",className:"cursor-pointer bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition",children:s.bg.upload}),o.jsx(ce,{id:"bg-upload",type:"file",className:"hidden",accept:"image/*",onChange:L})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"transparent",checked:I,onChange:se=>R(se.target.checked),className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),o.jsx(re,{htmlFor:"transparent",children:s.bg.transparent})]})}),!I&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:s.bg.color}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ce,{type:"color",value:S,onChange:se=>E(se.target.value),className:"h-10 w-20 p-1 cursor-pointer"}),o.jsx("span",{className:"text-sm font-mono",children:S})]})]}),o.jsx(W,{onClick:ee,disabled:!y||k,className:"w-full bg-teal-600 hover:bg-teal-700",children:k?s.bg.processing:s.bg.process}),C&&o.jsxs(W,{variant:"outline",onClick:te,className:"w-full border-teal-200 text-teal-700 hover:bg-teal-50",children:[o.jsx(_h,{className:"mr-2 h-4 w-4"})," ",s.bg.download]})]})]}),o.jsx("canvas",{ref:P,className:"hidden"})]})]})}),o.jsx(jr,{value:"upscale",children:o.jsxs(We,{children:[o.jsxs(It,{children:[o.jsx(Ct,{children:s.upscale.title}),o.jsx(gn,{children:s.upscale.desc})]}),o.jsx(Xe,{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center bg-slate-50 dark:bg-slate-900",children:B?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:ie||B,alt:"Preview",className:"max-h-[300px] object-contain border border-slate-200 shadow-sm"}),o.jsx(W,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{H(null),q(null),K(null),ge(null)},children:o.jsx(Bc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Jw,{className:"h-10 w-10 text-purple-400 mb-2"}),o.jsx(re,{htmlFor:"upscale-upload",className:"cursor-pointer bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition",children:s.upscale.upload}),o.jsx(ce,{id:"upscale-upload",type:"file",className:"hidden",accept:"image/*",onChange:le})]})})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.upscale.info})}),o.jsx(W,{onClick:Re,disabled:!B||Be,className:"w-full h-12 text-lg bg-purple-600 hover:bg-purple-700",children:Be?o.jsx(o.Fragment,{children:s.upscale.enhancing}):o.jsx(o.Fragment,{children:s.upscale.action})}),ie&&o.jsxs(W,{onClick:Oe,variant:"outline",className:"w-full gap-2 border-purple-200 text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-900/20",children:[o.jsx(_h,{className:"h-4 w-4"})," ",s.upscale.download]})]})]})})]})})]})]})},_g=nF,Tg=hhe,UF=({className:t,...e})=>o.jsx(Mv,{className:me(t),...e});UF.displayName=Mv.displayName;const FF=p.forwardRef(({className:t,...e},n)=>o.jsx(Ov,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));FF.displayName=Ov.displayName;const ufe=rm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qh=p.forwardRef(({side:t="right",className:e,children:n,...s},r)=>o.jsxs(UF,{children:[o.jsx(FF,{}),o.jsxs(Vv,{ref:r,className:me(ufe({side:t}),e),...s,children:[o.jsxs(sF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Ha,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));qh.displayName=Vv.displayName;const Hh=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});Hh.displayName="SheetHeader";const zF=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zF.displayName="SheetFooter";const Gh=p.forwardRef(({className:t,...e},n)=>o.jsx(Lv,{ref:n,className:me("text-lg font-semibold text-foreground",t),...e}));Gh.displayName=Lv.displayName;const dfe=p.forwardRef(({className:t,...e},n)=>o.jsx(Uv,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));dfe.displayName=Uv.displayName;const BF=p.createContext(),hfe=p.createContext(),ffe=()=>p.useContext(BF),PP=()=>{const t=ds(),e=new URLSearchParams(t.search);let n=e.get("store")||null;const s=typeof window<"u"?window.location.hostname:"";if(!n&&s)if(s.includes("localhost")){const L=s.split(".");L.length>=2&&L[0]!=="www"&&(n=L[0])}else{const L=s.split(".");if(L.length>2){const ee=L[0];ee!=="www"&&(n=ee)}}const[r,i]=p.useState(null),[a,l]=p.useState(!!n),[c,u]=p.useState({name:"Storefront",logo:null}),[d,h]=p.useState(null),[m,g]=p.useState([]),[x,y]=p.useState(!1);p.useEffect(()=>{if(n){const L=rt(ue,"stores",n,"categories"),ee=Ft(L,te=>{g(te.docs.map(le=>({id:le.id,...le.data()})))});return()=>ee()}},[n]),p.useEffect(()=>{let L=!1;return(async()=>{if(l(!0),!n){i(null),u({name:"Storefront",logo:null}),l(!1);return}try{const te=Ke(ue,"stores",n),le=await sr(te);if(!L)if(le.exists()){const Re=le.data();Re.logo&&Re.logo.includes("supabase")&&(Re.logo=null),i({id:n,...Re}),u({name:Re.name||n,logo:Re.logo||null});try{const Oe=Ke(ue,"stores",n,"banners","default"),se=await sr(Oe);if(se.exists()){const we=se.data();we.backgroundImageUrl&&we.backgroundImageUrl.includes("supabase")&&(we.backgroundImageUrl=""),h(we)}else h(null)}catch{h(null)}}else i(null),u({name:n,logo:null}),h(null)}catch{L||(i(null),u({name:n,logo:null}),h(null))}finally{L||l(!1)}})(),()=>{L=!0}},[n]);const[w,v]=p.useState(!1),[_,T]=p.useState([]),[N,C]=p.useState(()=>{if(typeof window<"u"){const L=localStorage.getItem("wishlistItems");return L?JSON.parse(L):[]}return[]}),[j,S]=p.useState(!1),[E,I]=p.useState(!1),[R,k]=p.useState(""),[M,P]=p.useState(!1),[$,H]=p.useState(!1),O=(r==null?void 0:r.storeLanguage)||e.get("lang")||"en",q={en:{searchPlaceholder:"Search products...",home:"Home",newArrivals:"New Arrivals",collections:"Collections",sale:"Sale",menu:"Menu",categories:"Categories",allCategories:"All Categories",shoppingCart:"Shopping Cart",emptyCart:"Your cart is empty",startShopping:"Start Shopping",wishlist:"Wishlist",emptyWishlist:"Your wishlist is empty",continueShopping:"Continue Shopping",addToCart:"Add to Cart",remove:"Remove",total:"Total",checkoutNow:"Checkout Now",footer:{storefront:"Storefront",storefrontDesc:"Premium products curated just for you. Quality and satisfaction guaranteed.",shop:"Shop",allProducts:"All Products",featured:"Featured",newArrivals:"New Arrivals",support:"Support",contactUs:"Contact Us",faqs:"FAQs",shippingReturns:"Shipping & Returns",newsletter:"Newsletter",subscribe:"Subscribe to get special offers, free giveaways, and unique deals.",emailPlaceholder:"Email address",join:"Join"}},ar:{searchPlaceholder:"  ...",home:"",newArrivals:" ",collections:"",sale:"",menu:"",categories:"",allCategories:" ",shoppingCart:" ",emptyCart:"  ",startShopping:" ",wishlist:"",emptyWishlist:"  ",continueShopping:" ",addToCart:" ",remove:"",total:"",checkoutNow:" ",footer:{storefront:"",storefrontDesc:"     .   .",shop:"",allProducts:" ",featured:"",newArrivals:" ",support:"",contactUs:" ",faqs:" ",shippingReturns:" ",newsletter:" ",subscribe:"        .",emailPlaceholder:"  ",join:""}}},[B,K]=p.useState(!1);p.useEffect(()=>{if(d!=null&&d.popupEnabled&&n&&!sessionStorage.getItem(`popupShown_${n}`)){const ee=setTimeout(()=>K(!0),2e3);return()=>clearTimeout(ee)}},[d,n]);const ie=()=>{K(!1),sessionStorage.setItem(`popupShown_${n}`,"true")};p.useEffect(()=>{const L=()=>{S(window.scrollY>20)};return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[]);const ge=(L,ee=!0)=>{T(te=>{const le=L.selectedSize?`${L.id}-${L.selectedSize}`:String(L.id);return te.find(Oe=>(Oe.cartItemId||String(Oe.id))===le)?te.map(Oe=>(Oe.cartItemId||String(Oe.id))===le?{...Oe,quantity:Oe.quantity+(L.quantity||1)}:Oe):[...te,{...L,cartItemId:le,quantity:L.quantity||1}]}),ee&&v(!0)},Be=L=>{T(ee=>ee.filter(te=>(te.cartItemId||String(te.id))!==L))},Ye=(L,ee)=>{T(te=>te.map(le=>{if((le.cartItemId||String(le.id))===L){const Re=Math.max(1,le.quantity+ee);return{...le,quantity:Re}}return le}))},V=_.reduce((L,ee)=>L+Us(ee.price)*ee.quantity,0);p.useEffect(()=>{localStorage.setItem("wishlistItems",JSON.stringify(N))},[N]);const Q=L=>{C(ee=>ee.find(le=>le.id===L.id)?ee.filter(le=>le.id!==L.id):[...ee,L])},_e=L=>N.some(ee=>ee.id===L);return!a&&!r&&n?o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:o.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-200 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Th,{className:"w-10 h-10 text-slate-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Store Not Found"}),o.jsxs("p",{className:"text-slate-500",children:["The store you are looking for (",n,") does not exist."]}),o.jsx(W,{onClick:()=>window.location.href="/",variant:"outline",children:"Go to Home"})]})}):o.jsx(BF.Provider,{value:{cartItems:_,addToCart:ge,removeFromCart:Be,updateQuantity:Ye,cartTotal:V,setCartOpen:v},children:o.jsx(hfe.Provider,{value:{wishlistItems:N,toggleWishlist:Q,isInWishlist:_e},children:o.jsxs("div",{className:`min-h-screen bg-white font-sans text-slate-900 overflow-x-hidden ${O==="ar"?"font-cairo":""}`,dir:O==="ar"?"rtl":"ltr",children:[o.jsx("header",{className:`fixed top-0 w-full z-40 transition-all duration-300 ${j?"bg-white/90 backdrop-blur-md shadow-lg shadow-slate-200/40 py-2":"bg-white/50 backdrop-blur-sm py-2 md:py-5"}`,children:o.jsx("div",{className:"container mx-auto px-4 flex items-center justify-between h-14 md:h-auto",children:M?o.jsxs("div",{className:"flex items-center w-full gap-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ho,{className:"w-5 h-5 absolute left-3 top-2.5 text-slate-400"}),o.jsx(ce,{type:"text",placeholder:q[O].searchPlaceholder,value:R,onChange:L=>k(L.target.value),className:"pl-10 bg-white border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all rounded-2xl h-11 w-full text-base shadow-sm",autoFocus:!0})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>{P(!1),k("")},className:"shrink-0 w-11 h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(Ha,{className:"w-6 h-6 text-slate-600"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-4 max-w-[60%] md:max-w-none",children:[o.jsxs(Kt,{to:"/store",className:"text-lg md:text-2xl font-bold tracking-tighter flex items-center gap-3 truncate group",children:[o.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-gradient-to-tr from-teal-500 to-emerald-500 rounded-xl flex items-center justify-center text-white overflow-hidden shrink-0 shadow-lg shadow-teal-500/20 group-hover:scale-105 transition-transform duration-300",children:c.logo?o.jsx("img",{src:c.logo,alt:"logo",className:"w-full h-full object-contain"}):o.jsx("span",{className:"font-bold text-lg",children:"S"})}),o.jsx("span",{className:"truncate text-xl md:text-2xl text-slate-900",children:c.name})]}),o.jsxs("nav",{className:"hidden md:flex items-center gap-8 ml-10 text-sm font-semibold text-slate-500",children:[o.jsx(Kt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:q[O].home}),o.jsx(Kt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:q[O].newArrivals}),o.jsx(Kt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:q[O].collections}),o.jsx(Kt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:q[O].sale})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[o.jsxs("div",{className:"relative hidden md:block w-72",children:[o.jsx(ce,{type:"text",placeholder:q[O].searchPlaceholder,value:R,onChange:L=>k(L.target.value),className:"pl-10 bg-slate-50 border-slate-200 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all rounded-2xl h-10 shadow-sm"}),o.jsx(Ho,{className:"w-4 h-4 absolute left-3.5 top-3 text-slate-400"})]}),o.jsx(W,{variant:"ghost",size:"icon",onClick:()=>P(!0),className:"md:hidden w-10 h-10 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(Ho,{className:"w-6 h-6 text-slate-600"})}),o.jsxs(_g,{open:x,onOpenChange:y,children:[o.jsx(Tg,{asChild:!0,children:o.jsx(W,{variant:"ghost",size:"icon",className:"w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(jT,{className:"w-6 h-6 text-slate-600"})})}),o.jsxs(qh,{side:"left",className:"w-[300px] sm:w-[400px]",children:[o.jsx(Hh,{children:o.jsx(Gh,{className:`text-left font-bold text-xl ${O==="ar"?"text-right":""}`,children:q[O].menu})}),o.jsxs("div",{className:"flex flex-col gap-6 py-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-3 text-lg text-slate-900",children:q[O].categories}),o.jsxs("div",{className:"flex flex-col gap-3 pl-2",children:[o.jsx(Kt,{to:"/store",onClick:()=>y(!1),className:"text-slate-600 hover:text-teal-600 font-medium transition-colors",children:q[O].allCategories}),m.map(L=>o.jsx(Kt,{to:`/store?category=${encodeURIComponent(L.name)}`,onClick:()=>y(!1),className:"text-slate-600 hover:text-teal-600 font-medium transition-colors",children:L.name},L.id))]})]}),o.jsx("div",{className:"border-t pt-6",children:o.jsx("nav",{className:"flex flex-col gap-4",children:o.jsx(Kt,{to:"/store",onClick:()=>y(!1),className:"font-bold hover:text-teal-600",children:q[O].home})})})]})]})]}),o.jsxs(_g,{open:$,onOpenChange:H,children:[o.jsx(Tg,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:"relative w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:[o.jsx(ff,{className:"w-6 h-6 text-slate-600"}),N.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-teal-600 text-white text-[11px] font-bold flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:N.length})]})}),o.jsxs(qh,{className:"w-full sm:max-w-md flex flex-col",children:[o.jsx(Hh,{children:o.jsxs(Gh,{className:"font-bold text-xl",children:[q[O].wishlist," (",N.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:N.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-2",children:o.jsx(ff,{className:"w-10 h-10 text-slate-400"})}),o.jsx("p",{className:"font-medium text-lg",children:q[O].emptyWishlist}),o.jsx(W,{onClick:()=>H(!1),className:"bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white rounded-xl px-8 font-bold shadow-lg shadow-teal-600/20",children:q[O].continueShopping})]}):o.jsx("div",{className:"space-y-6",children:N.map(L=>o.jsxs(de.div,{layout:!0,className:"flex gap-4 bg-slate-50 p-3 rounded-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-xl overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm line-clamp-1 text-slate-900",children:L.name}),o.jsx("p",{className:"text-sm font-bold text-teal-600",children:xt(Us(L.price))})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx(W,{size:"sm",className:"h-8 text-xs bg-teal-600 hover:bg-teal-700 text-white rounded-lg shadow-sm shadow-teal-600/20",onClick:()=>{ge(L),Q(L)},children:q[O].addToCart}),o.jsx("button",{onClick:()=>Q(L),className:"text-xs text-rose-500 hover:text-rose-600 font-medium px-2 py-1 rounded hover:bg-rose-50 transition-colors",children:q[O].remove})]})]})]},L.id))})})]})]}),o.jsxs(_g,{open:w,onOpenChange:v,children:[o.jsx(Tg,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:"relative w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:[o.jsx(Th,{className:"w-6 h-6 text-slate-600"}),_.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-teal-600 text-white text-[11px] font-bold flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:_.length})]})}),o.jsxs(qh,{className:"w-full sm:max-w-md flex flex-col",children:[o.jsx(Hh,{children:o.jsxs(Gh,{className:"font-bold text-xl",children:[q[O].shoppingCart," (",_.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:_.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-2",children:o.jsx(Th,{className:"w-10 h-10 text-slate-400"})}),o.jsx("p",{className:"font-medium text-lg",children:q[O].emptyCart}),o.jsx(W,{onClick:()=>v(!1),className:"bg-slate-900 text-white rounded-xl px-8",children:q[O].startShopping})]}):o.jsx("div",{className:"space-y-6",children:_.map(L=>o.jsxs(de.div,{layout:!0,className:"flex gap-4 bg-slate-50 p-3 rounded-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-xl overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm line-clamp-1 text-slate-900",children:L.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-bold text-teal-600",children:xt(Us(L.price))}),L.selectedSize&&o.jsx(In,{variant:"outline",className:"text-xs h-5 px-1.5 bg-white border-slate-200 text-slate-600",children:L.selectedSize})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1 border bg-white rounded-lg p-0.5 shadow-sm",children:[o.jsx("button",{onClick:()=>Ye(L.cartItemId,-1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-100 rounded-md transition-colors text-slate-600",children:"-"}),o.jsx("span",{className:"text-xs w-6 text-center font-bold text-slate-900",children:L.quantity}),o.jsx("button",{onClick:()=>Ye(L.cartItemId,1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-100 rounded-md transition-colors text-slate-600",children:"+"})]}),o.jsx("button",{onClick:()=>Be(L.cartItemId),className:"text-xs text-rose-500 hover:text-rose-600 font-medium px-2 py-1 rounded hover:bg-rose-50 transition-colors",children:q[O].remove})]})]})]},L.cartItemId||L.id))})}),_.length>0&&o.jsxs(zF,{className:"flex-col sm:flex-col space-y-4 border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between font-medium text-lg",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:xt(V)})]}),o.jsx(Kt,{to:"/store/checkout",onClick:()=>v(!1),className:"w-full",children:o.jsx(W,{className:"w-full bg-teal-600 hover:bg-teal-700 text-white h-12 text-base",children:"Checkout Now"})})]})]})]})]})]})})}),o.jsx("main",{className:"pt-20 pb-16 min-h-[80vh]",children:o.jsx(wT,{context:{addToCart:ge,filtersOpen:E,setFiltersOpen:I,storeSubdomain:n,store:r,banner:d,searchQuery:R,categories:m,wishlistItems:N,toggleWishlist:Q,isInWishlist:_e,lang:O}})}),o.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12 border-t border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 text-sm",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"Storefront"}),o.jsx("p",{className:"mb-4 max-w-xs",children:"Premium products curated just for you. Quality and satisfaction guaranteed."}),o.jsx("div",{className:"flex gap-4"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Shop"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"All Products"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Featured"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"New Arrivals"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Contact Us"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"FAQs"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Shipping & Returns"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Newsletter"}),o.jsx("p",{className:"mb-4",children:"Subscribe to get special offers, free giveaways, and unique deals."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ce,{placeholder:"Email address",className:"bg-slate-800 border-slate-700"}),o.jsx(W,{className:"bg-teal-600 hover:bg-teal-700",children:"Join"})]})]})]})}),o.jsx(SG,{children:B&&o.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:ie,children:o.jsxs(de.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full relative",onClick:L=>L.stopPropagation(),children:[o.jsx("button",{onClick:ie,className:"absolute top-3 right-3 p-1.5 bg-black/10 hover:bg-black/20 rounded-full transition-colors z-10",children:o.jsx(Ha,{className:"w-5 h-5 text-slate-700"})}),(d==null?void 0:d.popupImage)&&o.jsx("div",{className:"h-48 w-full bg-slate-100 relative",children:o.jsx("img",{src:d.popupImage,alt:"Welcome",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6 md:p-8 text-center",children:[(d==null?void 0:d.popupTitle)&&o.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:d.popupTitle}),(d==null?void 0:d.popupText)&&o.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed text-sm md:text-base",children:d.popupText}),o.jsx(W,{onClick:ie,className:"w-full bg-teal-600 hover:bg-teal-700 text-white h-11 text-base rounded-xl shadow-lg shadow-teal-600/20",children:"Start Shopping"})]})]})})}),(r==null?void 0:r.whatsappNumber)&&o.jsx("a",{href:`https://wa.me/${r.whatsappNumber.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110","aria-label":"Chat on WhatsApp",children:o.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})]})})})},kP=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l})=>{Rn();const c=l(t.price),u=Number(t.discount)||0,d=u>0,h=a(c*(1-u/100));return o.jsxs(de.div,{whileHover:{y:-5},className:"bg-white dark:bg-slate-900 rounded-2xl md:rounded-3xl overflow-hidden border border-slate-100 dark:border-slate-800 shadow-lg shadow-blue-900/5 group relative",children:[o.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-50 dark:bg-slate-800",children:[d&&o.jsxs("div",{className:"absolute top-2 right-2 md:top-3 md:right-3 z-10 bg-blue-600 text-white text-[10px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1 rounded-full shadow-lg shadow-blue-600/20",children:[u,"% OFF"]}),o.jsx("button",{onClick:m=>{m.stopPropagation(),n(t)},className:`absolute top-2 left-2 md:top-3 md:left-3 z-10 p-1.5 md:p-2 rounded-full backdrop-blur-md transition-colors ${s?"bg-rose-500/10 text-rose-500":"bg-white/30 text-slate-600 hover:bg-white/50"}`,children:o.jsx(ff,{className:`w-4 h-4 md:w-5 md:h-5 ${s?"fill-current":""}`})}),o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-gradient-to-t from-slate-900/80 to-transparent flex gap-2 justify-center",children:o.jsxs(W,{onClick:()=>e({...t,price:d?h:a(c)}),size:"sm",className:"bg-white text-slate-900 hover:bg-blue-50 hover:text-blue-600 rounded-full font-bold shadow-lg",children:[o.jsx(mu,{className:"w-4 h-4 mr-2"})," ",r[i].addToCart]})})]}),o.jsxs("div",{className:"p-3 md:p-5",children:[o.jsxs("div",{className:"mb-1 md:mb-2 flex items-center gap-1",children:[o.jsx(ic,{className:"w-3 h-3 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"4.8"})]}),o.jsx(Kt,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-sm md:text-base text-slate-900 dark:text-white mb-1 md:mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:t.name})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-1 md:gap-2",children:[o.jsx("span",{className:"text-base md:text-xl font-extrabold text-blue-600",children:d?h:a(c)}),d&&o.jsx("span",{className:"text-xs md:text-sm text-slate-400 line-through",children:a(c)})]})]})]})},mfe=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{var x,y;const[d,h]=p.useState(null),m=d?t.filter(w=>w.category===d):t,g=t.filter(w=>Number(w.discount)>0).slice(0,4);return o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 font-sans",children:[o.jsxs("div",{className:"relative overflow-hidden bg-slate-900 text-white min-h-[500px] flex items-center",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[n.backgroundImageUrl||(x=n.bannerImages)!=null&&x[0]?o.jsx("img",{src:n.backgroundImageUrl||((y=n.bannerImages)==null?void 0:y[0]),alt:"Hero",className:"w-full h-full object-cover opacity-40"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900 via-indigo-900 to-slate-900"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10 grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs(de.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[o.jsxs(In,{className:"mb-4 bg-blue-600/20 text-blue-400 border-blue-500/30 px-3 py-1 text-sm",children:[o.jsx(a0,{className:"w-3 h-3 mr-1"})," New Collection"]}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight tracking-tight",children:n.title||(r==="ar"?"   ":"Next Gen Tech is Here")}),o.jsx("p",{className:"text-lg text-slate-300 mb-8 max-w-lg leading-relaxed",children:n.subtitle||(r==="ar"?"        .":"Discover our premium collection of smartphones and accessories at the best prices.")}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(W,{className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-8 h-12 text-lg shadow-lg shadow-blue-600/25",children:n.ctaText||s[r].shopNow}),o.jsx(W,{variant:"outline",className:"border-slate-700 text-white hover:bg-slate-800 rounded-full px-8 h-12 text-lg",children:r==="ar"?" ":"View Offers"})]})]}),o.jsx(de.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"hidden md:block relative",children:o.jsx("div",{className:"relative z-10 bg-gradient-to-tr from-slate-800 to-slate-700 rounded-[2.5rem] p-4 shadow-2xl border border-slate-600 rotate-[-6deg] w-[300px] mx-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-[2rem] h-[550px] overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center text-slate-600",children:o.jsx(Xw,{className:"w-16 h-16 opacity-20"})}),g[0]&&o.jsx("img",{src:g[0].image,className:"w-full h-full object-cover",alt:""})]})})})]})]}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:r==="ar"?"  ":"Browse by Category"}),o.jsx("div",{className:"w-20 h-1 bg-blue-600 mx-auto rounded-full"})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[o.jsx("button",{onClick:()=>h(null),className:`px-6 py-3 rounded-2xl transition-all ${d?"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700":"bg-blue-600 text-white shadow-lg shadow-blue-600/25 scale-105"}`,children:s[r].allCategories}),e.map(w=>o.jsx("button",{onClick:()=>h(w),className:`px-6 py-3 rounded-2xl transition-all ${d===w?"bg-blue-600 text-white shadow-lg shadow-blue-600/25 scale-105":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:w},w))]})]}),g.length>0&&!d&&o.jsx("div",{className:"py-12 bg-slate-900 text-white overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(a0,{className:"text-yellow-400"}),r==="ar"?" ":"Special Offers"]}),o.jsxs(Kt,{to:"/store",className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[r==="ar"?" ":"View All"," ",o.jsx(IT,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:g.map(w=>o.jsx(kP,{product:w,onAdd:i,onToggleWishlist:a,isWishlisted:l(w.id),t:s,lang:r,formatCurrency:c,parsePrice:u},w.id))})]})}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-8",children:d||(r==="ar"?" ":"All Products")}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:m.map(w=>o.jsx(kP,{product:w,onAdd:i,onToggleWishlist:a,isWishlisted:l(w.id),t:s,lang:r,formatCurrency:c,parsePrice:u},w.id))}),m.length===0&&o.jsx("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700",children:o.jsx("p",{className:"text-slate-500",children:s[r].noProducts.default})})]})]})},pfe=({product:t,viewMode:e,onAdd:n,onToggleWishlist:s,isWishlisted:r,t:i,lang:a,formatCurrency:l,parsePrice:c})=>{const u=c(t.price),d=Number(t.discount)||0,h=d>0,m=l(u*(1-d/100));return e==="list"?o.jsxs("div",{className:"group bg-white border border-slate-200 hover:border-orange-500 rounded-lg p-4 flex items-center gap-4 transition-all hover:shadow-md",children:[o.jsx("div",{className:"w-24 h-24 shrink-0 bg-slate-100 rounded-md overflow-hidden relative",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(In,{variant:"outline",className:"rounded-sm text-[10px] uppercase tracking-wider text-slate-500",children:t.category||"Part"}),t.stock>0?o.jsxs("span",{className:"text-[10px] text-green-600 font-medium flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"})," In Stock"]}):o.jsx("span",{className:"text-[10px] text-red-600 font-medium",children:"Out of Stock"})]}),o.jsx(Kt,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-slate-900 text-lg hover:text-orange-600 truncate",children:t.name})}),o.jsxs("p",{className:"text-sm text-slate-500 line-clamp-1 mt-1",children:["Part No: ",t.id.substring(0,8).toUpperCase()]})]}),o.jsxs("div",{className:"text-right shrink-0",children:[o.jsx("div",{className:"text-xl font-bold text-slate-900 mb-2",children:h?m:l(u)}),o.jsx(W,{onClick:()=>n({...t,price:h?m:l(u)}),size:"sm",className:"bg-slate-900 hover:bg-orange-600 text-white w-full",children:i[a].addToCart})]})]}):o.jsxs("div",{className:"group bg-white border border-slate-200 hover:border-orange-500 rounded-lg overflow-hidden transition-all hover:shadow-lg",children:[o.jsxs("div",{className:"aspect-[4/3] bg-slate-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsx("button",{onClick:g=>{g.stopPropagation(),s(t)},className:`p-1.5 rounded-md ${r?"bg-rose-50 text-rose-500":"bg-white/80 text-slate-400 hover:text-rose-500"}`,children:o.jsx(ff,{className:`w-4 h-4 ${r?"fill-current":""}`})})}),o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h&&o.jsxs("div",{className:"absolute bottom-0 left-0 bg-orange-600 text-white text-xs font-bold px-2 py-1",children:["SAVE ",d,"%"]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-2",children:o.jsx(In,{variant:"secondary",className:"rounded-sm text-[10px] bg-slate-100 text-slate-600",children:t.category||"General"})}),o.jsx(Kt,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-slate-900 mb-2 line-clamp-2 hover:text-orange-600 h-10 leading-tight",children:t.name})}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("span",{className:"font-bold text-lg text-slate-900",children:h?m:l(u)}),o.jsx(W,{onClick:()=>n({...t,price:h?m:l(u)}),size:"sm",variant:"ghost",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-0 h-auto font-bold",children:i[a].addToCart})]})]})]})},gfe=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{const[d,h]=p.useState(null),[m,g]=p.useState("grid"),[x,y]=p.useState(""),w=t.filter(v=>{const _=d?v.category===d:!0,T=x?v.name.toLowerCase().includes(x.toLowerCase()):!0;return _&&T});return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[o.jsx("div",{className:"bg-slate-900 text-white py-12 border-b-4 border-orange-500",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-bold tracking-widest text-sm mb-2",children:[o.jsx(Py,{className:"w-4 h-4 animate-spin-slow"}),r==="ar"?"  ":"GENUINE SPARE PARTS"]}),o.jsx("h1",{className:"text-3xl md:text-5xl font-black mb-4 uppercase",children:n.title||(r==="ar"?"  ":"Parts Center")}),o.jsx("p",{className:"text-slate-400 max-w-lg",children:n.subtitle||(r==="ar"?"     .":"Find the exact part you need for your device repair.")})]}),o.jsxs("div",{className:"w-full md:w-auto bg-white p-4 rounded-lg shadow-xl md:min-w-[400px]",children:[o.jsx("label",{className:"text-slate-900 text-sm font-bold mb-2 block",children:r==="ar"?" ":"Quick Part Search"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ho,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),o.jsx(ce,{placeholder:r==="ar"?"   ...":"Part Name or Model...",className:"pl-9 bg-slate-50 border-slate-200 text-slate-900",value:x,onChange:v=>y(v.target.value)})]}),o.jsx(W,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:r==="ar"?"":"Search"})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8",children:[o.jsx("aside",{className:"w-full md:w-64 shrink-0",children:o.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden sticky top-24",children:[o.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 font-bold text-slate-800 flex items-center gap-2",children:[o.jsx(hf,{className:"w-4 h-4"})," ",s[r].categories]}),o.jsxs("div",{className:"divide-y divide-slate-100",children:[o.jsx("button",{onClick:()=>h(null),className:`w-full text-left px-4 py-3 text-sm hover:bg-orange-50 hover:text-orange-700 transition-colors flex justify-between items-center ${d?"text-slate-600":"font-bold text-orange-700 bg-orange-50"}`,children:s[r].allCategories}),e.map(v=>o.jsxs("button",{onClick:()=>h(v),className:`w-full text-left px-4 py-3 text-sm hover:bg-orange-50 hover:text-orange-700 transition-colors flex justify-between items-center ${d===v?"font-bold text-orange-700 bg-orange-50":"text-slate-600"}`,children:[v,o.jsx("span",{className:"bg-slate-100 text-slate-500 text-[10px] px-1.5 py-0.5 rounded-full",children:t.filter(_=>_.category===v).length})]},v))]})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-3 rounded-lg border border-slate-200",children:[o.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing ",o.jsx("span",{className:"text-slate-900 font-bold",children:w.length})," parts"]}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-md",children:[o.jsx("button",{onClick:()=>g("grid"),className:`p-1.5 rounded ${m==="grid"?"bg-white shadow-sm text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:o.jsx(tG,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g("list"),className:`p-1.5 rounded ${m==="list"?"bg-white shadow-sm text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:o.jsx(sG,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:m==="grid"?"grid grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:w.map(v=>o.jsx(pfe,{product:v,viewMode:m,onAdd:i,onToggleWishlist:a,isWishlisted:l(v.id),t:s,lang:r,formatCurrency:c,parsePrice:u},v.id))}),w.length===0&&o.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-slate-200 rounded-lg",children:[o.jsx(fG,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No parts found"}),o.jsx("p",{className:"text-slate-500",children:"Try adjusting your search or category."})]})]})]})]})},yfe=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i})=>{const a=Rn(),l=Us(t.price),c=Number(t.discount)||0,u=c>0,d=xt(l*(1-c/100)),h=()=>{e({...t,price:u?d:xt(l)},!1),a("/store/checkout")},m=()=>{e({...t,price:u?d:xt(l)})};return o.jsxs(de.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group flex flex-col h-full bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/60 border border-slate-100 hover:-translate-y-1 transition-all duration-300",children:[o.jsxs("div",{className:"relative aspect-[4/5] mb-0 overflow-hidden bg-slate-100",children:[u&&o.jsxs("div",{className:`absolute top-3 ${i==="ar"?"right-3":"left-3"} z-10 bg-gradient-to-r from-rose-500 to-pink-500 text-white text-xs font-bold px-3 py-1.5 rounded-xl shadow-lg shadow-rose-500/20`,children:["-",c,"%"]}),o.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),n&&n(t)},className:`absolute top-3 ${i==="ar"?"left-3":"right-3"} z-20 w-9 h-9 flex items-center justify-center rounded-xl shadow-lg transition-all duration-300 ${s?"bg-rose-50 text-rose-500":"bg-white/90 backdrop-blur-sm text-slate-400 hover:bg-white hover:text-rose-500 hover:scale-110"}`,children:o.jsx(ff,{className:`w-5 h-5 ${s?"fill-current":""}`})}),o.jsx(Kt,{to:`/store/product/${t.id}`,className:"block h-full w-full",children:o.jsx("img",{src:t.image,alt:t.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 hidden md:flex gap-3 z-10 items-center",children:[o.jsx(W,{onClick:m,className:"w-11 h-11 shrink-0 bg-white/95 backdrop-blur-sm text-slate-900 hover:bg-teal-50 hover:text-teal-700 shadow-xl shadow-slate-900/10 rounded-full flex items-center justify-center transition-all hover:scale-110",children:o.jsx(mu,{className:"w-5 h-5"})}),o.jsx(W,{onClick:h,className:"flex-1 bg-slate-900/95 backdrop-blur-sm text-white hover:bg-slate-800 shadow-xl shadow-slate-900/10 text-sm h-11 rounded-xl font-bold transition-all hover:scale-105",children:r[i].buyNow})]})]}),o.jsxs("div",{className:"flex flex-col flex-1 p-3",children:[o.jsx(Kt,{to:`/store/product/${t.id}`,className:"block mb-1",children:o.jsx("h3",{className:"text-sm font-bold text-slate-900 line-clamp-2 leading-tight group-hover:text-teal-600 transition-colors",children:t.name})}),o.jsxs("div",{className:"mt-auto",children:[u?o.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2 gap-y-0 mb-1",children:[o.jsx("span",{className:"text-lg font-extrabold text-teal-600",children:d}),o.jsx("span",{className:"text-xs text-slate-400 line-through decoration-slate-400/50 font-medium",children:xt(l)})]}):o.jsx("p",{className:"text-lg font-extrabold text-slate-900 mb-1",children:xt(l)}),o.jsxs("div",{className:"flex items-center gap-3 mt-1 md:hidden",children:[o.jsx("button",{onClick:m,className:"text-slate-400 hover:text-teal-600 transition-colors p-1",children:o.jsx(mu,{className:"w-6 h-6"})}),o.jsx(W,{onClick:h,className:"flex-1 bg-gradient-to-r from-teal-500 to-emerald-500 text-white hover:from-teal-600 hover:to-emerald-600 text-xs h-8 font-bold rounded-lg gap-1 shadow-lg shadow-teal-500/20 active:scale-95 transition-all p-0",children:r[i].buyNow})]})]})]})]})},DP=()=>{var P,$;const{addToCart:t,filtersOpen:e,store:n,banner:s,searchQuery:r,categories:i,toggleWishlist:a,isInWishlist:l,lang:c}=rr(),u=c||"en",d={en:{filters:"Filters",categories:"Categories",allCategories:"All Categories",priceRange:"Price Range",sortBy:"Sort By",sort:{featured:"Sort: Featured",lowHigh:"Price: Low to High",highLow:"Price: High to Low"},addToCart:"Add to Cart",noProducts:{search:"No products found matching",category:"No products found in",default:"No products available yet."},welcome:"Welcome",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",shopNow:"Shop Now",buyNow:"Buy Now"},ar:{filters:"",categories:"",allCategories:" ",priceRange:" ",sortBy:" ",sort:{featured:": ",lowHigh:":   ",highLow:":   "},addToCart:" ",noProducts:{search:"   ",category:"    ",default:"    ."},welcome:" ",subtitle:"    .    .",shopNow:" ",buyNow:" "}},h=ds(),m=Rn(),x=new URLSearchParams(h.search).get("category"),[y,w]=p.useState([0,1e5]),[v,_]=p.useState(0),[T,N]=p.useState({title:"Summer Collection 2025",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",ctaText:"Shop Now",bannerImages:[],backgroundImageUrl:"",bannerPos:{x:50,y:50}});p.useEffect(()=>{if(_(0),T.bannerImages&&T.bannerImages.length>1){const H=setInterval(()=>{_(O=>(O+1)%T.bannerImages.length)},1e3);return()=>clearInterval(H)}},[T.bannerImages]),p.useEffect(()=>{s&&N(H=>({...H,...s,bannerImages:s.bannerImages||H.bannerImages,backgroundImageUrl:s.backgroundImageUrl&&!s.backgroundImageUrl.includes("supabase")?s.backgroundImageUrl:H.backgroundImageUrl,bannerPos:s.bannerPos||H.bannerPos}))},[s]),p.useEffect(()=>{if(s)return;(async()=>{try{const O=Ke(ue,"banners","default"),q=await sr(O);if(q.exists()){const B=q.data();N(K=>({...K,title:B.title??K.title,subtitle:B.subtitle??K.subtitle,ctaText:B.ctaText??K.ctaText,bannerImages:B.bannerImages||K.bannerImages,backgroundImageUrl:B.backgroundImageUrl&&!B.backgroundImageUrl.includes("supabase")?B.backgroundImageUrl:K.backgroundImageUrl,bannerPos:B.bannerPos||K.bannerPos}))}}catch{}})()},[s]);const[C,j]=p.useState([]);p.useEffect(()=>{if(!(n!=null&&n.id))return;const H=rt(ue,"stores",n.id,"categories"),O=Ft(H,q=>{j(q.docs.map(B=>B.data().name))});return()=>O()},[n==null?void 0:n.id]);const[S,E]=p.useState([]);p.useEffect(()=>{if(!(n!=null&&n.id)){E([]);return}(async()=>{try{await Mu(rt(ue,"store_visits"),{storeId:n.id,createdAt:Date.now()})}catch{}})();const H=rt(ue,"stores",n.id,"products"),O=Ft(H,q=>{const B=q.docs.map(K=>{const ie=K.data();return ie.image&&ie.image.includes("supabase")&&(ie.image=""),{id:K.id,...ie}});E(B)});return()=>O()},[n==null?void 0:n.id]);const I=()=>o.jsxs("div",{className:"space-y-8 bg-white p-6 rounded-2xl shadow-xl shadow-slate-200/60 border border-slate-100",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-slate-900",children:d[u].categories}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(vl,{id:"all",checked:!x,onCheckedChange:()=>m(h.pathname),className:"border-slate-300 data-[state=checked]:bg-teal-600 data-[state=checked]:border-teal-600"}),o.jsx(re,{htmlFor:"all",className:`text-sm cursor-pointer transition-colors ${x?"text-slate-600 hover:text-slate-900":"font-bold text-teal-600"}`,onClick:()=>m(h.pathname),children:d[u].allCategories})]}),C.map(H=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(vl,{id:H,checked:x===H,onCheckedChange:()=>m(`${h.pathname}?category=${encodeURIComponent(H)}`),className:"border-slate-300 data-[state=checked]:bg-teal-600 data-[state=checked]:border-teal-600"}),o.jsx(re,{htmlFor:H,className:`text-sm cursor-pointer transition-colors ${x===H?"font-bold text-teal-600":"text-slate-600 hover:text-slate-900"}`,onClick:()=>m(`${h.pathname}?category=${encodeURIComponent(H)}`),children:H})]},H))]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-slate-900",children:d[u].priceRange}),o.jsx(LF,{defaultValue:[0,1e5],max:1e5,step:50,value:y,onValueChange:w,className:"mb-6"}),o.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-slate-600",children:[o.jsx("span",{className:"bg-slate-100 px-3 py-1 rounded-lg",children:xt(y[0])}),o.jsx("span",{className:"bg-slate-100 px-3 py-1 rounded-lg",children:xt(y[1])})]})]})]}),[R,k]=p.useState("featured"),M=S.filter(H=>{if(r&&!H.name.toLowerCase().includes(r.toLowerCase())||x&&H.category!==x)return!1;const O=Us(H.price);return!(O<y[0]||O>y[1])}).sort((H,O)=>R==="lowHigh"?Us(H.price)-Us(O.price):R==="highLow"?Us(O.price)-Us(H.price):0);return(n==null?void 0:n.template)==="mobile"?o.jsx(mfe,{products:S,categories:C,banner:T,t:d,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:xt,parsePrice:Us}):(n==null?void 0:n.template)==="spare_parts"?o.jsx(gfe,{products:S,categories:C,banner:T,t:d,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:xt,parsePrice:Us}):o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 pt-4 md:pt-8",children:[o.jsx("aside",{className:`hidden ${e?"md:block":"md:hidden"} w-64 shrink-0`,children:o.jsxs("div",{className:"sticky top-24",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(lC,{className:"w-5 h-5"}),o.jsx("span",{className:"font-bold text-lg",children:d[u].filters})]}),o.jsx(I,{})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-2xl text-white p-8 md:p-12 mb-8 relative overflow-hidden min-h-[250px] md:min-h-[400px] flex flex-col justify-center w-full transition-all duration-1000 ease-in-out",style:{backgroundImage:T.bannerImages&&T.bannerImages.length>0?`url(${T.bannerImages[v]})`:T.backgroundImageUrl?`url(${T.backgroundImageUrl})`:void 0,backgroundSize:"cover",backgroundPosition:`${((P=T.bannerPos)==null?void 0:P.x)??50}% ${(($=T.bannerPos)==null?void 0:$.y)??50}%`,backgroundColor:T.bannerImages&&T.bannerImages.length>0||T.backgroundImageUrl?void 0:"#0f172a"},children:[o.jsxs("div",{className:"relative z-10 max-w-lg w-full mx-auto md:mx-0 text-center md:text-left",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-4 md:mb-6 leading-tight break-words drop-shadow-md",children:T.title||(n==null?void 0:n.name)||d[u].welcome}),o.jsx("p",{className:"text-slate-100 mb-8 md:mb-10 text-lg md:text-xl font-medium line-clamp-3 break-words drop-shadow-sm",children:T.subtitle||d[u].subtitle}),o.jsx(W,{className:"bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-400 hover:to-emerald-500 text-white px-6 py-2 text-base font-bold h-auto w-full md:w-auto rounded-full shadow-[0_0_20px_rgba(20,184,166,0.5)] hover:shadow-[0_0_30px_rgba(20,184,166,0.7)] hover:scale-105 transition-all duration-300 border border-white/20",children:T.ctaText||d[u].shopNow})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t md:bg-gradient-to-r from-slate-900/90 via-slate-900/50 to-transparent"})]}),o.jsx("div",{className:"flex justify-end mb-6 md:hidden",children:o.jsxs(_g,{children:[o.jsx(Tg,{asChild:!0,children:o.jsx(W,{variant:"outline",size:"icon",className:"w-10 h-10 rounded-full bg-white border-slate-200 shadow-sm text-slate-700 hover:bg-slate-50",children:o.jsx(lC,{className:"w-5 h-5"})})}),o.jsxs(qh,{side:u==="ar"?"right":"left",className:"overflow-y-auto",children:[o.jsx(Hh,{className:"mb-6 text-left rtl:text-right",children:o.jsx(Gh,{children:d[u].filters})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-3 text-slate-900",children:d[u].sortBy}),o.jsx("div",{className:"space-y-2",children:[{id:"featured",label:d[u].sort.featured},{id:"lowHigh",label:d[u].sort.lowHigh},{id:"highLow",label:d[u].sort.highLow}].map(H=>o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${R===H.id?"bg-teal-50 border border-teal-200":"bg-slate-50 border border-transparent hover:bg-slate-100"}`,onClick:()=>k(H.id),children:[o.jsx("span",{className:`text-sm ${R===H.id?"font-bold text-teal-700":"text-slate-700"}`,children:H.label}),R===H.id&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-600"})]},H.id))})]}),o.jsx("div",{className:"border-t border-slate-100 pt-6",children:o.jsx(I,{})})]})]})]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 md:gap-6",children:M.length===0?o.jsx("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 text-center py-12 text-slate-500 bg-slate-50 rounded-lg",children:o.jsx("p",{children:r?`${d[u].noProducts.search} "${r}"`:x?`${d[u].noProducts.category} "${x}"`:d[u].noProducts.default})}):M.map(H=>o.jsx(yfe,{product:{id:H.id,name:H.name||"Product",price:H.price||"EGP 0.00",image:H.image||"https://images.unsplash.com/photo-1491553895911-0055eca6402d?auto=format&fit=crop&q=80&w=600",discount:typeof H.discount=="number"?H.discount:0},onAdd:t,onToggleWishlist:a,isWishlisted:l(H.id),t:d,lang:u},H.id))})]})]})})},MP=()=>{const{id:t}=O$(),{addToCart:e,lang:n,storeSubdomain:s}=rr(),{toast:r}=qt(),[i,a]=p.useState(1),[l,c]=p.useState(0),[u,d]=p.useState(null),[h,m]=p.useState(null),[g,x]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t)if(s){x(!0);try{const j=Ke(ue,"stores",s,"products",t),S=await sr(j);if(S.exists()){const E=S.data();m({id:S.id,...E,images:E.images||(E.image?[E.image]:[]),sizes:Array.isArray(E.sizes)?E.sizes:E.size?[E.size]:[]})}}catch(j){console.error("Error fetching product:",j)}finally{x(!1)}}else m({id:parseInt(t)||1,name:"Classic White Sneakers",price:89,discount:0,description:"Experience ultimate comfort and style with these premium classic white sneakers.",images:["https://images.unsplash.com/photo-1549298916-b41d501d3772?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1560769629-975ec94e6a86?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1600185365483-26d7a4cc7519?auto=format&fit=crop&q=80&w=800"],sizes:["US 7","US 8","US 9","US 10","US 11"],reviews:124,rating:4.8}),x(!1)})()},[t,s]);const y={en:{backToShop:"Back to Shop",reviews:"reviews",save:"Save",addToCart:"Add to Cart",addedToCart:"Added to Cart",addedToCartDesc:"has been added to your cart.",freeShipping:"Free Shipping",freeShippingDesc:"On orders over 1000 EGP",securePayment:"Secure Payment",securePaymentDesc:"100% protected payments",sizeSelection:"Select Size",selectSizeError:"Please select a size"},ar:{backToShop:" ",reviews:"",save:"",addToCart:" ",addedToCart:"  ",addedToCartDesc:"    .",freeShipping:" ",freeShippingDesc:"   1000 ",securePayment:" ",securePaymentDesc:"  100%",sizeSelection:" ",selectSizeError:"  "}};if(g||!h)return o.jsx("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center min-h-[50vh]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})});const w=Number(h.price)||0,v=Number(h.discount)||0,_=v>0,T=xt(w*(1-v/100)),N=()=>{if(h.sizes&&h.sizes.length>0&&!u){r({title:y[n].selectSizeError,description:y[n].selectSizeError,variant:"destructive"});return}e({...h,image:h.images[0],price:_?T:xt(w),selectedSize:u,quantity:i}),r({title:y[n].addedToCart,description:`${h.name} ${y[n].addedToCartDesc}`,variant:"success"})};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs(Kt,{to:"/store",className:"inline-flex items-center text-sm text-slate-500 hover:text-teal-600 mb-8 transition-colors",children:[o.jsx(HH,{className:"w-4 h-4 mr-2"})," Back to Shop"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"aspect-square bg-slate-100 rounded-2xl overflow-hidden relative",children:o.jsx("img",{src:h.images[l],alt:h.name,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-700"})},l),o.jsx("div",{className:"grid grid-cols-4 gap-4",children:h.images.map((C,j)=>o.jsx("button",{onClick:()=>c(j),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${l===j?"border-teal-600 ring-2 ring-teal-600/20":"border-transparent hover:border-slate-300"}`,children:o.jsx("img",{src:C,alt:"",className:"w-full h-full object-cover"})},j))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-yellow-400",children:[o.jsx(ic,{className:"w-4 h-4 fill-current"}),o.jsx(ic,{className:"w-4 h-4 fill-current"}),o.jsx(ic,{className:"w-4 h-4 fill-current"}),o.jsx(ic,{className:"w-4 h-4 fill-current"}),o.jsx(ic,{className:"w-4 h-4 fill-current"})]}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",h.reviews," reviews)"]})]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-4 tracking-tight",children:h.name}),_?o.jsxs("div",{className:"mb-6 flex items-baseline gap-3",children:[o.jsx("span",{className:"text-3xl font-extrabold text-teal-600",children:T}),o.jsx("span",{className:"text-lg text-slate-400 line-through decoration-slate-400/50",children:xt(w)}),o.jsxs("span",{className:"bg-rose-100 text-rose-600 text-xs font-bold px-2 py-1 rounded-lg",children:["Save ",v,"%"]})]}):o.jsx("div",{className:"mb-6",children:o.jsx("span",{className:"text-3xl font-extrabold text-slate-900",children:xt(w)})}),o.jsx("p",{className:"text-slate-600 leading-relaxed mb-8 text-lg",children:h.description}),o.jsxs("div",{className:"space-y-6 border-t border-slate-100 pt-8",children:[h.sizes&&h.sizes.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-bold text-lg text-slate-900",children:y[n].sizeSelection}),o.jsx("div",{className:"flex flex-wrap gap-3",children:h.sizes.map(C=>o.jsx("button",{onClick:()=>d(C),className:`px-4 py-2 border rounded-md text-sm font-medium transition-colors ${u===C?"bg-teal-600 text-white border-teal-600":"bg-white text-slate-700 border-slate-300 hover:border-teal-500"}`,children:C},C))}),!u&&o.jsx("p",{className:"text-rose-500 text-sm animate-pulse",children:y[n].selectSizeError})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center border border-slate-200 rounded-xl bg-white shadow-sm",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:text-teal-600 hover:bg-slate-50 rounded-l-xl transition-colors",children:o.jsx(aG,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-12 text-center font-bold text-lg",children:i}),o.jsx("button",{onClick:()=>a(i+1),className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:text-teal-600 hover:bg-slate-50 rounded-r-xl transition-colors",children:o.jsx(qo,{className:"w-4 h-4"})})]}),o.jsx(W,{onClick:N,className:"flex-1 h-12 bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-teal-600/20 transition-all hover:-translate-y-0.5 active:translate-y-0",children:y[n].addToCart})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-teal-600",children:o.jsx(rl,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900",children:y[n].freeShipping}),o.jsx("p",{className:"text-xs text-slate-500",children:y[n].freeShippingDesc})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-teal-600",children:o.jsx(lG,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900",children:y[n].securePayment}),o.jsx("p",{className:"text-xs text-slate-500",children:y[n].securePaymentDesc})]})]})]})]})]})]})]})},OP=()=>{const{storeSubdomain:t,store:e,lang:n}=rr()||{},{cartItems:s,cartTotal:r}=ffe(),{toast:i}=qt(),a=Rn(),[l,c]=p.useState(1),[u,d]=p.useState(!1),[h,m]=p.useState(""),[g,x]=p.useState(""),[y,w]=p.useState(""),[v,_]=p.useState(""),[T,N]=p.useState(""),C={en:{checkoutTitle:"Checkout",orderSent:"Order Sent",orderSentDesc:"Sales department will contact you soon to confirm the order.",backToStore:"Back to Store",contactInfo:"Contact Information",fullName:"Full Name",fullNamePlaceholder:"Enter your name",phone:"Phone Number",phonePlaceholder:"05xxxxxxxx",altPhone:"Alternative Phone",altPhonePlaceholder:"Alternative contact number",address:"Address",addressPlaceholder:"Enter your address",notes:"Notes",notesPlaceholder:"Any additional details",orderSummary:"Order Summary",qty:"Qty",subtotal:"Subtotal",shipping:"Shipping",free:"Free",total:"Total",placeOrder:"Place Order",sending:"Sending...",secureCheckout:"Secure Checkout",emptyCart:"Your cart is empty",returnToShop:"Return to Shop",orderSuccessTitle:"Order Placed Successfully",errorTitle:"Error sending order",errorDesc:"Please try again later or contact support."},ar:{checkoutTitle:" ",orderSent:"  ",orderSentDesc:"      .",backToStore:" ",contactInfo:" ",fullName:" ",fullNamePlaceholder:" ",phone:" ",phonePlaceholder:"05xxxxxxxx",altPhone:" ",altPhonePlaceholder:"  ",address:"",addressPlaceholder:" ",notes:"",notesPlaceholder:"   ",orderSummary:" ",qty:"",subtotal:" ",shipping:"",free:"",total:"",placeOrder:" ",sending:" ...",secureCheckout:" ",emptyCart:"  ",returnToShop:" ",orderSuccessTitle:"  ",errorTitle:"   ",errorDesc:"        ."}},j=S=>{S.preventDefault(),d(!0),(async()=>{try{const E=s.map(k=>({id:k.id||"unknown",name:k.name||"Unknown Product",quantity:k.quantity||1,price:k.price||"0",image:k.image||"",selectedSize:k.selectedSize||null})),I={customerName:h,phone:g,altPhone:y,address:v,notes:T,items:E,total:r,status:"Pending",createdAt:Date.now(),storeSubdomain:t||null,storeId:(e==null?void 0:e.id)||t||null,store:t||null,storeName:(e==null?void 0:e.name)||t||null};let R=null;for(let k=0;k<3&&!R;k++)try{R=await Mu(rt(ue,"orders"),I)}catch(M){console.error("Order submission error:",M),await new Promise(P=>setTimeout(P,500*(k+1)))}if(R){if(t){try{await Ja(Ke(ue,"stores",t),{orders:Tj(1),revenue:Tj(r)})}catch{}try{await Ml(Ke(ue,"stores",t,"orders",R.id),{...I,rootOrderId:R.id})}catch{}}c(3),i({title:C[n].orderSuccessTitle,description:C[n].orderSentDesc,variant:"success"})}else i({title:"Error sending order",description:"Please try again later or contact support.",variant:"destructive"})}catch(E){console.error("Final order submission error:",E),i({title:"Error sending order",description:E.message||"Unknown error occurred",variant:"destructive"})}finally{d(!1)}})()};return s.length===0&&l!==3?o.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(rl,{className:"w-12 h-12 text-slate-400"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4 text-slate-900",children:"Your cart is empty"}),o.jsx(Kt,{to:"/store",children:o.jsx(W,{className:"bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white px-8 py-6 rounded-xl text-lg font-bold shadow-lg shadow-teal-600/20 transition-all hover:-translate-y-0.5",children:"Return to Shop"})})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[l<3&&o.jsx("h1",{className:"text-3xl font-extrabold mb-8 text-center text-slate-900",children:"  "}),l===3?o.jsxs(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto text-center py-12 bg-white rounded-2xl shadow-xl shadow-slate-200/60 border border-slate-100 p-8",children:[o.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100",children:o.jsx(qa,{className:"w-12 h-12 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-900",children:"  "}),o.jsx("p",{className:"text-slate-500 mb-8 text-lg",children:"       ."}),o.jsx(W,{onClick:()=>a("/store"),className:"w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white h-12 rounded-xl font-bold shadow-lg shadow-teal-600/20",children:"  "})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center mb-8 justify-center lg:justify-start",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=1?"bg-gradient-to-tr from-teal-600 to-emerald-600 text-white shadow-lg shadow-teal-600/30":"bg-slate-200"} font-bold text-lg`,children:"1"}),o.jsx("div",{className:"h-1 w-16 bg-slate-200 mx-2 rounded-full"}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=2?"bg-gradient-to-tr from-teal-600 to-emerald-600 text-white shadow-lg shadow-teal-600/30":"bg-slate-100 text-slate-400"} font-bold text-lg border-2 border-slate-200`,children:"2"})]}),o.jsx("form",{id:"checkout-form",onSubmit:j,className:"space-y-6",children:o.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white p-8 rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/60",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-slate-900",children:[o.jsx("div",{className:"p-2 bg-teal-50 rounded-lg text-teal-600",children:o.jsx(rl,{className:"w-6 h-6"})})," "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ce,{required:!0,placeholder:" ",value:h,onChange:S=>m(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ce,{required:!0,placeholder:"05xxxxxxxx",value:g,onChange:S=>x(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ce,{placeholder:"  ",value:y,onChange:S=>w(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:""}),o.jsx(ce,{required:!0,placeholder:" ",value:v,onChange:S=>_(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:""}),o.jsx(ce,{placeholder:"   ",value:T,onChange:S=>N(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]})]})]})})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"sticky top-24",children:o.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100 shadow-inner",children:[o.jsx("h3",{className:"font-bold text-lg mb-6 text-slate-900",children:C[n].orderSummary}),o.jsx("div",{className:"space-y-4 mb-6 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:s.map(S=>o.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-xl border border-slate-100 shadow-sm",children:[o.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-lg overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-bold text-slate-900 line-clamp-1",children:S.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:[C[n].qty,": ",S.quantity]}),S.selectedSize&&o.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 bg-slate-100 text-slate-600 rounded border border-slate-200",children:S.selectedSize})]})]}),o.jsx("div",{className:"text-sm font-bold text-teal-600",children:xt(Us(S.price)*S.quantity)})]},S.cartItemId||S.id))}),o.jsxs("div",{className:"space-y-3 border-t border-slate-200 pt-6 mb-8",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 font-medium",children:C[n].subtotal}),o.jsx("span",{className:"font-bold text-slate-900",children:xt(r)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 font-medium",children:C[n].shipping}),o.jsx("span",{className:"font-bold text-teal-600",children:C[n].free})]}),o.jsxs("div",{className:"flex justify-between text-xl font-extrabold pt-2 text-slate-900",children:[o.jsx("span",{children:C[n].total}),o.jsx("span",{children:xt(r)})]})]}),o.jsx(W,{type:"submit",form:"checkout-form",className:"w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white h-12 rounded-xl font-bold shadow-lg shadow-teal-600/20 transition-all hover:-translate-y-0.5",disabled:u,children:u?C[n].sending:C[n].placeOrder}),o.jsxs("p",{className:"text-center text-xs text-slate-400 mt-4 flex items-center justify-center gap-1",children:[o.jsx(qa,{className:"w-3 h-3"})," ",C[n].secureCheckout]})]})})})]})]})},vfe=({language:t="ar"})=>{const[e,n]=p.useState(""),[s,r]=p.useState(""),[i,a]=p.useState(!1),l=Rn(),{toast:c}=qt(),u={ar:{title:" ",email:" ",password:" ",submit:""},en:{title:"Login",email:"Email",password:"Password",submit:"Sign in"}},d=async m=>{m.preventDefault(),a(!0);try{const x=(await f5(Nt,e,s)).user,y=await sr(Ke(ue,"users",x.uid));if(y.exists()&&y.data().status==="pending"){await NE(Nt),l("/activation-pending");return}c({title:t==="ar"?"   ":"Logged in successfully"}),l("/dashboard")}catch(g){const x=(g==null?void 0:g.code)||"";let y=t==="ar"?"  ":"Login failed";x==="auth/user-not-found"?y=t==="ar"?"    ":"No user found for this email":x==="auth/wrong-password"?y=t==="ar"?"   ":"Incorrect password":x==="auth/too-many-requests"&&(y=t==="ar"?"    ":"Too many attempts, please try again later"),c({title:y})}finally{a(!1)}},h=u[t]||u.ar;return o.jsx("div",{className:`min-h-screen bg-slate-900 flex items-center justify-center p-4 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(We,{className:"bg-slate-800 border-slate-700 text-white",children:o.jsxs(Xe,{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-teal-400",children:h.title}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:h.email}),o.jsx(ce,{type:"email",value:e,onChange:m=>n(m.target.value),placeholder:"name@example.com",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:h.password}),o.jsx(ce,{type:"password",value:s,onChange:m=>r(m.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsx(W,{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700",children:i?"...":h.submit})]})]})})})})},xfe=({language:t="ar"})=>{const[e,n]=p.useState(""),[s,r]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(!1),u=Rn(),{toast:d}=qt(),h={ar:{title:" ",name:"",email:" ",password:" ",submit:""},en:{title:"Sign Up",name:"Name",email:"Email",password:"Password",submit:"Create account"}},m=async x=>{x.preventDefault(),c(!0);try{const y=await BZ(Nt,s,i);e&&await qZ(y.user,{displayName:e});const w={uid:y.user.uid,email:s,name:e||"",createdAt:kf(),role:"user",status:"pending"};let v=!1;for(let _=0;_<3&&!v;_++)try{await Ml(Ke(ue,"users",y.user.uid),w),v=!0}catch{await new Promise(N=>setTimeout(N,400*(_+1)))}d(v?{title:t==="ar"?"   ":"Account created successfully"}:{title:t==="ar"?"       ":"Account created, but saving user data failed temporarily"}),u("/activation-pending")}catch(y){const w=(y==null?void 0:y.code)||"";let v=t==="ar"?"   ":"Sign up failed";w==="auth/email-already-in-use"?v=t==="ar"?"   ":"Email already in use":w==="auth/invalid-email"?v=t==="ar"?"   ":"Invalid email address":w==="auth/weak-password"?v=t==="ar"?"  ":"Weak password":w==="auth/operation-not-allowed"&&(v=t==="ar"?"   ":"Sign-up method not enabled"),d({title:v})}finally{c(!1)}},g=h[t]||h.ar;return o.jsx("div",{className:`min-h-screen bg-slate-900 flex items-center justify-center p-4 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(We,{className:"bg-slate-800 border-slate-700 text-white",children:o.jsxs(Xe,{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-teal-400",children:g.title}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:g.name}),o.jsx(ce,{value:e,onChange:x=>n(x.target.value),placeholder:g.name,className:"bg-slate-700 border-slate-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:g.email}),o.jsx(ce,{type:"email",value:s,onChange:x=>r(x.target.value),placeholder:"name@example.com",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:g.password}),o.jsx(ce,{type:"password",value:i,onChange:x=>a(x.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsx(W,{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700",children:l?"...":g.submit})]})]})})})})},bfe=({language:t="ar"})=>{const e=Rn(),[n,s]=p.useState(""),[r,i]=p.useState(!0);p.useEffect(()=>{const h=Fi(Nt,m=>{if(m){const g=Ft(Ke(ue,"users",m.uid),x=>{x.exists()&&x.data().status==="active"&&e("/dashboard")});return()=>g()}else e("/login")});return()=>h()},[e]),p.useEffect(()=>{(async()=>{try{const m=Ke(ue,"settings","platform"),g=await sr(m);g.exists()&&s(g.data().whatsappNumber||"")}catch(m){console.error("Error fetching settings:",m)}finally{i(!1)}})()},[]);const a=async()=>{await NE(Nt),e("/login")},l=()=>{if(!n)return;const h=t==="ar"?"        .":"Hello, I just created a new account and I would like to activate it.",m=`https://wa.me/${n.replace("+","")}?text=${encodeURIComponent(h)}`;window.open(m,"_blank")},d={ar:{title:"  ",description:"        .",message:"           .",button:"   ",logout:" ",loading:" ..."},en:{title:"Account Pending Activation",description:"Your account has been created successfully but requires administrator approval.",message:"Please contact the administrator via WhatsApp to activate your account and start using the platform.",button:"Contact Admin to Activate",logout:"Logout",loading:"Loading..."}}["ar"];return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",dir:"rtl",children:o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsxs(We,{className:"border-t-4 border-t-yellow-500 shadow-xl",children:[o.jsxs(It,{className:"text-center pb-2",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(VO,{className:"w-8 h-8 text-yellow-600"})}),o.jsx(Ct,{className:"text-2xl font-bold text-slate-900",children:d.title}),o.jsx(gn,{className:"text-base mt-2",children:d.description})]}),o.jsxs(Xe,{className:"text-center space-y-6 pt-4",children:[o.jsx("p",{className:"text-slate-600",children:d.message}),r?o.jsx("p",{className:"text-sm text-slate-400",children:d.loading}):n?o.jsxs(W,{onClick:l,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold h-12 text-lg shadow-lg shadow-green-500/20",children:[o.jsx(iG,{className:"w-5 h-5 mr-2"}),d.button]}):o.jsx("p",{className:"text-sm text-red-400",children:"     ."}),o.jsxs(W,{variant:"ghost",onClick:a,className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100",children:[o.jsx(RT,{className:"w-4 h-4 mr-2"}),d.logout]})]})]})})})},wfe=()=>{const[t,e]=p.useState(""),[n,s]=p.useState(""),[r,i]=p.useState(!1),a=Rn(),{toast:l}=qt(),c=async u=>{if(u.preventDefault(),i(!0),t.toLowerCase()!=="alkaptin7878@mail.ru"){l({title:"Access Denied",description:"This account is not authorized for admin access.",variant:"destructive"}),i(!1);return}try{await f5(Nt,t,n),l({title:"Admin Login Successful",variant:"success"}),a("/admin")}catch(d){console.error(d),l({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}finally{i(!1)}};return o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 font-sans",dir:"ltr",children:o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(We,{className:"bg-slate-800 border-slate-700 text-white shadow-2xl",children:o.jsxs(Xe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20",children:o.jsx(mf,{className:"w-8 h-8 text-red-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Portal"}),o.jsx("p",{className:"text-slate-400 mt-2",children:"Restricted Access Only"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-slate-300",children:"Admin Email"}),o.jsx(ce,{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"admin@example.com",className:"bg-slate-700 border-slate-600 text-white focus:border-red-500 focus:ring-red-500/20",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-slate-300",children:"Password"}),o.jsx(ce,{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white focus:border-red-500 focus:ring-red-500/20",required:!0})]}),o.jsx(W,{type:"submit",disabled:r,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-6",children:r?"Authenticating...":"Access Dashboard"})]})]})})})})};function _fe(){const[t,e]=p.useState("en"),s=typeof window<"u"?(i=>{if(!i)return null;const a=i.split(":")[0];if(a.includes("localhost")){const c=a.split(".");return c.length>=2&&c[0]!=="www"?c[0]:null}const l=a.split(".");if(l.length>2){const c=l[0];return c==="www"?null:c}return null})(window.location.host):null,r=()=>{e(i=>i==="en"?"ar":"en")};return o.jsxs(aq,{children:[o.jsxs(Uw,{children:[o.jsx("title",{children:"StoreBuilder - Create Your Online Store in Minutes"}),o.jsx("meta",{name:"description",content:"Build your professional e-commerce store with ease. No coding required. Start selling online today with our powerful store builder platform."}),o.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),o.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Cairo:wght@400;600;700&display=swap",rel:"stylesheet"})]}),o.jsxs(J$,{children:[s?o.jsxs(Ge,{path:"/",element:o.jsx(PP,{}),children:[o.jsx(Ge,{index:!0,element:o.jsx(DP,{})}),o.jsx(Ge,{path:"product/:id",element:o.jsx(MP,{})}),o.jsx(Ge,{path:"checkout",element:o.jsx(OP,{})})]}):o.jsx(Ge,{path:"/",element:o.jsx(uX,{language:t,toggleLanguage:r})}),o.jsx(Ge,{path:"/login",element:o.jsx(vfe,{language:t})}),o.jsx(Ge,{path:"/signup",element:o.jsx(xfe,{language:t})}),o.jsx(Ge,{path:"/activation-pending",element:o.jsx(bfe,{language:t})}),o.jsx(Ge,{path:"/admin/login",element:o.jsx(wfe,{})}),o.jsxs(Ge,{path:"/admin",element:o.jsx(Hde,{}),children:[o.jsx(Ge,{index:!0,element:o.jsx(Gde,{})}),o.jsx(Ge,{path:"users",element:o.jsx(xhe,{})}),o.jsx(Ge,{path:"stores",element:o.jsx(bhe,{})}),o.jsx(Ge,{path:"pricing",element:o.jsx(whe,{})}),o.jsx(Ge,{path:"templates",element:o.jsx(Ihe,{})}),o.jsx(Ge,{path:"settings",element:o.jsx(Ahe,{})}),o.jsx(Ge,{path:"logs",element:o.jsx(Nhe,{})})]}),o.jsxs(Ge,{path:"/dashboard",element:o.jsx(Rhe,{}),children:[o.jsx(Ge,{index:!0,element:o.jsx(jhe,{})}),o.jsx(Ge,{path:"stores",element:o.jsx(Phe,{})}),o.jsx(Ge,{path:"stores/new",element:o.jsx(khe,{})}),o.jsx(Ge,{path:"products",element:o.jsx(Dhe,{})}),o.jsx(Ge,{path:"orders",element:o.jsx(Vhe,{})}),o.jsx(Ge,{path:"settings",element:o.jsx(zhe,{})}),o.jsx(Ge,{path:"banners",element:o.jsx(Bhe,{})}),o.jsx(Ge,{path:"categories",element:o.jsx($he,{})}),o.jsx(Ge,{path:"tools",element:o.jsx(cfe,{})}),o.jsx(Ge,{path:"subscription",element:o.jsx(qhe,{})})]}),o.jsxs(Ge,{path:"/store",element:o.jsx(PP,{}),children:[o.jsx(Ge,{index:!0,element:o.jsx(DP,{})}),o.jsx(Ge,{path:"product/:id",element:o.jsx(MP,{})}),o.jsx(Ge,{path:"checkout",element:o.jsx(OP,{})})]})]}),o.jsx(bG,{})]})}h7.createRoot(document.getElementById("root")).render(o.jsx(_fe,{}));
